/**
 * emlint
 * Pluggable email template code linter
 * Version: 2.0.0
 * Author: Roy Revelt, Codsen Ltd
 * License: MIT
 * Homepage: https://gitlab.com/codsen/codsen/tree/master/packages/emlint
 */

!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((r=r||self).emlint={})}(this,(function(r){"use strict";function e(r,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}function t(r){return(t=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}function a(r,e){return(a=Object.setPrototypeOf||function(r,e){return r.__proto__=e,r})(r,e)}function n(r,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r):e}function c(r){return function(r){if(Array.isArray(r)){for(var e=0,t=new Array(r.length);e<r.length;e++)t[e]=r[e];return t}}(r)||function(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=function(r,e){if(e){if("object"!=typeof e)throw new TypeError(String(e)+" is not an object. Expected an object that has boolean `includeZero` property.");if("includeZero"in e){if("boolean"!=typeof e.includeZero)throw new TypeError(String(e.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(e.includeZero&&0===r)return!0}}return Number.isSafeInteger(r)&&r>=1},i="[object Object]";var s,u,d=Function.prototype,h=Object.prototype,f=d.toString,l=h.hasOwnProperty,g=f.call(Object),p=h.toString,b=(s=Object.getPrototypeOf,u=Object,function(r){return s(u(r))});var m=function(r){if(!function(r){return!!r&&"object"==typeof r}(r)||p.call(r)!=i||function(r){var e=!1;if(null!=r&&"function"!=typeof r.toString)try{e=!!(r+"")}catch(r){}return e}(r))return!1;var e=b(r);if(null===e)return!0;var t=l.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t instanceof t&&f.call(t)==g},x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var A="[object AsyncFunction]",y="[object Function]",T="[object GeneratorFunction]",v="[object Null]",I="[object Proxy]",C="[object Undefined]",E="object"==typeof x&&x&&x.Object===Object&&x,O="object"==typeof self&&self&&self.Object===Object&&self,w=E||O||Function("return this")(),R=Object.prototype,F=R.hasOwnProperty,N=R.toString,B=w.Symbol,_=B?B.toStringTag:void 0;function S(r){return null==r?void 0===r?C:v:_&&_ in Object(r)?function(r){var e=F.call(r,_),t=r[_];try{r[_]=void 0;var a=!0}catch(r){}var n=N.call(r);a&&(e?r[_]=t:delete r[_]);return n}(r):function(r){return N.call(r)}(r)}var L=function(r){if(!function(r){var e=typeof r;return null!=r&&("object"==e||"function"==e)}(r))return!1;var e=S(r);return e==y||e==T||e==A||e==I};function j(r){if("string"==typeof r)return 0!==r.length&&(r.charCodeAt(0)>=55296&&r.charCodeAt(0)<=56319);if(void 0===r)return!1;throw new TypeError(`string-character-is-astral-surrogate/isHighSurrogate(): the input is not string but ${typeof r}`)}function k(r){if("string"==typeof r)return 0!==r.length&&(r.charCodeAt(0)>=56320&&r.charCodeAt(0)<=57343);if(void 0===r)return!1;throw new TypeError(`string-character-is-astral-surrogate/isLowSurrogate(): the input is not string but ${typeof r}`)}const P=Array.isArray;function M(r){return null!=r}function D(r){return"string"==typeof r}function H(r){return"string"==typeof r&&(r.charCodeAt(0)>=55296&&r.charCodeAt(0)<=57343)}function $(r,e,t,a,n){const c="function"==typeof t?t():t;if(e>=r.length&&n&&"EOL"===c)return c;if(!(e<=r.length)){if(a.relaxedApi)return!1;throw new Error(`string-match-left-right/marchForward(): [THROW_ID_102] second argument, fromIndexInclusive is ${e} beyond the input string length, ${r.length}.`)}{let o=n?1:t.length;for(let n=e,c=r.length;n<c;n++){let e=r[n];if(j(r[n])&&k(r[n+1])&&(e=r[n]+r[n+1]),k(r[n])&&j(r[n-1])&&(e=r[n-1]+r[n]),a.trimBeforeMatching&&""===r[n].trim())continue;if(!a.i&&a.trimCharsBeforeMatching.includes(e)||a.i&&a.trimCharsBeforeMatching.map(r=>r.toLowerCase()).includes(e.toLowerCase())){2===e.length&&(n+=1);continue}let c=t[t.length-o];if(j(c)&&M(t[t.length-o+1])&&k(t[t.length-o+1])&&(c=t[t.length-o]+t[t.length-o+1]),!(!a.i&&e===c||a.i&&e.toLowerCase()===c.toLowerCase()))return!1;if((o-=e.length)<1){let a=n-t.length+e.length;return a>=0&&k(r[a])&&M(r[a-1])&&j(r[a-1])&&(a-=1),a>=0?a:0}2===e.length&&j(r[n])&&(n+=1)}if(o>0)return!(!n||"EOL"!==c)}}function G(r,e,t,a,n){const c="function"==typeof t?t():t;if(e<0&&n&&"EOL"===c)return c;if(e>=r.length){if(a.relaxedApi)return!1;throw new Error(`string-match-left-right/marchBackward(): [THROW_ID_203] second argument, starting index, should not be beyond the last character of the input string! Currently the first argument's last character's index is ${r.length} but the second argument is beyond it:\n${JSON.stringify(e,null,4)}`)}let o=n?1:t.length;for(let c=e+1;c--;){if(a.trimBeforeMatching&&""===r[c].trim()){if(0===c&&n&&"EOL"===t)return!0;continue}let e=r[c];if(k(r[c])&&j(r[c-1])?e=r[c-1]+r[c]:j(r[c])&&k(r[c+1])&&(e=r[c]+r[c+1]),!a.i&&a.trimCharsBeforeMatching.includes(e)||a.i&&a.trimCharsBeforeMatching.map(r=>r.toLowerCase()).includes(e.toLowerCase())){if(2===e.length&&(c-=1),n&&"EOL"===t&&0===c)return!0;continue}let i=t[o-1];if(k(i)&&(i=`${t[o-2]}${t[o-1]}`,o-=1,c-=1),!(!a.i&&e===i||a.i&&e.toLowerCase()===i.toLowerCase()))return!1;if((o-=1)<1)return c>=0?c:0}return o>0?!(!n||"EOL"!==c):void 0}function W(r,e,t,a){return function(r,e,t,a,n){const c=Object.assign({},{i:!1,trimBeforeMatching:!1,trimCharsBeforeMatching:[],relaxedApi:!1},n);var i;let s,u,d,h;if(c.trimCharsBeforeMatching="string"==typeof(i=c.trimCharsBeforeMatching)?i.length>0?[i]:[]:i,c.trimCharsBeforeMatching=c.trimCharsBeforeMatching.map(r=>D(r)?r:String(r)),c.trimCharsBeforeMatching.some((r,e)=>r.length>1&&!H(r)&&(s=e,u=r,!0)))throw new Error(`string-match-left-right/${r}(): [THROW_ID_07] the fourth argument, options object contains trimCharsBeforeMatching. It was meant to list the single characters but one of the entries at index ${s} is longer than 1 character, ${u.length} (equals to ${u}). Please split it into separate characters and put into array as separate elements.`);if(!D(e)){if(c.relaxedApi)return!1;throw new Error(`string-match-left-right/${r}(): [THROW_ID_01] the first argument should be a string. Currently it's of a type: ${typeof e}, equal to:\n${JSON.stringify(e,null,4)}`)}if(0===e.length){if(c.relaxedApi)return!1;throw new Error(`string-match-left-right/${r}(): [THROW_ID_02] the first argument should be a non-empty string. Currently it's empty!`)}if(!o(t,{includeZero:!0})){if(c.relaxedApi)return!1;throw new Error(`string-match-left-right/${r}(): [THROW_ID_03] the second argument should be a natural number. Currently it's of a type: ${typeof t}, equal to:\n${JSON.stringify(t,null,4)}`)}if(D(a))d=[a];else if(P(a))d=a;else if(M(a)){if(!L(a))throw new Error(`string-match-left-right/${r}(): [THROW_ID_05] the third argument, whatToMatch, is neither string nor array of strings! It's ${typeof a}, equal to:\n${JSON.stringify(a,null,4)}`);(d=[]).push(a)}else d=a;if(M(n)&&!m(n))throw new Error(`string-match-left-right/${r}(): [THROW_ID_06] the fourth argument, options object, should be a plain object. Currently it's of a type "${typeof n}", and equal to:\n${JSON.stringify(n,null,4)}`);if(!M(d)||!P(d)||P(d)&&!d.length||P(d)&&1===d.length&&D(d[0])&&0===d[0].trim().length){if("function"==typeof c.cb){let a,n=t;if("matchRight"===r&&j(e[t])&&k(e[t+1])&&(n+=1),"matchLeftIncl"!==r&&"matchRight"!==r||(n+=1),r.startsWith("matchLeft"))for(let r=n;r--;){if(k(e[r])&&j(e[r-1]))continue;let t=e[r];if(j(e[r])&&k(e[r+1])&&(t=e[r]+e[r+1]),(!c.trimBeforeMatching||c.trimBeforeMatching&&void 0!==t&&""!==t.trim())&&(0===c.trimCharsBeforeMatching.length||void 0!==t&&!c.trimCharsBeforeMatching.includes(t))){a=r;break}k(e[r-1])&&j(e[r-2])&&(r-=1)}else if(r.startsWith("matchRight"))for(let r=n;r<e.length;r++){let t=e[r];if(j(e[r])&&k(e[r+1])&&(t=e[r]+e[r+1]),(!c.trimBeforeMatching||c.trimBeforeMatching&&""!==t.trim())&&(0===c.trimCharsBeforeMatching.length||!c.trimCharsBeforeMatching.includes(t))){a=r;break}j(e[r])&&k(e[r+1])&&(r+=1)}if(void 0===a)return!1;let o=e[a];j(e[a])&&k(e[a+1])&&(o=e[a]+e[a+1]),k(e[a])&&j(e[a-1])&&(o=e[a-1]+e[a],a-=1);let i,s=a+1;return j(e[a])&&k(e[a+1])&&(s+=1),s&&s>0&&(i=e.slice(0,s)),r.startsWith("matchLeft")?c.cb(o,i,a):(a&&a>0&&(i=e.slice(a)),c.cb(o,i,a))}let a="";throw M(n)||(a=" More so, the whole options object, the fourth input argument, is missing!"),new Error(`string-match-left-right/${r}(): [THROW_ID_08] the third argument, "whatToMatch", was given as an empty string. This means, you intend to match purely by a callback. The callback was not set though, the opts key "cb" is not set!${a}`)}if(r.startsWith("matchLeft")){for(let a=0,n=d.length;a<n;a++){h="function"==typeof d[a];const n=d[a];let o=t;"matchLeft"===r&&(H(e[a-1])&&H(e[a-2])?o-=2:o-=1);const i=G(e,o,n,c,h);if(i&&h&&"function"==typeof n&&"EOL"===n())return!(!n()||c.cb&&!c.cb(u,f,s))&&n();let s,u,f="";if(M(i)&&i>0&&(u=e[s=i-1],f=e.slice(0,i)),k(e[s])&&M(e[s-1])&&j(e[s-1])&&(u=e[(s-=1)-1]+e[s]),j(e[s])&&M(e[s+1])&&k(e[s+1])&&(u=e[s]+e[s+1],f=e.slice(0,s+2)),!1!==i&&(!c.cb||c.cb(u,f,s)))return n}return!1}for(let a=0,n=d.length;a<n;a++){h="function"==typeof d[a];const n=d[a];let o=t+("matchRight"===r?1:0);"matchRight"===r&&j(e[o-1])&&k(e[o])&&(o+=1);const i=$(e,o,n,c,h);if(i&&h&&"function"==typeof n&&"EOL"===n()){let r,e,t;return!(!n()||c.cb&&!c.cb(r,e,t))&&n()}let s,u,f;if(M(i)&&M(e[i+n.length-1])&&(u=e[s=i+n.length],j(e[s])&&k(e[s+1])&&(u=e[s]+e[s+1])),M(s)&&s>=0&&(f=e.slice(s)),!1!==i&&(!c.cb||c.cb(u,f,s)))return n}return!1}("matchRight",r,e,t,a)}var U=function(r,e){return r(e={exports:{}},e.exports),e.exports}((function(r,e){var t=200,a="__lodash_hash_undefined__",n=9007199254740991,c="[object Arguments]",o="[object Boolean]",i="[object Date]",s="[object Function]",u="[object GeneratorFunction]",d="[object Map]",h="[object Number]",f="[object Object]",l="[object RegExp]",g="[object Set]",p="[object String]",b="[object Symbol]",m="[object ArrayBuffer]",A="[object DataView]",y="[object Float32Array]",T="[object Float64Array]",v="[object Int8Array]",I="[object Int16Array]",C="[object Int32Array]",E="[object Uint8Array]",O="[object Uint8ClampedArray]",w="[object Uint16Array]",R="[object Uint32Array]",F=/\w*$/,N=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,_={};_[c]=_["[object Array]"]=_[m]=_[A]=_[o]=_[i]=_[y]=_[T]=_[v]=_[I]=_[C]=_[d]=_[h]=_[f]=_[l]=_[g]=_[p]=_[b]=_[E]=_[O]=_[w]=_[R]=!0,_["[object Error]"]=_[s]=_["[object WeakMap]"]=!1;var S="object"==typeof x&&x&&x.Object===Object&&x,L="object"==typeof self&&self&&self.Object===Object&&self,j=S||L||Function("return this")(),k=e&&!e.nodeType&&e,P=k&&r&&!r.nodeType&&r,M=P&&P.exports===k;function D(r,e){return r.set(e[0],e[1]),r}function H(r,e){return r.add(e),r}function $(r,e,t,a){var n=-1,c=r?r.length:0;for(a&&c&&(t=r[++n]);++n<c;)t=e(t,r[n],n,r);return t}function G(r){var e=!1;if(null!=r&&"function"!=typeof r.toString)try{e=!!(r+"")}catch(r){}return e}function W(r){var e=-1,t=Array(r.size);return r.forEach((function(r,a){t[++e]=[a,r]})),t}function U(r,e){return function(t){return r(e(t))}}function q(r){var e=-1,t=Array(r.size);return r.forEach((function(r){t[++e]=r})),t}var z,V=Array.prototype,K=Function.prototype,J=Object.prototype,Z=j["__core-js_shared__"],Y=(z=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",Q=K.toString,X=J.hasOwnProperty,rr=J.toString,er=RegExp("^"+Q.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tr=M?j.Buffer:void 0,ar=j.Symbol,nr=j.Uint8Array,cr=U(Object.getPrototypeOf,Object),or=Object.create,ir=J.propertyIsEnumerable,sr=V.splice,ur=Object.getOwnPropertySymbols,dr=tr?tr.isBuffer:void 0,hr=U(Object.keys,Object),fr=Pr(j,"DataView"),lr=Pr(j,"Map"),gr=Pr(j,"Promise"),pr=Pr(j,"Set"),br=Pr(j,"WeakMap"),mr=Pr(Object,"create"),xr=Gr(fr),Ar=Gr(lr),yr=Gr(gr),Tr=Gr(pr),vr=Gr(br),Ir=ar?ar.prototype:void 0,Cr=Ir?Ir.valueOf:void 0;function Er(r){var e=-1,t=r?r.length:0;for(this.clear();++e<t;){var a=r[e];this.set(a[0],a[1])}}function Or(r){var e=-1,t=r?r.length:0;for(this.clear();++e<t;){var a=r[e];this.set(a[0],a[1])}}function wr(r){var e=-1,t=r?r.length:0;for(this.clear();++e<t;){var a=r[e];this.set(a[0],a[1])}}function Rr(r){this.__data__=new Or(r)}function Fr(r,e){var t=Ur(r)||function(r){return function(r){return function(r){return!!r&&"object"==typeof r}(r)&&qr(r)}(r)&&X.call(r,"callee")&&(!ir.call(r,"callee")||rr.call(r)==c)}(r)?function(r,e){for(var t=-1,a=Array(r);++t<r;)a[t]=e(t);return a}(r.length,String):[],a=t.length,n=!!a;for(var o in r)!e&&!X.call(r,o)||n&&("length"==o||Hr(o,a))||t.push(o);return t}function Nr(r,e,t){var a=r[e];X.call(r,e)&&Wr(a,t)&&(void 0!==t||e in r)||(r[e]=t)}function Br(r,e){for(var t=r.length;t--;)if(Wr(r[t][0],e))return t;return-1}function _r(r,e,t,a,n,x,N){var B;if(a&&(B=x?a(r,n,x,N):a(r)),void 0!==B)return B;if(!Kr(r))return r;var S=Ur(r);if(S){if(B=function(r){var e=r.length,t=r.constructor(e);e&&"string"==typeof r[0]&&X.call(r,"index")&&(t.index=r.index,t.input=r.input);return t}(r),!e)return function(r,e){var t=-1,a=r.length;e||(e=Array(a));for(;++t<a;)e[t]=r[t];return e}(r,B)}else{var L=Dr(r),j=L==s||L==u;if(zr(r))return function(r,e){if(e)return r.slice();var t=new r.constructor(r.length);return r.copy(t),t}(r,e);if(L==f||L==c||j&&!x){if(G(r))return x?r:{};if(B=function(r){return"function"!=typeof r.constructor||$r(r)?{}:(e=cr(r),Kr(e)?or(e):{});var e}(j?{}:r),!e)return function(r,e){return jr(r,Mr(r),e)}(r,function(r,e){return r&&jr(e,Jr(e),r)}(B,r))}else{if(!_[L])return x?r:{};B=function(r,e,t,a){var n=r.constructor;switch(e){case m:return Lr(r);case o:case i:return new n(+r);case A:return function(r,e){var t=e?Lr(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.byteLength)}(r,a);case y:case T:case v:case I:case C:case E:case O:case w:case R:return function(r,e){var t=e?Lr(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)}(r,a);case d:return function(r,e,t){return $(e?t(W(r),!0):W(r),D,new r.constructor)}(r,a,t);case h:case p:return new n(r);case l:return(u=new(s=r).constructor(s.source,F.exec(s))).lastIndex=s.lastIndex,u;case g:return function(r,e,t){return $(e?t(q(r),!0):q(r),H,new r.constructor)}(r,a,t);case b:return c=r,Cr?Object(Cr.call(c)):{}}var c;var s,u}(r,L,_r,e)}}N||(N=new Rr);var k=N.get(r);if(k)return k;if(N.set(r,B),!S)var P=t?function(r){return function(r,e,t){var a=e(r);return Ur(r)?a:function(r,e){for(var t=-1,a=e.length,n=r.length;++t<a;)r[n+t]=e[t];return r}(a,t(r))}(r,Jr,Mr)}(r):Jr(r);return function(r,e){for(var t=-1,a=r?r.length:0;++t<a&&!1!==e(r[t],t,r););}(P||r,(function(n,c){P&&(n=r[c=n]),Nr(B,c,_r(n,e,t,a,c,r,N))})),B}function Sr(r){return!(!Kr(r)||function(r){return!!Y&&Y in r}(r))&&(Vr(r)||G(r)?er:N).test(Gr(r))}function Lr(r){var e=new r.constructor(r.byteLength);return new nr(e).set(new nr(r)),e}function jr(r,e,t,a){t||(t={});for(var n=-1,c=e.length;++n<c;){var o=e[n],i=a?a(t[o],r[o],o,t,r):void 0;Nr(t,o,void 0===i?r[o]:i)}return t}function kr(r,e){var t,a,n=r.__data__;return("string"==(a=typeof(t=e))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==t:null===t)?n["string"==typeof e?"string":"hash"]:n.map}function Pr(r,e){var t=function(r,e){return null==r?void 0:r[e]}(r,e);return Sr(t)?t:void 0}Er.prototype.clear=function(){this.__data__=mr?mr(null):{}},Er.prototype.delete=function(r){return this.has(r)&&delete this.__data__[r]},Er.prototype.get=function(r){var e=this.__data__;if(mr){var t=e[r];return t===a?void 0:t}return X.call(e,r)?e[r]:void 0},Er.prototype.has=function(r){var e=this.__data__;return mr?void 0!==e[r]:X.call(e,r)},Er.prototype.set=function(r,e){return this.__data__[r]=mr&&void 0===e?a:e,this},Or.prototype.clear=function(){this.__data__=[]},Or.prototype.delete=function(r){var e=this.__data__,t=Br(e,r);return!(t<0)&&(t==e.length-1?e.pop():sr.call(e,t,1),!0)},Or.prototype.get=function(r){var e=this.__data__,t=Br(e,r);return t<0?void 0:e[t][1]},Or.prototype.has=function(r){return Br(this.__data__,r)>-1},Or.prototype.set=function(r,e){var t=this.__data__,a=Br(t,r);return a<0?t.push([r,e]):t[a][1]=e,this},wr.prototype.clear=function(){this.__data__={hash:new Er,map:new(lr||Or),string:new Er}},wr.prototype.delete=function(r){return kr(this,r).delete(r)},wr.prototype.get=function(r){return kr(this,r).get(r)},wr.prototype.has=function(r){return kr(this,r).has(r)},wr.prototype.set=function(r,e){return kr(this,r).set(r,e),this},Rr.prototype.clear=function(){this.__data__=new Or},Rr.prototype.delete=function(r){return this.__data__.delete(r)},Rr.prototype.get=function(r){return this.__data__.get(r)},Rr.prototype.has=function(r){return this.__data__.has(r)},Rr.prototype.set=function(r,e){var a=this.__data__;if(a instanceof Or){var n=a.__data__;if(!lr||n.length<t-1)return n.push([r,e]),this;a=this.__data__=new wr(n)}return a.set(r,e),this};var Mr=ur?U(ur,Object):function(){return[]},Dr=function(r){return rr.call(r)};function Hr(r,e){return!!(e=null==e?n:e)&&("number"==typeof r||B.test(r))&&r>-1&&r%1==0&&r<e}function $r(r){var e=r&&r.constructor;return r===("function"==typeof e&&e.prototype||J)}function Gr(r){if(null!=r){try{return Q.call(r)}catch(r){}try{return r+""}catch(r){}}return""}function Wr(r,e){return r===e||r!=r&&e!=e}(fr&&Dr(new fr(new ArrayBuffer(1)))!=A||lr&&Dr(new lr)!=d||gr&&"[object Promise]"!=Dr(gr.resolve())||pr&&Dr(new pr)!=g||br&&"[object WeakMap]"!=Dr(new br))&&(Dr=function(r){var e=rr.call(r),t=e==f?r.constructor:void 0,a=t?Gr(t):void 0;if(a)switch(a){case xr:return A;case Ar:return d;case yr:return"[object Promise]";case Tr:return g;case vr:return"[object WeakMap]"}return e});var Ur=Array.isArray;function qr(r){return null!=r&&function(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=n}(r.length)&&!Vr(r)}var zr=dr||function(){return!1};function Vr(r){var e=Kr(r)?rr.call(r):"";return e==s||e==u}function Kr(r){var e=typeof r;return!!r&&("object"==e||"function"==e)}function Jr(r){return qr(r)?Fr(r):function(r){if(!$r(r))return hr(r);var e=[];for(var t in Object(r))X.call(r,t)&&"constructor"!=t&&e.push(t);return e}(r)}r.exports=function(r){return _r(r,!0,!0)}}));function q(r,e){return function(r,e,t){if("string"!=typeof r||!r.length)return null;if(e&&"number"==typeof e||(e=0),!r[e+1])return null;if(r[e+1]&&(!t&&r[e+1].trim().length||t&&(r[e+1].trim().length||"\n\r".includes(r[e+1]))))return e+1;if(r[e+2]&&(!t&&r[e+2].trim().length||t&&(r[e+2].trim().length||"\n\r".includes(r[e+2]))))return e+2;for(let a=e+1,n=r.length;a<n;a++)if(r[a]&&(!t&&r[a].trim().length||t&&(r[a].trim().length||"\n\r".includes(r[a]))))return a;return null}(r,e,!1)}function z(r,e){return function(r,e,t){if("string"!=typeof r||!r.length)return null;if(e&&"number"==typeof e||(e=0),e<1)return null;if(r[e-1]&&(!t&&r[e-1].trim().length||t&&(r[e-1].trim().length||"\n\r".includes(r[e-1]))))return e-1;if(r[e-2]&&(!t&&r[e-2].trim().length||t&&(r[e-2].trim().length||"\n\r".includes(r[e-2]))))return e-2;for(let a=e;a--;)if(r[a]&&(!t&&r[a].trim().length||t&&(r[a].trim().length||"\n\r".includes(r[a]))))return a;return null}(r,e,!1)}const V="\\",K=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","doctype","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h1 - h6","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xml"];function J(r){return void 0===r||r.toUpperCase()===r.toLowerCase()&&!"0123456789".includes(r)}function Z(r,e=0){const t=e?r.slice(e):r;let a=!1;return/^<[\\ \t\r\n/]*\w+[\\ \t\r\n/]*>/g.test(t)?a=!0:/^<\s*\w+\s+\w+\s*=\s*['"]/g.test(t)?a=!0:/^<\s*\/?\s*\w+\s*\/?\s*>/g.test(t)?a=!0:/^<[\\ \t\r\n/]*\w+(?:\s*\w+)*\s*\w+=['"]/g.test(t)?a=!0:"<"===r[e]&&r[e+1]&&(!J(r[e+1])&&W(r,e,K,{cb:J,i:!0,trimCharsBeforeMatching:["/",V,"!"," ","\t","\n","\r"]})||J(r[e+1])&&W(r,e,K,{cb:(e,t,a)=>(void 0===e||e.toUpperCase()===e.toLowerCase()&&!"0123456789".includes(e))&&("/"===r[q(r,a-1)]||">"===r[q(r,a-1)]),i:!0,trimCharsBeforeMatching:["/",V,"!"," ","\t","\n","\r"]}))&&(a=!0),"string"==typeof r&&e<r.length&&a}function Y(r){return"string"==typeof r}function Q(r){return"number"==typeof r}function X(r){return Y(r)&&1===r.length&&(r.charCodeAt(0)>64&&r.charCodeAt(0)<91||r.charCodeAt(0)>96&&r.charCodeAt(0)<123)}function rr(r){let e="";for(let t=0,a=r.length;t<a;t++)e="{"===r[t]?`}${e}`:"("===r[t]?`)${e}`:`${r[t]}${e}`;return e}const er={reportProgressFunc:null,reportProgressFuncFrom:0,reportProgressFuncTo:100},tr=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"],ar="{}%-$_()*|";var nr=(r,e,t)=>{const a=t=>Object.defineProperty(r,e,{value:t,enumerable:!0,writable:!0});return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get(){const r=t();return a(r),r},set(r){a(r)}}),r},cr=["bad-character-acknowledge","bad-character-activate-arabic-form-shaping","bad-character-activate-symmetric-swapping","bad-character-application-program-command","bad-character-backspace","bad-character-bell","bad-character-break-permitted-here","bad-character-cancel","bad-character-cancel-character","bad-character-character-tabulation","bad-character-character-tabulation-set","bad-character-character-tabulation-with-justification","bad-character-control-0080","bad-character-control-0081","bad-character-control-0084","bad-character-control-0099","bad-character-control-sequence-introducer","bad-character-data-link-escape","bad-character-delete","bad-character-device-control-four","bad-character-device-control-one","bad-character-device-control-string","bad-character-device-control-three","bad-character-device-control-two","bad-character-em-quad","bad-character-em-space","bad-character-en-quad","bad-character-en-space","bad-character-end-of-medium","bad-character-end-of-protected-area","bad-character-end-of-selected-area","bad-character-end-of-text","bad-character-end-of-transmission","bad-character-end-of-transmission-block","bad-character-enquiry","bad-character-escape","bad-character-figure-space","bad-character-first-strong-isolate","bad-character-form-feed","bad-character-four-per-em-space","bad-character-function-application","bad-character-hair-space","bad-character-ideographic-space","bad-character-information-separator-four","bad-character-information-separator-one","bad-character-information-separator-three","bad-character-information-separator-two","bad-character-inhibit-arabic-form-shaping","bad-character-inhibit-symmetric-swapping","bad-character-interlinear-annotation-anchor","bad-character-interlinear-annotation-separator","bad-character-interlinear-annotation-terminator","bad-character-invisible-plus","bad-character-invisible-separator","bad-character-invisible-times","bad-character-left-to-right-embedding","bad-character-left-to-right-isolate","bad-character-left-to-right-mark","bad-character-left-to-right-override","bad-character-line-separator","bad-character-line-tabulation","bad-character-line-tabulation-set","bad-character-medium-mathematical-space","bad-character-message-waiting","bad-character-narrow-no-break-space","bad-character-national-digit-shapes","bad-character-negative-acknowledge","bad-character-next-line","bad-character-no-break-here","bad-character-nominal-digit-shapes","bad-character-non-breaking-space","bad-character-null","bad-character-ogham-space-mark","bad-character-operating-system-command","bad-character-paragraph-separator","bad-character-partial-line-backward","bad-character-partial-line-forward","bad-character-pop-directional-formatting","bad-character-pop-directional-isolate","bad-character-private-message","bad-character-private-use-1","bad-character-private-use-2","bad-character-punctuation-space","bad-character-reverse-line-feed","bad-character-right-to-left-embedding","bad-character-right-to-left-isolate","bad-character-right-to-left-mark","bad-character-right-to-left-override","bad-character-set-transmit-state","bad-character-shift-in","bad-character-shift-out","bad-character-single-character-introducer","bad-character-single-shift-three","bad-character-single-shift-two","bad-character-six-per-em-space","bad-character-soft-hyphen","bad-character-start-of-heading","bad-character-start-of-protected-area","bad-character-start-of-selected-area","bad-character-start-of-string","bad-character-start-of-text","bad-character-string-terminator","bad-character-substitute","bad-character-synchronous-idle","bad-character-thin-space","bad-character-three-per-em-space","bad-character-word-joiner","bad-character-zero-width-joiner","bad-character-zero-width-no-break-space","bad-character-zero-width-non-joiner","bad-character-zero-width-space"],or=["tag-closing-backslash","tag-space-after-opening-bracket","tag-space-before-closing-slash","tag-space-between-slash-and-bracket","tag-void-slash"];function ir(r){return{character:function(e,t){0===e.charCodeAt(0)&&r.report({ruleId:"bad-character-null",message:"Bad character - NULL.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function sr(r){return{character:function(e,t){1===e.charCodeAt(0)&&r.report({ruleId:"bad-character-start-of-heading",message:"Bad character - START OF HEADING.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function ur(r){return{character:function(e,t){2===e.charCodeAt(0)&&r.report({ruleId:"bad-character-start-of-text",message:"Bad character - START OF TEXT.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function dr(r){return{character:function(e,t){3===e.charCodeAt(0)&&r.report({ruleId:"bad-character-end-of-text",message:"Bad character - END OF TEXT.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1,"\n"]]}})}}}function hr(r){return{character:function(e,t){4===e.charCodeAt(0)&&r.report({ruleId:"bad-character-end-of-transmission",message:"Bad character - END OF TRANSMISSION.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function fr(r){return{character:function(e,t){5===e.charCodeAt(0)&&r.report({ruleId:"bad-character-enquiry",message:"Bad character - ENQUIRY.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function lr(r){return{character:function(e,t){6===e.charCodeAt(0)&&r.report({ruleId:"bad-character-acknowledge",message:"Bad character - ACKNOWLEDGE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function gr(r){return{character:function(e,t){7===e.charCodeAt(0)&&r.report({ruleId:"bad-character-bell",message:"Bad character - BELL.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function pr(r){return{character:function(e,t){8===e.charCodeAt(0)&&r.report({ruleId:"bad-character-backspace",message:"Bad character - BACKSPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function br(r){return{character:function(e,t){9===e.charCodeAt(0)&&r.report({ruleId:"bad-character-character-tabulation",message:"Bad character - TABULATION.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function mr(r){return{character:function(e,t){11===e.charCodeAt(0)&&r.report({ruleId:"bad-character-line-tabulation",message:"Bad character - LINE TABULATION.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function xr(r){return{character:function(e,t){12===e.charCodeAt(0)&&r.report({ruleId:"bad-character-form-feed",message:"Bad character - FORM FEED.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Ar(r){return{character:function(e,t){14===e.charCodeAt(0)&&r.report({ruleId:"bad-character-shift-out",message:"Bad character - SHIFT OUT.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function yr(r){return{character:function(e,t){15===e.charCodeAt(0)&&r.report({ruleId:"bad-character-shift-in",message:"Bad character - SHIFT IN.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Tr(r){return{character:function(e,t){16===e.charCodeAt(0)&&r.report({ruleId:"bad-character-data-link-escape",message:"Bad character - DATA LINK ESCAPE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function vr(r){return{character:function(e,t){17===e.charCodeAt(0)&&r.report({ruleId:"bad-character-device-control-one",message:"Bad character - DEVICE CONTROL ONE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Ir(r){return{character:function(e,t){18===e.charCodeAt(0)&&r.report({ruleId:"bad-character-device-control-two",message:"Bad character - DEVICE CONTROL TWO.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Cr(r){return{character:function(e,t){19===e.charCodeAt(0)&&r.report({ruleId:"bad-character-device-control-three",message:"Bad character - DEVICE CONTROL THREE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Er(r){return{character:function(e,t){20===e.charCodeAt(0)&&r.report({ruleId:"bad-character-device-control-four",message:"Bad character - DEVICE CONTROL FOUR.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Or(r){return{character:function(e,t){21===e.charCodeAt(0)&&r.report({ruleId:"bad-character-negative-acknowledge",message:"Bad character - NEGATIVE ACKNOWLEDGE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function wr(r){return{character:function(e,t){22===e.charCodeAt(0)&&r.report({ruleId:"bad-character-synchronous-idle",message:"Bad character - SYNCHRONOUS IDLE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Rr(r){return{character:function(e,t){23===e.charCodeAt(0)&&r.report({ruleId:"bad-character-end-of-transmission-block",message:"Bad character - END OF TRANSMISSION BLOCK.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Fr(r){return{character:function(e,t){24===e.charCodeAt(0)&&r.report({ruleId:"bad-character-cancel",message:"Bad character - CANCEL.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Nr(r){return{character:function(e,t){25===e.charCodeAt(0)&&r.report({ruleId:"bad-character-end-of-medium",message:"Bad character - END OF MEDIUM.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Br(r){return{character:function(e,t){26===e.charCodeAt(0)&&r.report({ruleId:"bad-character-substitute",message:"Bad character - SUBSTITUTE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function _r(r){return{character:function(e,t){27===e.charCodeAt(0)&&r.report({ruleId:"bad-character-escape",message:"Bad character - ESCAPE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Sr(r){return{character:function(e,t){28===e.charCodeAt(0)&&r.report({ruleId:"bad-character-information-separator-four",message:"Bad character - INFORMATION SEPARATOR FOUR.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Lr(r){return{character:function(e,t){29===e.charCodeAt(0)&&r.report({ruleId:"bad-character-information-separator-three",message:"Bad character - INFORMATION SEPARATOR THREE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function jr(r){return{character:function(e,t){30===e.charCodeAt(0)&&r.report({ruleId:"bad-character-information-separator-two",message:"Bad character - INFORMATION SEPARATOR TWO.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function kr(r){return{character:function(e,t){31===e.charCodeAt(0)&&r.report({ruleId:"bad-character-information-separator-one",message:"Bad character - INFORMATION SEPARATOR ONE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Pr(r){return{character:function(e,t){127===e.charCodeAt(0)&&r.report({ruleId:"bad-character-delete",message:"Bad character - DELETE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Mr(r){return{character:function(e,t){128===e.charCodeAt(0)&&r.report({ruleId:"bad-character-control-0080",message:"Bad character - CONTROL.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Dr(r){return{character:function(e,t){129===e.charCodeAt(0)&&r.report({ruleId:"bad-character-control-0081",message:"Bad character - CONTROL.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Hr(r){return{character:function(e,t){130===e.charCodeAt(0)&&r.report({ruleId:"bad-character-break-permitted-here",message:"Bad character - BREAK PERMITTED HERE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function $r(r){return{character:function(e,t){131===e.charCodeAt(0)&&r.report({ruleId:"bad-character-no-break-here",message:"Bad character - NO BREAK HERE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Gr(r){return{character:function(e,t){132===e.charCodeAt(0)&&r.report({ruleId:"bad-character-control-0084",message:"Bad character - CONTROL.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Wr(r){return{character:function(e,t){133===e.charCodeAt(0)&&r.report({ruleId:"bad-character-next-line",message:"Bad character - NEXT LINE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Ur(r){return{character:function(e,t){134===e.charCodeAt(0)&&r.report({ruleId:"bad-character-start-of-selected-area",message:"Bad character - START OF SELECTED AREA.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function qr(r){return{character:function(e,t){135===e.charCodeAt(0)&&r.report({ruleId:"bad-character-end-of-selected-area",message:"Bad character - END OF SELECTED AREA.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function zr(r){return{character:function(e,t){136===e.charCodeAt(0)&&r.report({ruleId:"bad-character-character-tabulation-set",message:"Bad character - CHARACTER TABULATION SET.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Vr(r){return{character:function(e,t){137===e.charCodeAt(0)&&r.report({ruleId:"bad-character-character-tabulation-with-justification",message:"Bad character - CHARACTER TABULATION WITH JUSTIFICATION.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Kr(r){return{character:function(e,t){138===e.charCodeAt(0)&&r.report({ruleId:"bad-character-line-tabulation-set",message:"Bad character - LINE TABULATION SET.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Jr(r){return{character:function(e,t){139===e.charCodeAt(0)&&r.report({ruleId:"bad-character-partial-line-forward",message:"Bad character - PARTIAL LINE FORWARD.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Zr(r){return{character:function(e,t){140===e.charCodeAt(0)&&r.report({ruleId:"bad-character-partial-line-backward",message:"Bad character - PARTIAL LINE BACKWARD.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Yr(r){return{character:function(e,t){141===e.charCodeAt(0)&&r.report({ruleId:"bad-character-reverse-line-feed",message:"Bad character - REVERSE LINE FEED.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Qr(r){return{character:function(e,t){142===e.charCodeAt(0)&&r.report({ruleId:"bad-character-single-shift-two",message:"Bad character - SINGLE SHIFT TWO.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Xr(r){return{character:function(e,t){143===e.charCodeAt(0)&&r.report({ruleId:"bad-character-single-shift-three",message:"Bad character - SINGLE SHIFT THREE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function re(r){return{character:function(e,t){144===e.charCodeAt(0)&&r.report({ruleId:"bad-character-device-control-string",message:"Bad character - DEVICE CONTROL STRING.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function ee(r){return{character:function(e,t){145===e.charCodeAt(0)&&r.report({ruleId:"bad-character-private-use-1",message:"Bad character - PRIVATE USE ONE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function te(r){return{character:function(e,t){146===e.charCodeAt(0)&&r.report({ruleId:"bad-character-private-use-2",message:"Bad character - PRIVATE USE TWO.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function ae(r){return{character:function(e,t){147===e.charCodeAt(0)&&r.report({ruleId:"bad-character-set-transmit-state",message:"Bad character - SET TRANSMIT STATE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function ne(r){return{character:function(e,t){148===e.charCodeAt(0)&&r.report({ruleId:"bad-character-cancel-character",message:"Bad character - CANCEL CHARACTER.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function ce(r){return{character:function(e,t){149===e.charCodeAt(0)&&r.report({ruleId:"bad-character-message-waiting",message:"Bad character - MESSAGE WAITING.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function oe(r){return{character:function(e,t){150===e.charCodeAt(0)&&r.report({ruleId:"bad-character-start-of-protected-area",message:"Bad character - START OF PROTECTED AREA.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function ie(r){return{character:function(e,t){151===e.charCodeAt(0)&&r.report({ruleId:"bad-character-end-of-protected-area",message:"Bad character - END OF PROTECTED AREA.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function se(r){return{character:function(e,t){152===e.charCodeAt(0)&&r.report({ruleId:"bad-character-start-of-string",message:"Bad character - START OF STRING.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function ue(r){return{character:function(e,t){153===e.charCodeAt(0)&&r.report({ruleId:"bad-character-control-0099",message:"Bad character - CONTROL.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function de(r){return{character:function(e,t){154===e.charCodeAt(0)&&r.report({ruleId:"bad-character-single-character-introducer",message:"Bad character - SINGLE CHARACTER INTRODUCER.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function he(r){return{character:function(e,t){155===e.charCodeAt(0)&&r.report({ruleId:"bad-character-control-sequence-introducer",message:"Bad character - CONTROL SEQUENCE INTRODUCER.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function fe(r){return{character:function(e,t){156===e.charCodeAt(0)&&r.report({ruleId:"bad-character-string-terminator",message:"Bad character - STRING TERMINATOR.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function le(r){return{character:function(e,t){157===e.charCodeAt(0)&&r.report({ruleId:"bad-character-operating-system-command",message:"Bad character - OPERATING SYSTEM COMMAND.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function ge(r){return{character:function(e,t){158===e.charCodeAt(0)&&r.report({ruleId:"bad-character-private-message",message:"Bad character - PRIVATE MESSAGE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function pe(r){return{character:function(e,t){159===e.charCodeAt(0)&&r.report({ruleId:"bad-character-application-program-command",message:"Bad character - APPLICATION PROGRAM COMMAND.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function be(r){return{character:function(e,t){173===e.charCodeAt(0)&&r.report({ruleId:"bad-character-soft-hyphen",message:"Bad character - SOFT HYPHEN.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function me(r){return{character:function(e,t){160===e.charCodeAt(0)&&r.report({ruleId:"bad-character-non-breaking-space",message:"Bad character - NON-BREAKING SPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function xe(r){return{character:function(e,t){5760===e.charCodeAt(0)&&r.report({ruleId:"bad-character-ogham-space-mark",message:"Bad character - OGHAM SPACE MARK.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function Ae(r){return{character:function(e,t){8192===e.charCodeAt(0)&&r.report({ruleId:"bad-character-en-quad",message:"Bad character - EN QUAD.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function ye(r){return{character:function(e,t){8193===e.charCodeAt(0)&&r.report({ruleId:"bad-character-em-quad",message:"Bad character - EM QUAD.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function Te(r){return{character:function(e,t){8194===e.charCodeAt(0)&&r.report({ruleId:"bad-character-en-space",message:"Bad character - EN SPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function ve(r){return{character:function(e,t){8195===e.charCodeAt(0)&&r.report({ruleId:"bad-character-em-space",message:"Bad character - EM SPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function Ie(r){return{character:function(e,t){8196===e.charCodeAt(0)&&r.report({ruleId:"bad-character-three-per-em-space",message:"Bad character - THREE-PER-EM SPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function Ce(r){return{character:function(e,t){8197===e.charCodeAt(0)&&r.report({ruleId:"bad-character-four-per-em-space",message:"Bad character - FOUR-PER-EM SPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function Ee(r){return{character:function(e,t){8198===e.charCodeAt(0)&&r.report({ruleId:"bad-character-six-per-em-space",message:"Bad character - SIX-PER-EM SPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function Oe(r){return{character:function(e,t){8199===e.charCodeAt(0)&&r.report({ruleId:"bad-character-figure-space",message:"Bad character - FIGURE SPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function we(r){return{character:function(e,t){8200===e.charCodeAt(0)&&r.report({ruleId:"bad-character-punctuation-space",message:"Bad character - PUNCTUATION SPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function Re(r){return{character:function(e,t){8201===e.charCodeAt(0)&&r.report({ruleId:"bad-character-thin-space",message:"Bad character - THIN SPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function Fe(r){return{character:function(e,t){8202===e.charCodeAt(0)&&r.report({ruleId:"bad-character-hair-space",message:"Bad character - HAIR SPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function Ne(r){return{character:function(e,t){8203===e.charCodeAt(0)&&r.report({ruleId:"bad-character-zero-width-space",message:"Bad character - ZERO WIDTH SPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function Be(r){return{character:function(e,t){8204===e.charCodeAt(0)&&r.report({ruleId:"bad-character-zero-width-non-joiner",message:"Bad character - ZERO WIDTH NON-JOINER.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function _e(r){return{character:function(e,t){8205===e.charCodeAt(0)&&r.report({ruleId:"bad-character-zero-width-joiner",message:"Bad character - ZERO WIDTH JOINER.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Se(r){return{character:function(e,t){8206===e.charCodeAt(0)&&r.report({ruleId:"bad-character-left-to-right-mark",message:"Bad character - LEFT-TO-RIGHT MARK.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Le(r){return{character:function(e,t){8207===e.charCodeAt(0)&&r.report({ruleId:"bad-character-right-to-left-mark",message:"Bad character - RIGHT-TO-LEFT MARK.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function je(r){return{character:function(e,t){8234===e.charCodeAt(0)&&r.report({ruleId:"bad-character-left-to-right-embedding",message:"Bad character - LEFT-TO-RIGHT EMBEDDING.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function ke(r){return{character:function(e,t){8235===e.charCodeAt(0)&&r.report({ruleId:"bad-character-right-to-left-embedding",message:"Bad character - RIGHT-TO-LEFT EMBEDDING.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Pe(r){return{character:function(e,t){8236===e.charCodeAt(0)&&r.report({ruleId:"bad-character-pop-directional-formatting",message:"Bad character - POP DIRECTIONAL FORMATTING.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Me(r){return{character:function(e,t){8237===e.charCodeAt(0)&&r.report({ruleId:"bad-character-left-to-right-override",message:"Bad character - LEFT-TO-RIGHT OVERRIDE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function De(r){return{character:function(e,t){8238===e.charCodeAt(0)&&r.report({ruleId:"bad-character-right-to-left-override",message:"Bad character - RIGHT-TO-LEFT OVERRIDE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function He(r){return{character:function(e,t){8288===e.charCodeAt(0)&&r.report({ruleId:"bad-character-word-joiner",message:"Bad character - WORD JOINER.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function $e(r){return{character:function(e,t){8289===e.charCodeAt(0)&&r.report({ruleId:"bad-character-function-application",message:"Bad character - FUNCTION APPLICATION.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Ge(r){return{character:function(e,t){8290===e.charCodeAt(0)&&r.report({ruleId:"bad-character-invisible-times",message:"Bad character - INVISIBLE TIMES.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function We(r){return{character:function(e,t){8291===e.charCodeAt(0)&&r.report({ruleId:"bad-character-invisible-separator",message:"Bad character - INVISIBLE SEPARATOR.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Ue(r){return{character:function(e,t){8292===e.charCodeAt(0)&&r.report({ruleId:"bad-character-invisible-plus",message:"Bad character - INVISIBLE PLUS.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function qe(r){return{character:function(e,t){8294===e.charCodeAt(0)&&r.report({ruleId:"bad-character-left-to-right-isolate",message:"Bad character - LEFT-TO-RIGHT ISOLATE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function ze(r){return{character:function(e,t){8295===e.charCodeAt(0)&&r.report({ruleId:"bad-character-right-to-left-isolate",message:"Bad character - RIGHT-TO-LEFT ISOLATE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Ve(r){return{character:function(e,t){8296===e.charCodeAt(0)&&r.report({ruleId:"bad-character-first-strong-isolate",message:"Bad character - FIRST STRONG ISOLATE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Ke(r){return{character:function(e,t){8297===e.charCodeAt(0)&&r.report({ruleId:"bad-character-pop-directional-isolate",message:"Bad character - FIRST STRONG ISOLATE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Je(r){return{character:function(e,t){8298===e.charCodeAt(0)&&r.report({ruleId:"bad-character-inhibit-symmetric-swapping",message:"Bad character - INHIBIT SYMMETRIC SWAPPING.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Ze(r){return{character:function(e,t){8299===e.charCodeAt(0)&&r.report({ruleId:"bad-character-activate-symmetric-swapping",message:"Bad character - INHIBIT SYMMETRIC SWAPPING.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Ye(r){return{character:function(e,t){8300===e.charCodeAt(0)&&r.report({ruleId:"bad-character-inhibit-arabic-form-shaping",message:"Bad character - INHIBIT ARABIC FORM SHAPING.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Qe(r){return{character:function(e,t){8301===e.charCodeAt(0)&&r.report({ruleId:"bad-character-activate-arabic-form-shaping",message:"Bad character - ACTIVATE ARABIC FORM SHAPING.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function Xe(r){return{character:function(e,t){8302===e.charCodeAt(0)&&r.report({ruleId:"bad-character-national-digit-shapes",message:"Bad character - NATIONAL DIGIT SHAPES.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function rt(r){return{character:function(e,t){8303===e.charCodeAt(0)&&r.report({ruleId:"bad-character-nominal-digit-shapes",message:"Bad character - NOMINAL DIGIT SHAPES.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function et(r){return{character:function(e,t){65279===e.charCodeAt(0)&&r.report({ruleId:"bad-character-zero-width-no-break-space",message:"Bad character - ZERO WIDTH NO-BREAK SPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function tt(r){return{character:function(e,t){65529===e.charCodeAt(0)&&r.report({ruleId:"bad-character-interlinear-annotation-anchor",message:"Bad character - INTERLINEAR ANNOTATION ANCHOR.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function at(r){return{character:function(e,t){65530===e.charCodeAt(0)&&r.report({ruleId:"bad-character-interlinear-annotation-separator",message:"Bad character - INTERLINEAR ANNOTATION SEPARATOR.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function nt(r){return{character:function(e,t){65531===e.charCodeAt(0)&&r.report({ruleId:"bad-character-interlinear-annotation-terminator",message:"Bad character - INTERLINEAR ANNOTATION TERMINATOR.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function ct(r){return{character:function(e,t){8232===e.charCodeAt(0)&&r.report({ruleId:"bad-character-line-separator",message:"Bad character - LINE SEPARATOR.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function ot(r){return{character:function(e,t){8233===e.charCodeAt(0)&&r.report({ruleId:"bad-character-paragraph-separator",message:"Bad character - PARAGRAPH SEPARATOR.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1]]}})}}}function it(r){return{character:function(e,t){8239===e.charCodeAt(0)&&r.report({ruleId:"bad-character-narrow-no-break-space",message:"Bad character - NARROW NO-BREAK SPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function st(r){return{character:function(e,t){8287===e.charCodeAt(0)&&r.report({ruleId:"bad-character-medium-mathematical-space",message:"Bad character - MEDIUM MATHEMATICAL SPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function ut(r){return{character:function(e,t){12288===e.charCodeAt(0)&&r.report({ruleId:"bad-character-ideographic-space",message:"Bad character - IDEOGRAPHIC SPACE.",idxFrom:t,idxTo:t+1,fix:{ranges:[[t,t+1," "]]}})}}}function dt(r){return{html:function(e){var t=r.str.slice(e.start+1,e.tagNameStartAt);if(e.tagNameStartAt>e.start+1&&(!t.trim().length||"/"!==t&&"/"===t.trim())){var a=[];-1!==t.indexOf("/")?(e.start+1+t.indexOf("/")>e.start+1&&a.push([e.start+1,e.start+1+t.indexOf("/")]),e.start+1+t.indexOf("/")<e.tagNameStartAt-1&&a.push([e.start+1+t.indexOf("/")+1,e.tagNameStartAt])):a.push([e.start+1+t.indexOf("/")+1,e.tagNameStartAt]),r.report({ruleId:"tag-space-after-opening-bracket",message:"Bad whitespace.",idxFrom:a[0][0],idxTo:a[a.length-1][1],fix:{ranges:a}})}}}}function ht(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return{html:function(e){r.str.slice(e.start+1,e.tagNameStartAt);var a="never";Array.isArray(t)&&["always","never"].includes(t[0])&&(a=t[0]);var n=e.end-1,c=z(r.str,n),o=z(r.str,c);"never"===a&&e.void&&"/"===r.str[c]&&o<c-1?r.report({ruleId:"tag-space-before-closing-slash",message:"Bad whitespace.",idxFrom:o+1,idxTo:c,fix:{ranges:[[o+1,c]]}}):"always"===a&&e.void&&"/"===r.str[c]&&o===c-1&&r.report({ruleId:"tag-space-before-closing-slash",message:"Missing space.",idxFrom:c,idxTo:c,fix:{ranges:[[c,c," "]]}})}}}function ft(r){return{html:function(e){if(Number.isInteger(e.end)&&">"===r.str[e.end-1]&&"/"===r.str[z(r.str,e.end-1)]&&z(r.str,e.end-1)<e.end-2){var t=z(r.str,e.end-1)+1;r.report({ruleId:"tag-space-between-slash-and-bracket",message:"Bad whitespace.",idxFrom:t,idxTo:e.end-1,fix:{ranges:[[t,e.end-1]]}})}}}}var lt="\\";function gt(r){return{html:function(e){if(Number.isInteger(e.end)&&">"===r.str[e.end-1]&&r.str[z(r.str,e.end-1)]===lt){var t=e.void?"Replace backslash with slash.":"Delete this.",a=z(r.str,e.end-1),n=z(r.str,a)+1,c=e.void?"/":"";r.processedRulesConfig["tag-space-before-closing-slash"]&&(Number.isInteger(r.processedRulesConfig["tag-space-before-closing-slash"])&&r.processedRulesConfig["tag-space-before-closing-slash"]>0||Array.isArray(r.processedRulesConfig["tag-space-before-closing-slash"])&&r.processedRulesConfig["tag-space-before-closing-slash"][0]>0&&"never"===r.processedRulesConfig["tag-space-before-closing-slash"][1])&&(n=z(r.str,a)+1),Array.isArray(r.processedRulesConfig["tag-space-before-closing-slash"])&&r.processedRulesConfig["tag-space-before-closing-slash"][0]>0&&"always"===r.processedRulesConfig["tag-space-before-closing-slash"][1]&&(n=z(r.str,a)+1,c=" ".concat(c),e.void&&" "===r.str[n+1]?(n++,c=c.trim()):e.void||(c=c.trim())),e.void&&Array.isArray(r.processedRulesConfig["tag-void-slash"])&&r.processedRulesConfig["tag-void-slash"][0]>0&&"never"===r.processedRulesConfig["tag-void-slash"][1]&&(c="",n=z(r.str,a)+1,t="Delete this."),r.report({ruleId:"tag-closing-backslash",message:t,idxFrom:n,idxTo:e.end-1,fix:{ranges:[[n,e.end-1,c]]}})}}}}var pt="\\";function bt(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return{html:function(e){var a="always";Array.isArray(t)&&["always","never"].includes(t[0])&&(a=t[0]);var n=e.end-1,c=z(r.str,n),o=z(r.str,c);"never"===a&&e.void&&"/"===r.str[c]?r.report({ruleId:"tag-void-slash",message:"Remove the slash.",idxFrom:o+1,idxTo:n,fix:{ranges:[[o+1,n]]}}):"always"!==a||!e.void||"/"===r.str[c]||r.processedRulesConfig["tag-closing-backslash"]&&r.str[c]===pt&&(Number.isInteger(r.processedRulesConfig["tag-closing-backslash"])&&r.processedRulesConfig["tag-closing-backslash"]>0||Array.isArray(r.processedRulesConfig["tag-closing-backslash"])&&r.processedRulesConfig["tag-closing-backslash"][0]>0&&"always"===r.processedRulesConfig["tag-closing-backslash"][1])||(Array.isArray(r.processedRulesConfig["tag-space-before-closing-slash"])&&"always"===r.processedRulesConfig["tag-space-before-closing-slash"][1]?" "===r.str[c+1]?r.report({ruleId:"tag-void-slash",message:"Missing slash.",idxFrom:c+2,idxTo:n,fix:{ranges:[[c+2,n,"/"]]}}):r.report({ruleId:"tag-void-slash",message:"Missing slash.",idxFrom:c+1,idxTo:n,fix:{ranges:[[c+1,n," /"]]}}):(void 0===r.processedRulesConfig["tag-space-before-closing-slash"]||Array.isArray(r.processedRulesConfig["tag-space-before-closing-slash"])&&"never"===r.processedRulesConfig["tag-space-before-closing-slash"][1]||Number.isInteger(r.processedRulesConfig["tag-space-before-closing-slash"])&&r.processedRulesConfig["tag-space-before-closing-slash"]>0)&&r.report({ruleId:"tag-void-slash",message:"Missing slash.",idxFrom:c+1,idxTo:n,fix:{ranges:[[c+1,n,"/"]]}}))}}}var mt={};function xt(r){return mt[r]}function At(){}function yt(){yt.init.call(this)}function Tt(r){return void 0===r._maxListeners?yt.defaultMaxListeners:r._maxListeners}function vt(r,e,t){if(e)r.call(t);else for(var a=r.length,n=Nt(r,a),c=0;c<a;++c)n[c].call(t)}function It(r,e,t,a){if(e)r.call(t,a);else for(var n=r.length,c=Nt(r,n),o=0;o<n;++o)c[o].call(t,a)}function Ct(r,e,t,a,n){if(e)r.call(t,a,n);else for(var c=r.length,o=Nt(r,c),i=0;i<c;++i)o[i].call(t,a,n)}function Et(r,e,t,a,n,c){if(e)r.call(t,a,n,c);else for(var o=r.length,i=Nt(r,o),s=0;s<o;++s)i[s].call(t,a,n,c)}function Ot(r,e,t,a){if(e)r.apply(t,a);else for(var n=r.length,c=Nt(r,n),o=0;o<n;++o)c[o].apply(t,a)}function wt(r,e,t,a){var n,c,o,i;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if((c=r._events)?(c.newListener&&(r.emit("newListener",e,t.listener?t.listener:t),c=r._events),o=c[e]):(c=r._events=new At,r._eventsCount=0),o){if("function"==typeof o?o=c[e]=a?[t,o]:[o,t]:a?o.unshift(t):o.push(t),!o.warned&&(n=Tt(r))&&n>0&&o.length>n){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=r,s.type=e,s.count=o.length,i=s,"function"==typeof console.warn?console.warn(i):console.log(i)}}else o=c[e]=t,++r._eventsCount;return r}function Rt(r,e,t){var a=!1;function n(){r.removeListener(e,n),a||(a=!0,t.apply(r,arguments))}return n.listener=t,n}function Ft(r){var e=this._events;if(e){var t=e[r];if("function"==typeof t)return 1;if(t)return t.length}return 0}function Nt(r,e){for(var t=new Array(e);e--;)t[e]=r[e];return t}nr(mt,"bad-character-null",(function(){return ir})),nr(mt,"bad-character-start-of-heading",(function(){return sr})),nr(mt,"bad-character-start-of-text",(function(){return ur})),nr(mt,"bad-character-end-of-text",(function(){return dr})),nr(mt,"bad-character-end-of-transmission",(function(){return hr})),nr(mt,"bad-character-enquiry",(function(){return fr})),nr(mt,"bad-character-acknowledge",(function(){return lr})),nr(mt,"bad-character-bell",(function(){return gr})),nr(mt,"bad-character-backspace",(function(){return pr})),nr(mt,"bad-character-character-tabulation",(function(){return br})),nr(mt,"bad-character-line-tabulation",(function(){return mr})),nr(mt,"bad-character-form-feed",(function(){return xr})),nr(mt,"bad-character-shift-out",(function(){return Ar})),nr(mt,"bad-character-shift-in",(function(){return yr})),nr(mt,"bad-character-data-link-escape",(function(){return Tr})),nr(mt,"bad-character-device-control-one",(function(){return vr})),nr(mt,"bad-character-device-control-two",(function(){return Ir})),nr(mt,"bad-character-device-control-three",(function(){return Cr})),nr(mt,"bad-character-device-control-four",(function(){return Er})),nr(mt,"bad-character-negative-acknowledge",(function(){return Or})),nr(mt,"bad-character-synchronous-idle",(function(){return wr})),nr(mt,"bad-character-end-of-transmission-block",(function(){return Rr})),nr(mt,"bad-character-cancel",(function(){return Fr})),nr(mt,"bad-character-end-of-medium",(function(){return Nr})),nr(mt,"bad-character-substitute",(function(){return Br})),nr(mt,"bad-character-escape",(function(){return _r})),nr(mt,"bad-character-information-separator-four",(function(){return Sr})),nr(mt,"bad-character-information-separator-three",(function(){return Lr})),nr(mt,"bad-character-information-separator-two",(function(){return jr})),nr(mt,"bad-character-information-separator-one",(function(){return kr})),nr(mt,"bad-character-delete",(function(){return Pr})),nr(mt,"bad-character-control-0080",(function(){return Mr})),nr(mt,"bad-character-control-0081",(function(){return Dr})),nr(mt,"bad-character-break-permitted-here",(function(){return Hr})),nr(mt,"bad-character-no-break-here",(function(){return $r})),nr(mt,"bad-character-control-0084",(function(){return Gr})),nr(mt,"bad-character-next-line",(function(){return Wr})),nr(mt,"bad-character-start-of-selected-area",(function(){return Ur})),nr(mt,"bad-character-end-of-selected-area",(function(){return qr})),nr(mt,"bad-character-character-tabulation-set",(function(){return zr})),nr(mt,"bad-character-character-tabulation-with-justification",(function(){return Vr})),nr(mt,"bad-character-line-tabulation-set",(function(){return Kr})),nr(mt,"bad-character-partial-line-forward",(function(){return Jr})),nr(mt,"bad-character-partial-line-backward",(function(){return Zr})),nr(mt,"bad-character-reverse-line-feed",(function(){return Yr})),nr(mt,"bad-character-single-shift-two",(function(){return Qr})),nr(mt,"bad-character-single-shift-three",(function(){return Xr})),nr(mt,"bad-character-device-control-string",(function(){return re})),nr(mt,"bad-character-private-use-1",(function(){return ee})),nr(mt,"bad-character-private-use-2",(function(){return te})),nr(mt,"bad-character-set-transmit-state",(function(){return ae})),nr(mt,"bad-character-cancel-character",(function(){return ne})),nr(mt,"bad-character-message-waiting",(function(){return ce})),nr(mt,"bad-character-start-of-protected-area",(function(){return oe})),nr(mt,"bad-character-end-of-protected-area",(function(){return ie})),nr(mt,"bad-character-start-of-string",(function(){return se})),nr(mt,"bad-character-control-0099",(function(){return ue})),nr(mt,"bad-character-single-character-introducer",(function(){return de})),nr(mt,"bad-character-control-sequence-introducer",(function(){return he})),nr(mt,"bad-character-string-terminator",(function(){return fe})),nr(mt,"bad-character-operating-system-command",(function(){return le})),nr(mt,"bad-character-private-message",(function(){return ge})),nr(mt,"bad-character-application-program-command",(function(){return pe})),nr(mt,"bad-character-soft-hyphen",(function(){return be})),nr(mt,"bad-character-non-breaking-space",(function(){return me})),nr(mt,"bad-character-ogham-space-mark",(function(){return xe})),nr(mt,"bad-character-en-quad",(function(){return Ae})),nr(mt,"bad-character-em-quad",(function(){return ye})),nr(mt,"bad-character-en-space",(function(){return Te})),nr(mt,"bad-character-em-space",(function(){return ve})),nr(mt,"bad-character-three-per-em-space",(function(){return Ie})),nr(mt,"bad-character-four-per-em-space",(function(){return Ce})),nr(mt,"bad-character-six-per-em-space",(function(){return Ee})),nr(mt,"bad-character-figure-space",(function(){return Oe})),nr(mt,"bad-character-punctuation-space",(function(){return we})),nr(mt,"bad-character-thin-space",(function(){return Re})),nr(mt,"bad-character-hair-space",(function(){return Fe})),nr(mt,"bad-character-zero-width-space",(function(){return Ne})),nr(mt,"bad-character-zero-width-non-joiner",(function(){return Be})),nr(mt,"bad-character-zero-width-joiner",(function(){return _e})),nr(mt,"bad-character-left-to-right-mark",(function(){return Se})),nr(mt,"bad-character-right-to-left-mark",(function(){return Le})),nr(mt,"bad-character-left-to-right-embedding",(function(){return je})),nr(mt,"bad-character-right-to-left-embedding",(function(){return ke})),nr(mt,"bad-character-pop-directional-formatting",(function(){return Pe})),nr(mt,"bad-character-left-to-right-override",(function(){return Me})),nr(mt,"bad-character-right-to-left-override",(function(){return De})),nr(mt,"bad-character-word-joiner",(function(){return He})),nr(mt,"bad-character-function-application",(function(){return $e})),nr(mt,"bad-character-invisible-times",(function(){return Ge})),nr(mt,"bad-character-invisible-separator",(function(){return We})),nr(mt,"bad-character-invisible-plus",(function(){return Ue})),nr(mt,"bad-character-left-to-right-isolate",(function(){return qe})),nr(mt,"bad-character-right-to-left-isolate",(function(){return ze})),nr(mt,"bad-character-first-strong-isolate",(function(){return Ve})),nr(mt,"bad-character-pop-directional-isolate",(function(){return Ke})),nr(mt,"bad-character-inhibit-symmetric-swapping",(function(){return Je})),nr(mt,"bad-character-activate-symmetric-swapping",(function(){return Ze})),nr(mt,"bad-character-inhibit-arabic-form-shaping",(function(){return Ye})),nr(mt,"bad-character-activate-arabic-form-shaping",(function(){return Qe})),nr(mt,"bad-character-national-digit-shapes",(function(){return Xe})),nr(mt,"bad-character-nominal-digit-shapes",(function(){return rt})),nr(mt,"bad-character-zero-width-no-break-space",(function(){return et})),nr(mt,"bad-character-interlinear-annotation-anchor",(function(){return tt})),nr(mt,"bad-character-interlinear-annotation-separator",(function(){return at})),nr(mt,"bad-character-interlinear-annotation-terminator",(function(){return nt})),nr(mt,"bad-character-line-separator",(function(){return ct})),nr(mt,"bad-character-paragraph-separator",(function(){return ot})),nr(mt,"bad-character-narrow-no-break-space",(function(){return it})),nr(mt,"bad-character-medium-mathematical-space",(function(){return st})),nr(mt,"bad-character-ideographic-space",(function(){return ut})),nr(mt,"tag-space-after-opening-bracket",(function(){return dt})),nr(mt,"tag-space-before-closing-slash",(function(){return ht})),nr(mt,"tag-space-between-slash-and-bracket",(function(){return ft})),nr(mt,"tag-closing-backslash",(function(){return gt})),nr(mt,"tag-void-slash",(function(){return bt})),At.prototype=Object.create(null),yt.EventEmitter=yt,yt.usingDomains=!1,yt.prototype.domain=void 0,yt.prototype._events=void 0,yt.prototype._maxListeners=void 0,yt.defaultMaxListeners=10,yt.init=function(){this.domain=null,yt.usingDomains&&(void 0).active&&(void 0).Domain,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new At,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},yt.prototype.setMaxListeners=function(r){if("number"!=typeof r||r<0||isNaN(r))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=r,this},yt.prototype.getMaxListeners=function(){return Tt(this)},yt.prototype.emit=function(r){var e,t,a,n,c,o,i,s="error"===r;if(o=this._events)s=s&&null==o.error;else if(!s)return!1;if(i=this.domain,s){if(e=arguments[1],!i){if(e instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=i,e.domainThrown=!1,i.emit("error",e),!1}if(!(t=o[r]))return!1;var d="function"==typeof t;switch(a=arguments.length){case 1:vt(t,d,this);break;case 2:It(t,d,this,arguments[1]);break;case 3:Ct(t,d,this,arguments[1],arguments[2]);break;case 4:Et(t,d,this,arguments[1],arguments[2],arguments[3]);break;default:for(n=new Array(a-1),c=1;c<a;c++)n[c-1]=arguments[c];Ot(t,d,this,n)}return!0},yt.prototype.addListener=function(r,e){return wt(this,r,e,!1)},yt.prototype.on=yt.prototype.addListener,yt.prototype.prependListener=function(r,e){return wt(this,r,e,!0)},yt.prototype.once=function(r,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(r,Rt(this,r,e)),this},yt.prototype.prependOnceListener=function(r,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(r,Rt(this,r,e)),this},yt.prototype.removeListener=function(r,e){var t,a,n,c,o;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(a=this._events))return this;if(!(t=a[r]))return this;if(t===e||t.listener&&t.listener===e)0==--this._eventsCount?this._events=new At:(delete a[r],a.removeListener&&this.emit("removeListener",r,t.listener||e));else if("function"!=typeof t){for(n=-1,c=t.length;c-- >0;)if(t[c]===e||t[c].listener&&t[c].listener===e){o=t[c].listener,n=c;break}if(n<0)return this;if(1===t.length){if(t[0]=void 0,0==--this._eventsCount)return this._events=new At,this;delete a[r]}else!function(r,e){for(var t=e,a=t+1,n=r.length;a<n;t+=1,a+=1)r[t]=r[a];r.pop()}(t,n);a.removeListener&&this.emit("removeListener",r,o||e)}return this},yt.prototype.removeAllListeners=function(r){var e,t;if(!(t=this._events))return this;if(!t.removeListener)return 0===arguments.length?(this._events=new At,this._eventsCount=0):t[r]&&(0==--this._eventsCount?this._events=new At:delete t[r]),this;if(0===arguments.length){for(var a,n=Object.keys(t),c=0;c<n.length;++c)"removeListener"!==(a=n[c])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=new At,this._eventsCount=0,this}if("function"==typeof(e=t[r]))this.removeListener(r,e);else if(e)do{this.removeListener(r,e[e.length-1])}while(e[0]);return this},yt.prototype.listeners=function(r){var e,t=this._events;return t&&(e=t[r])?"function"==typeof e?[e.listener||e]:function(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}(e):[]},yt.listenerCount=function(r,e){return"function"==typeof r.listenerCount?r.listenerCount(e):Ft.call(r,e)},yt.prototype.listenerCount=Ft,yt.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Bt={}.toString,_t=Array.isArray||function(r){return"[object Array]"==Bt.call(r)},St=Lt;function Lt(r,e){if(!(this instanceof Lt))return"number"==typeof e?new Lt(r).fromIndex(e):new Lt(r,e);this.str=r||"",this.lineToIndex=function(r){for(var e=r.split("\n"),t=new Array(e.length),a=0,n=0,c=e.length;n<c;n++)t[n]=a,a+=e[n].length+1;return t}(this.str),e=e||{},this.origin=void 0===e.origin?1:e.origin}Lt.prototype.fromIndex=function(r){if(r<0||r>=this.str.length||isNaN(r))return null;var e=function(r,e){if(r>=e[e.length-1])return e.length-1;var t,a=0,n=e.length-2;for(;a<n;)if(r<e[t=a+(n-a>>1)])n=t-1;else{if(!(r>=e[t+1])){a=t;break}a=t+1}return a}(r,this.lineToIndex);return{line:e+this.origin,col:r-this.lineToIndex[e]+this.origin}},Lt.prototype.toIndex=function(r,e){if(void 0===e)return _t(r)&&r.length>=2?this.toIndex(r[0],r[1]):null!=(t=r)&&"object"==typeof t&&!1===_t(t)&&"line"in r&&("col"in r||"column"in r)?this.toIndex(r.line,"col"in r?r.col:r.column):-1;var t;if(isNaN(r)||isNaN(e))return-1;if(r-=this.origin,e-=this.origin,r>=0&&e>=0&&r<this.lineToIndex.length){var a=this.lineToIndex[r];if(e<(r===this.lineToIndex.length-1?this.str.length:this.lineToIndex[r+1])-a)return a+e}return-1};var jt=function(r){function o(){return function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),n(this,t(o).apply(this,arguments))}var i,s,u;return function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&a(r,e)}(o,r),i=o,(s=[{key:"verify",value:function(r,e){var t=this;this.messages=[],this.str=r,this.config=e;var a,n,o=(a=e.rules,n={},Object.keys(a).includes("bad-character")&&cr.forEach((function(r){n[r]=a["bad-character"]})),Object.keys(a).includes("tag")&&or.forEach((function(r){n[r]=a.tag})),Object.keys(a).forEach((function(r){["tag","bad-character"].includes(r)||(n[r]=U(a[r]))})),n);this.processedRulesConfig=o,Object.keys(o).filter((function(r){return"number"==typeof o[r]?o[r]>0:Array.isArray(o[r])?o[r][0]>0:void 0})).forEach((function(r){var e;e=Array.isArray(o[r])&&o[r].length>1?xt(r).apply(void 0,[t].concat(c(o[r].slice(1)))):xt(r)(t),Object.keys(e).forEach((function(r){t.on(r,(function(){var t;(t=e)[r].apply(t,arguments)}))}))}));for(var i=r.length,s=0;s<i;s++)this.emit("character",r[s],s);return function(r,e,t){if(!Y(r))throw void 0===r?new Error("codsen-tokenizer: [THROW_ID_01] the first input argument is completely missing! It should be given as string."):new Error(`codsen-tokenizer: [THROW_ID_02] the first input argument must be string! It was given as "${typeof r}", equal to:\n${JSON.stringify(r,null,4)}`);if("function"!=typeof e)throw new Error(`codsen-tokenizer: [THROW_ID_03] the second input argument, callback function, should be a function but it was given as type ${typeof e}, equal to ${JSON.stringify(e,null,4)}`);if(t&&!m(t))throw new Error(`codsen-tokenizer: [THROW_ID_04] the third input argument, options object, should be a plain object but it was given as type ${typeof t}, equal to ${JSON.stringify(t,null,4)}`);const a=Object.assign({},er,t);if(a.reportProgressFunc&&"function"!=typeof a.reportProgressFunc)throw new TypeError(`codsen-tokenizer: [THROW_ID_05] opts.reportProgressFunc should be a function but it was given as :\n${JSON.stringify(a.reportProgressFunc,null,4)} (${typeof a.reportProgressFunc})`);let n,c=0;const o=r.length,i=Math.floor(o/2);let s,u=!1,d={};const h={type:null,start:null,end:null,tail:null,kind:null};function f(){d=Object.assign({},h)}f();const l=[];function g(r,e){if(!l.length)return!1;if("simple"===l[l.length-1].type)return r[e]===l[l.length-1].value;if("esp"===l[l.length-1].type){if(!ar.includes(r[e]))return!1;let t="";const a=r.length;for(let n=e;n<a&&ar.includes(r[n]);n++)t+=r[n];return l[l.length-1].value.split("").every(r=>t.includes(r))}}function p(r){e(U(r)),f()}function b(e,t){"text"!==e.type&&null!==e.start&&r[t-1]&&!r[t-1].trim().length&&(e.end=z(r,t)+1,p(e),e.start=z(r,t)+1,e.type="text"),null!==e.start&&(e.end=t,p(e))}for(let e=0;e<o;e++){if(a.reportProgressFunc&&(o>1e3&&o<2e3?e===i&&a.reportProgressFunc(Math.floor((a.reportProgressFuncTo-a.reportProgressFuncFrom)/2)):o>=2e3&&(n=a.reportProgressFuncFrom+Math.floor(e/o*(a.reportProgressFuncTo-a.reportProgressFuncFrom)))!==c&&(c=n,a.reportProgressFunc(n))),Number.isInteger(s)&&e>=s&&(s=!1),d.end&&d.end===e&&("style"===d.kind&&(u=!0),b(d,e)),!s&&["html"].includes(d.type)&&['"',"'"].includes(r[e])&&(g(r,e)?l.pop():l.length&&"esp"===l[l.length-1].type||l.push({type:"simple",value:r[e]})),!s)if(l.length||"<"!==r[e]||!Z(r,e)&&!W(r,e,["!--","!doctype","?xml"],{i:!0})||"esp"===d.type&&!d.tail.includes(r[e]))if("html"===d.type&&"comment"===d.kind||!ar.includes(r[e])||!r[e+1]||!ar.includes(r[e+1])||"-"===r[e]&&"-"===r[e+1])null!==d.start&&d.end!==e||(u?r[e].trim().length?(d.start=e,d.type="css"):(d.start=e,d.type="text",d.end=q(r,e)||r.length,p(d),q(r,e)&&(d.start=q(r,e),d.type="css",s=q(r,e))):(d.start=e,d.type="text"));else{let t="";for(let a=e;a<o&&ar.includes(r[a]);a++)t+=r[a];["html","esp"].includes(d.type)?"html"===d.type&&(g(r,e)?l.pop():l.push({type:"esp",value:rr(t)})):(b(d,e),d.start=e,d.type="esp",s=e+t.length,d.tail=rr(t))}else d.type&&b(d,e),d.start=e,d.type="html",d=Object.assign({tagNameStartAt:null,tagNameEndAt:null,tagName:null,recognised:null,closing:!1,void:!1,pureHTML:!0,esp:[]},d),W(r,e,"!--")?d.kind="comment":W(r,e,"!doctype",{i:!0})?d.kind="doctype":W(r,e,"?xml",{i:!0})?d.kind="xml":W(r,e,"style",{i:!0,trimCharsBeforeMatching:"/"})&&(d.kind="style");if(!s)if("html"!==d.type||l.length||">"!==r[e]){if("esp"===d.type&&null===d.end&&Y(d.tail)&&d.tail.includes(r[e])){let t="";for(let a=e;a<o&&ar.includes(r[a]);a++)t+=r[a];d.end=e+t.length,s=e+t.length}}else d.end=e+1;"html"===d.type&&Q(d.tagNameStartAt)&&!Q(d.tagNameEndAt)&&(X(r[e])||(d.tagNameEndAt=e,d.tagName=r.slice(d.tagNameStartAt,e),tr.includes(d.tagName)&&(d.void=!0))),"html"===d.type&&!Q(d.tagNameStartAt)&&Q(d.start)&&d.start<e&&("/"===r[e]?d.closing=!0:X(r[e])&&(d.tagNameStartAt=e,d.closing||(d.closing=!1))),r[e+1]||null===d.start||(d.end=e+1,p(d))}}(r,(function(r){t.emit(r.type,r)})),this.messages}},{key:"report",value:function(r){var e,t=St(this.str,r.idxFrom),a=t.line,n=t.col;e="number"==typeof this.processedRulesConfig[r.ruleId]?this.processedRulesConfig[r.ruleId]:this.processedRulesConfig[r.ruleId][0],this.messages.push(Object.assign({},{line:a,column:n,severity:e},r))}}])&&e(i.prototype,s),u&&e(i,u),o}(yt);r.Linter=jt,r.version="2.0.0",Object.defineProperty(r,"__esModule",{value:!0})}));
