/**
 * html-crush
 * Minifies HTML/CSS: valid or broken, pure or mixed with other languages
 * Version: 0.6.2
 * Author: Roy Revelt, Codsen Ltd
 * License: MIT
 * Homepage: https://bitbucket.org/codsen/codsen/src/master/packages/html-crush
 */

!function(n,u){"object"==typeof exports&&"undefined"!=typeof module?u(exports):"function"==typeof define&&define.amd?define(["exports"],u):u((n=n||self).htmlCrush={})}(this,function(n){"use strict";function u(n){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function f(n,u){return function(n){if(Array.isArray(n))return n}(n)||function(n,u){var f=[],r=!0,l=!1,y=void 0;try{for(var o,c=n[Symbol.iterator]();!(r=(o=c.next()).done)&&(f.push(o.value),!u||f.length!==u);r=!0);}catch(n){l=!0,y=n}finally{try{r||null==c.return||c.return()}finally{if(l)throw y}}return f}(n,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(n){return function(n){if(Array.isArray(n)){for(var u=0,f=new Array(n.length);u<n.length;u++)f[u]=n[u];return f}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function y(n,u){return n(u={exports:{}},u.exports),u.exports}var o=y(function(n,u){var f,r,y,o,c,v,p,b,$,i,m,j,J,h,Z,k,q,W,U,z;n.exports=(f="function"==typeof Promise,r="object"==typeof self?self:l,y="undefined"!=typeof Symbol,o="undefined"!=typeof Map,c="undefined"!=typeof Set,v="undefined"!=typeof WeakMap,p="undefined"!=typeof WeakSet,b="undefined"!=typeof DataView,$=y&&void 0!==Symbol.iterator,i=y&&void 0!==Symbol.toStringTag,m=c&&"function"==typeof Set.prototype.entries,j=o&&"function"==typeof Map.prototype.entries,J=m&&Object.getPrototypeOf((new Set).entries()),h=j&&Object.getPrototypeOf((new Map).entries()),Z=$&&"function"==typeof Array.prototype[Symbol.iterator],k=Z&&Object.getPrototypeOf([][Symbol.iterator]()),q=$&&"function"==typeof String.prototype[Symbol.iterator],W=q&&Object.getPrototypeOf(""[Symbol.iterator]()),U=8,z=-1,function(n){var u=typeof n;if("object"!==u)return u;if(null===n)return"null";if(n===r)return"global";if(Array.isArray(n)&&(!1===i||!(Symbol.toStringTag in n)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&n===window.location)return"Location";if("object"==typeof window.document&&n===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&n===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&n===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&n instanceof window.HTMLElement){if("BLOCKQUOTE"===n.tagName)return"HTMLQuoteElement";if("TD"===n.tagName)return"HTMLTableDataCellElement";if("TH"===n.tagName)return"HTMLTableHeaderCellElement"}}var l=i&&n[Symbol.toStringTag];if("string"==typeof l)return l;var y=Object.getPrototypeOf(n);return y===RegExp.prototype?"RegExp":y===Date.prototype?"Date":f&&y===Promise.prototype?"Promise":c&&y===Set.prototype?"Set":o&&y===Map.prototype?"Map":p&&y===WeakSet.prototype?"WeakSet":v&&y===WeakMap.prototype?"WeakMap":b&&y===DataView.prototype?"DataView":o&&y===h?"Map Iterator":c&&y===J?"Set Iterator":Z&&y===k?"Array Iterator":q&&y===W?"String Iterator":null===y?"Object":Object.prototype.toString.call(n).slice(U,z)})});function c(n,u,f){if(u!=u)return function(n,u,f,r){for(var l=n.length,y=f+(r?1:-1);r?y--:++y<l;)if(u(n[y],y,n))return y;return-1}(n,p,f);for(var r=f-1,l=n.length;++r<l;)if(n[r]===u)return r;return-1}function v(n,u,f,r){for(var l=f-1,y=n.length;++l<y;)if(r(n[l],u))return l;return-1}function p(n){return n!=n}var b=Array.prototype.splice;function $(n,u,f,r){var l,y=r?v:c,o=-1,p=u.length,$=n;for(n===u&&(u=function(n,u){var f=-1,r=n.length;u||(u=Array(r));for(;++f<r;)u[f]=n[f];return u}(u)),f&&($=function(n,u){for(var f=-1,r=n?n.length:0,l=Array(r);++f<r;)l[f]=u(n[f],f,n);return l}(n,(l=f,function(n){return l(n)})));++o<p;)for(var i=0,m=u[o],j=f?f(m):m;(i=y($,j,i,r))>-1;)$!==n&&b.call($,i,1),b.call(n,i,1);return n}var i=function(n,u){return n&&n.length&&u&&u.length?$(n,u):n},m=y(function(n,u){var f=200,r="__lodash_hash_undefined__",y=9007199254740991,o="[object Arguments]",c="[object Boolean]",v="[object Date]",p="[object Function]",b="[object GeneratorFunction]",$="[object Map]",i="[object Number]",m="[object Object]",j="[object RegExp]",J="[object Set]",h="[object String]",Z="[object Symbol]",k="[object ArrayBuffer]",q="[object DataView]",W="[object Float32Array]",U="[object Float64Array]",z="[object Int8Array]",Q="[object Int16Array]",X="[object Int32Array]",B="[object Uint8Array]",O="[object Uint8ClampedArray]",V="[object Uint16Array]",M="[object Uint32Array]",K=/\w*$/,Y=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,R={};R[o]=R["[object Array]"]=R[k]=R[q]=R[c]=R[v]=R[W]=R[U]=R[z]=R[Q]=R[X]=R[$]=R[i]=R[m]=R[j]=R[J]=R[h]=R[Z]=R[B]=R[O]=R[V]=R[M]=!0,R["[object Error]"]=R[p]=R["[object WeakMap]"]=!1;var N="object"==typeof l&&l&&l.Object===Object&&l,w="object"==typeof self&&self&&self.Object===Object&&self,x=N||w||Function("return this")(),P=u&&!u.nodeType&&u,D=P&&n&&!n.nodeType&&n,H=D&&D.exports===P;function g(n,u){return n.set(u[0],u[1]),n}function C(n,u){return n.add(u),n}function S(n,u,f,r){var l=-1,y=n?n.length:0;for(r&&y&&(f=n[++l]);++l<y;)f=u(f,n[l],l,n);return f}function I(n){var u=!1;if(null!=n&&"function"!=typeof n.toString)try{u=!!(n+"")}catch(n){}return u}function E(n){var u=-1,f=Array(n.size);return n.forEach(function(n,r){f[++u]=[r,n]}),f}function L(n,u){return function(f){return n(u(f))}}function F(n){var u=-1,f=Array(n.size);return n.forEach(function(n){f[++u]=n}),f}var e,t=Array.prototype,s=Function.prototype,T=Object.prototype,A=x["__core-js_shared__"],d=(e=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",a=s.toString,_=T.hasOwnProperty,nn=T.toString,un=RegExp("^"+a.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fn=H?x.Buffer:void 0,rn=x.Symbol,ln=x.Uint8Array,yn=L(Object.getPrototypeOf,Object),on=Object.create,cn=T.propertyIsEnumerable,vn=t.splice,pn=Object.getOwnPropertySymbols,bn=fn?fn.isBuffer:void 0,$n=L(Object.keys,Object),mn=Hn(x,"DataView"),jn=Hn(x,"Map"),Jn=Hn(x,"Promise"),hn=Hn(x,"Set"),Zn=Hn(x,"WeakMap"),kn=Hn(Object,"create"),qn=En(mn),Wn=En(jn),Un=En(Jn),zn=En(hn),Qn=En(Zn),Xn=rn?rn.prototype:void 0,Bn=Xn?Xn.valueOf:void 0;function On(n){var u=-1,f=n?n.length:0;for(this.clear();++u<f;){var r=n[u];this.set(r[0],r[1])}}function Vn(n){var u=-1,f=n?n.length:0;for(this.clear();++u<f;){var r=n[u];this.set(r[0],r[1])}}function Mn(n){var u=-1,f=n?n.length:0;for(this.clear();++u<f;){var r=n[u];this.set(r[0],r[1])}}function Kn(n){this.__data__=new Vn(n)}function Yn(n,u){var f=Fn(n)||function(n){return function(n){return function(n){return!!n&&"object"==typeof n}(n)&&en(n)}(n)&&_.call(n,"callee")&&(!cn.call(n,"callee")||nn.call(n)==o)}(n)?function(n,u){for(var f=-1,r=Array(n);++f<n;)r[f]=u(f);return r}(n.length,String):[],r=f.length,l=!!r;for(var y in n)!u&&!_.call(n,y)||l&&("length"==y||Sn(y,r))||f.push(y);return f}function Gn(n,u,f){var r=n[u];_.call(n,u)&&Ln(r,f)&&(void 0!==f||u in n)||(n[u]=f)}function Rn(n,u){for(var f=n.length;f--;)if(Ln(n[f][0],u))return f;return-1}function Nn(n,u,f,r,l,y,Y){var G;if(r&&(G=y?r(n,l,y,Y):r(n)),void 0!==G)return G;if(!Tn(n))return n;var N=Fn(n);if(N){if(G=function(n){var u=n.length,f=n.constructor(u);u&&"string"==typeof n[0]&&_.call(n,"index")&&(f.index=n.index,f.input=n.input);return f}(n),!u)return function(n,u){var f=-1,r=n.length;u||(u=Array(r));for(;++f<r;)u[f]=n[f];return u}(n,G)}else{var w=Cn(n),x=w==p||w==b;if(tn(n))return function(n,u){if(u)return n.slice();var f=new n.constructor(n.length);return n.copy(f),f}(n,u);if(w==m||w==o||x&&!y){if(I(n))return y?n:{};if(G=function(n){return"function"!=typeof n.constructor||In(n)?{}:(u=yn(n),Tn(u)?on(u):{});var u}(x?{}:n),!u)return function(n,u){return Pn(n,gn(n),u)}(n,function(n,u){return n&&Pn(u,An(u),n)}(G,n))}else{if(!R[w])return y?n:{};G=function(n,u,f,r){var l=n.constructor;switch(u){case k:return xn(n);case c:case v:return new l(+n);case q:return function(n,u){var f=u?xn(n.buffer):n.buffer;return new n.constructor(f,n.byteOffset,n.byteLength)}(n,r);case W:case U:case z:case Q:case X:case B:case O:case V:case M:return function(n,u){var f=u?xn(n.buffer):n.buffer;return new n.constructor(f,n.byteOffset,n.length)}(n,r);case $:return function(n,u,f){return S(u?f(E(n),!0):E(n),g,new n.constructor)}(n,r,f);case i:case h:return new l(n);case j:return(p=new(o=n).constructor(o.source,K.exec(o))).lastIndex=o.lastIndex,p;case J:return function(n,u,f){return S(u?f(F(n),!0):F(n),C,new n.constructor)}(n,r,f);case Z:return y=n,Bn?Object(Bn.call(y)):{}}var y;var o,p}(n,w,Nn,u)}}Y||(Y=new Kn);var P=Y.get(n);if(P)return P;if(Y.set(n,G),!N)var D=f?function(n){return function(n,u,f){var r=u(n);return Fn(n)?r:function(n,u){for(var f=-1,r=u.length,l=n.length;++f<r;)n[l+f]=u[f];return n}(r,f(n))}(n,An,gn)}(n):An(n);return function(n,u){for(var f=-1,r=n?n.length:0;++f<r&&!1!==u(n[f],f,n););}(D||n,function(l,y){D&&(l=n[y=l]),Gn(G,y,Nn(l,u,f,r,y,n,Y))}),G}function wn(n){return!(!Tn(n)||(u=n,d&&d in u))&&(sn(n)||I(n)?un:Y).test(En(n));var u}function xn(n){var u=new n.constructor(n.byteLength);return new ln(u).set(new ln(n)),u}function Pn(n,u,f,r){f||(f={});for(var l=-1,y=u.length;++l<y;){var o=u[l],c=r?r(f[o],n[o],o,f,n):void 0;Gn(f,o,void 0===c?n[o]:c)}return f}function Dn(n,u){var f,r,l=n.__data__;return("string"==(r=typeof(f=u))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==f:null===f)?l["string"==typeof u?"string":"hash"]:l.map}function Hn(n,u){var f=function(n,u){return null==n?void 0:n[u]}(n,u);return wn(f)?f:void 0}On.prototype.clear=function(){this.__data__=kn?kn(null):{}},On.prototype.delete=function(n){return this.has(n)&&delete this.__data__[n]},On.prototype.get=function(n){var u=this.__data__;if(kn){var f=u[n];return f===r?void 0:f}return _.call(u,n)?u[n]:void 0},On.prototype.has=function(n){var u=this.__data__;return kn?void 0!==u[n]:_.call(u,n)},On.prototype.set=function(n,u){return this.__data__[n]=kn&&void 0===u?r:u,this},Vn.prototype.clear=function(){this.__data__=[]},Vn.prototype.delete=function(n){var u=this.__data__,f=Rn(u,n);return!(f<0||(f==u.length-1?u.pop():vn.call(u,f,1),0))},Vn.prototype.get=function(n){var u=this.__data__,f=Rn(u,n);return f<0?void 0:u[f][1]},Vn.prototype.has=function(n){return Rn(this.__data__,n)>-1},Vn.prototype.set=function(n,u){var f=this.__data__,r=Rn(f,n);return r<0?f.push([n,u]):f[r][1]=u,this},Mn.prototype.clear=function(){this.__data__={hash:new On,map:new(jn||Vn),string:new On}},Mn.prototype.delete=function(n){return Dn(this,n).delete(n)},Mn.prototype.get=function(n){return Dn(this,n).get(n)},Mn.prototype.has=function(n){return Dn(this,n).has(n)},Mn.prototype.set=function(n,u){return Dn(this,n).set(n,u),this},Kn.prototype.clear=function(){this.__data__=new Vn},Kn.prototype.delete=function(n){return this.__data__.delete(n)},Kn.prototype.get=function(n){return this.__data__.get(n)},Kn.prototype.has=function(n){return this.__data__.has(n)},Kn.prototype.set=function(n,u){var r=this.__data__;if(r instanceof Vn){var l=r.__data__;if(!jn||l.length<f-1)return l.push([n,u]),this;r=this.__data__=new Mn(l)}return r.set(n,u),this};var gn=pn?L(pn,Object):function(){return[]},Cn=function(n){return nn.call(n)};function Sn(n,u){return!!(u=null==u?y:u)&&("number"==typeof n||G.test(n))&&n>-1&&n%1==0&&n<u}function In(n){var u=n&&n.constructor;return n===("function"==typeof u&&u.prototype||T)}function En(n){if(null!=n){try{return a.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function Ln(n,u){return n===u||n!=n&&u!=u}(mn&&Cn(new mn(new ArrayBuffer(1)))!=q||jn&&Cn(new jn)!=$||Jn&&"[object Promise]"!=Cn(Jn.resolve())||hn&&Cn(new hn)!=J||Zn&&"[object WeakMap]"!=Cn(new Zn))&&(Cn=function(n){var u=nn.call(n),f=u==m?n.constructor:void 0,r=f?En(f):void 0;if(r)switch(r){case qn:return q;case Wn:return $;case Un:return"[object Promise]";case zn:return J;case Qn:return"[object WeakMap]"}return u});var Fn=Array.isArray;function en(n){return null!=n&&function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=y}(n.length)&&!sn(n)}var tn=bn||function(){return!1};function sn(n){var u=Tn(n)?nn.call(n):"";return u==p||u==b}function Tn(n){var u=typeof n;return!!n&&("object"==u||"function"==u)}function An(n){return en(n)?Yn(n):function(n){if(!In(n))return $n(n);var u=[];for(var f in Object(n))_.call(n,f)&&"constructor"!=f&&u.push(f);return u}(n)}n.exports=function(n){return Nn(n,!0,!0)}}),j="[object Object]";var J,h,Z=Function.prototype,k=Object.prototype,q=Z.toString,W=k.hasOwnProperty,U=q.call(Object),z=k.toString,Q=(J=Object.getPrototypeOf,h=Object,function(n){return J(h(n))});var X=function(n){if(!function(n){return!!n&&"object"==typeof n}(n)||z.call(n)!=j||function(n){var u=!1;if(null!=n&&"function"!=typeof n.toString)try{u=!!(n+"")}catch(n){}return u}(n))return!1;var u=Q(n);if(null===u)return!0;var f=W.call(u,"constructor")&&u.constructor;return"function"==typeof f&&f instanceof f&&q.call(f)==U};const B=Array.isArray;function O(n){return"string"==typeof n&&n.length>0&&"."===n[0]?n.slice(1):n}function V(n,u){return function n(u,f,r){const l=m(u);let y,o,c,v,p;if((r=Object.assign({depth:-1,path:""},r)).depth+=1,B(l))for(y=0,o=l.length;y<o;y++){const u=`${r.path}.${y}`;void 0!==l[y]?(r.parent=m(l),c=n(f(l[y],void 0,Object.assign({},r,{path:O(u)})),f,Object.assign({},r,{path:O(u)})),Number.isNaN(c)&&y<l.length?(l.splice(y,1),y-=1):l[y]=c):l.splice(y,1)}else if(X(l))for(y=0,o=(v=Object.keys(l)).length;y<o;y++){p=v[y];const u=`${r.path}.${p}`;0===r.depth&&null!=p&&(r.topmostKey=p),r.parent=m(l),c=n(f(p,l[p],Object.assign({},r,{path:O(u)})),f,Object.assign({},r,{path:O(u)})),Number.isNaN(c)?delete l[p]:l[p]=c}return l}(n,u,{})}var M="__lodash_hash_undefined__",K=9007199254740991,Y="[object Function]",G="[object GeneratorFunction]",R=/^\[object .+?Constructor\]$/,N="object"==typeof l&&l&&l.Object===Object&&l,w="object"==typeof self&&self&&self.Object===Object&&self,x=N||w||Function("return this")();function P(n,u){return!!(n?n.length:0)&&function(n,u,f){if(u!=u)return function(n,u,f,r){var l=n.length,y=f+(r?1:-1);for(;r?y--:++y<l;)if(u(n[y],y,n))return y;return-1}(n,g,f);var r=f-1,l=n.length;for(;++r<l;)if(n[r]===u)return r;return-1}(n,u,0)>-1}function D(n,u,f){for(var r=-1,l=n?n.length:0;++r<l;)if(f(u,n[r]))return!0;return!1}function H(n,u){for(var f=-1,r=n?n.length:0,l=Array(r);++f<r;)l[f]=u(n[f],f,n);return l}function g(n){return n!=n}function C(n){return function(u){return n(u)}}function S(n,u){return n.has(u)}var I,E=Array.prototype,L=Function.prototype,F=Object.prototype,e=x["__core-js_shared__"],t=(I=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"",s=L.toString,T=F.hasOwnProperty,A=F.toString,d=RegExp("^"+s.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),a=E.splice,_=Math.max,nn=Math.min,un=$n(x,"Map"),fn=$n(Object,"create");function rn(n){var u=-1,f=n?n.length:0;for(this.clear();++u<f;){var r=n[u];this.set(r[0],r[1])}}function ln(n){var u=-1,f=n?n.length:0;for(this.clear();++u<f;){var r=n[u];this.set(r[0],r[1])}}function yn(n){var u=-1,f=n?n.length:0;for(this.clear();++u<f;){var r=n[u];this.set(r[0],r[1])}}function on(n){var u=-1,f=n?n.length:0;for(this.__data__=new yn;++u<f;)this.add(n[u])}function cn(n,u){for(var f,r,l=n.length;l--;)if((f=n[l][0])===(r=u)||f!=f&&r!=r)return l;return-1}function vn(n){return!(!jn(n)||(u=n,t&&t in u))&&(mn(n)||function(n){var u=!1;if(null!=n&&"function"!=typeof n.toString)try{u=!!(n+"")}catch(n){}return u}(n)?d:R).test(function(n){if(null!=n){try{return s.call(n)}catch(n){}try{return n+""}catch(n){}}return""}(n));var u}function pn(n){return function(n){return function(n){return!!n&&"object"==typeof n}(n)&&function(n){return null!=n&&function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=K}(n.length)&&!mn(n)}(n)}(n)?n:[]}function bn(n,u){var f,r,l=n.__data__;return("string"==(r=typeof(f=u))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==f:null===f)?l["string"==typeof u?"string":"hash"]:l.map}function $n(n,u){var f=function(n,u){return null==n?void 0:n[u]}(n,u);return vn(f)?f:void 0}function mn(n){var u=jn(n)?A.call(n):"";return u==Y||u==G}function jn(n){var u=typeof n;return!!n&&("object"==u||"function"==u)}rn.prototype.clear=function(){this.__data__=fn?fn(null):{}},rn.prototype.delete=function(n){return this.has(n)&&delete this.__data__[n]},rn.prototype.get=function(n){var u=this.__data__;if(fn){var f=u[n];return f===M?void 0:f}return T.call(u,n)?u[n]:void 0},rn.prototype.has=function(n){var u=this.__data__;return fn?void 0!==u[n]:T.call(u,n)},rn.prototype.set=function(n,u){return this.__data__[n]=fn&&void 0===u?M:u,this},ln.prototype.clear=function(){this.__data__=[]},ln.prototype.delete=function(n){var u=this.__data__,f=cn(u,n);return!(f<0||(f==u.length-1?u.pop():a.call(u,f,1),0))},ln.prototype.get=function(n){var u=this.__data__,f=cn(u,n);return f<0?void 0:u[f][1]},ln.prototype.has=function(n){return cn(this.__data__,n)>-1},ln.prototype.set=function(n,u){var f=this.__data__,r=cn(f,n);return r<0?f.push([n,u]):f[r][1]=u,this},yn.prototype.clear=function(){this.__data__={hash:new rn,map:new(un||ln),string:new rn}},yn.prototype.delete=function(n){return bn(this,n).delete(n)},yn.prototype.get=function(n){return bn(this,n).get(n)},yn.prototype.has=function(n){return bn(this,n).has(n)},yn.prototype.set=function(n,u){return bn(this,n).set(n,u),this},on.prototype.add=on.prototype.push=function(n){return this.__data__.set(n,M),this},on.prototype.has=function(n){return this.__data__.has(n)};var Jn=function(n,u){return u=_(void 0===u?n.length-1:u,0),function(){for(var f=arguments,r=-1,l=_(f.length-u,0),y=Array(l);++r<l;)y[r]=f[u+r];r=-1;for(var o=Array(u+1);++r<u;)o[r]=f[r];return o[u]=y,function(n,u,f){switch(f.length){case 0:return n.call(u);case 1:return n.call(u,f[0]);case 2:return n.call(u,f[0],f[1]);case 3:return n.call(u,f[0],f[1],f[2])}return n.apply(u,f)}(n,this,o)}}(function(n){var u=H(n,pn);return u.length&&u[0]===n[0]?function(n,u,f){for(var r=f?D:P,l=n[0].length,y=n.length,o=y,c=Array(y),v=1/0,p=[];o--;){var b=n[o];o&&u&&(b=H(b,C(u))),v=nn(b.length,v),c[o]=!f&&(u||l>=120&&b.length>=120)?new on(o&&b):void 0}b=n[0];var $=-1,i=c[0];n:for(;++$<l&&p.length<v;){var m=b[$],j=u?u(m):m;if(m=f||0!==m?m:0,!(i?S(i,j):r(p,j,f))){for(o=y;--o;){var J=c[o];if(!(J?S(J,j):r(n[o],j,f)))continue n}i&&i.push(j),p.push(m)}}return p}(u):[]});function hn(n){return"string"==typeof n?n.length>0?[n]:[]:n}var Zn=y(function(n){n.exports=function(){var n=Object.prototype.toString;function u(n,u){return null!=n&&Object.prototype.hasOwnProperty.call(n,u)}function f(n){if(!n)return!0;if(l(n)&&0===n.length)return!0;if("string"!=typeof n){for(var f in n)if(u(n,f))return!1;return!0}return!1}function r(u){return n.call(u)}var l=Array.isArray||function(u){return"[object Array]"===n.call(u)};function y(n){var u=parseInt(n);return u.toString()===n?u:n}function o(n){n=n||{};var o=function(n){return Object.keys(o).reduce(function(u,f){return"create"===f?u:("function"==typeof o[f]&&(u[f]=o[f].bind(o,n)),u)},{})};function c(f,r){return n.includeInheritedProps||"number"==typeof r&&Array.isArray(f)||u(f,r)}function v(n,u){if(c(n,u))return n[u]}function p(n,u,f,r){if("number"==typeof u&&(u=[u]),!u||0===u.length)return n;if("string"==typeof u)return p(n,u.split(".").map(y),f,r);var l=u[0],o=v(n,l);return 1===u.length?(void 0!==o&&r||(n[l]=f),o):(void 0===o&&("number"==typeof u[1]?n[l]=[]:n[l]={}),p(n[l],u.slice(1),f,r))}return o.has=function(f,r){if("number"==typeof r?r=[r]:"string"==typeof r&&(r=r.split(".")),!r||0===r.length)return!!f;for(var o=0;o<r.length;o++){var c=y(r[o]);if(!("number"==typeof c&&l(f)&&c<f.length||(n.includeInheritedProps?c in Object(f):u(f,c))))return!1;f=f[c]}return!0},o.ensureExists=function(n,u,f){return p(n,u,f,!0)},o.set=function(n,u,f,r){return p(n,u,f,r)},o.insert=function(n,u,f,r){var y=o.get(n,u);r=~~r,l(y)||(y=[],o.set(n,u,y)),y.splice(r,0,f)},o.empty=function(n,u){var y,v;if(!f(u)&&null!=n&&(y=o.get(n,u))){if("string"==typeof y)return o.set(n,u,"");if(function(n){return"boolean"==typeof n||"[object Boolean]"===r(n)}(y))return o.set(n,u,!1);if("number"==typeof y)return o.set(n,u,0);if(l(y))y.length=0;else{if(!function(n){return"object"==typeof n&&"[object Object]"===r(n)}(y))return o.set(n,u,null);for(v in y)c(y,v)&&delete y[v]}}},o.push=function(n,u){var f=o.get(n,u);l(f)||(f=[],o.set(n,u,f)),f.push.apply(f,Array.prototype.slice.call(arguments,2))},o.coalesce=function(n,u,f){for(var r,l=0,y=u.length;l<y;l++)if(void 0!==(r=o.get(n,u[l])))return r;return f},o.get=function(n,u,f){if("number"==typeof u&&(u=[u]),!u||0===u.length)return n;if(null==n)return f;if("string"==typeof u)return o.get(n,u.split("."),f);var r=y(u[0]),l=v(n,r);return void 0===l?f:1===u.length?l:o.get(n[r],u.slice(1),f)},o.del=function(n,u){if("number"==typeof u&&(u=[u]),null==n)return n;if(f(u))return n;if("string"==typeof u)return o.del(n,u.split("."));var r=y(u[0]);return c(n,r)?1!==u.length?o.del(n[r],u.slice(1)):(l(n)?n.splice(r,1):delete n[r],n):n},o}var c=o();return c.create=o,c.withInheritedProps=o({includeInheritedProps:!0}),c}()}),kn=function(n){var u=n%100;if(u>=10&&u<=20)return"th";var f=n%10;return 1===f?"st":2===f?"nd":3===f?"rd":"th"};function qn(n){if("number"!=typeof n)throw new TypeError("Expected Number, got "+typeof n+" "+n);return n+kn(n)}qn.indicator=kn;var Wn=qn,Un=/[|\\{}()[\]^$+*?.]/g,zn=function(n){if("string"!=typeof n)throw new TypeError("Expected a string");return n.replace(Un,"\\$&")};const Qn=new Map;function Xn(n,u){const f=Object.assign({caseSensitive:!1},u),r=n+JSON.stringify(f);if(Qn.has(r))return Qn.get(r);const l="!"===n[0];l&&(n=n.slice(1)),n=zn(n).replace(/\\\*/g,".*");const y=new RegExp(`^${n}$`,f.caseSensitive?"":"i");return y.negated=l,Qn.set(r,y),y}var Bn=(n,u,f)=>{if(!Array.isArray(n)||!Array.isArray(u))throw new TypeError(`Expected two arrays, got ${typeof n} ${typeof u}`);if(0===u.length)return n;const r="!"===u[0][0];u=u.map(n=>Xn(n,f));const l=[];for(const f of n){let n=r;for(const r of u)r.test(f)&&(n=!r.negated);n&&l.push(f)}return l};function On(n,u,f){return function n(u,f,r,l=!0){const y=Object.prototype.hasOwnProperty;function c(n){return null!=n}function v(n){return"Object"===o(n)}function p(n,u){return u=hn(u),Array.from(n).filter(n=>!u.some(u=>Bn.isMatch(n,u,{caseSensitive:!0})))}const b=["any","anything","every","everything","all","whatever","whatevs"],$=Array.isArray;if(!c(u))throw new Error("check-types-mini: [THROW_ID_01] First argument is missing!");const m={ignoreKeys:[],ignorePaths:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"};let j;if(j=c(r)&&v(r)?Object.assign({},m,r):Object.assign({},m),c(j.ignoreKeys)&&j.ignoreKeys?j.ignoreKeys=hn(j.ignoreKeys):j.ignoreKeys=[],c(j.ignorePaths)&&j.ignorePaths?j.ignorePaths=hn(j.ignorePaths):j.ignorePaths=[],c(j.acceptArraysIgnore)&&j.acceptArraysIgnore?j.acceptArraysIgnore=hn(j.acceptArraysIgnore):j.acceptArraysIgnore=[],j.msg="string"==typeof j.msg?j.msg.trim():j.msg,":"===j.msg[j.msg.length-1]&&(j.msg=j.msg.slice(0,j.msg.length-1).trim()),j.schema&&(Object.keys(j.schema).forEach(n=>{if(v(j.schema[n])){const u={};V(j.schema[n],(f,r,l)=>{const y=void 0!==r?r:f;return $(y)||v(y)||(u[`${n}.${l.path}`]=y),y}),delete j.schema[n],j.schema=Object.assign(j.schema,u)}}),Object.keys(j.schema).forEach(n=>{$(j.schema[n])||(j.schema[n]=[j.schema[n]]),j.schema[n]=j.schema[n].map(String).map(n=>n.toLowerCase()).map(n=>n.trim())})),c(f)||(f={}),l&&n(j,m,{enforceStrictKeyset:!1},!1),j.enforceStrictKeyset)if(c(j.schema)&&Object.keys(j.schema).length>0){if(0!==p(i(Object.keys(u),Object.keys(f).concat(Object.keys(j.schema))),j.ignoreKeys).length){const n=i(Object.keys(u),Object.keys(f).concat(Object.keys(j.schema)));throw new TypeError(`${j.msg}: ${j.optsVarName}.enforceStrictKeyset is on and the following key${n.length>1?"s":""} ${n.length>1?"are":"is"} not covered by schema and/or reference objects: ${n.join(", ")}`)}}else{if(!(c(f)&&Object.keys(f).length>0))throw new TypeError(`${j.msg}: Both ${j.optsVarName}.schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!`);if(0!==p(i(Object.keys(u),Object.keys(f)),j.ignoreKeys).length){const n=i(Object.keys(u),Object.keys(f));throw new TypeError(`${j.msg}: The input object has key${n.length>1?"s":""} which ${n.length>1?"are":"is"} not covered by the reference object: ${n.join(", ")}`)}if(0!==p(i(Object.keys(f),Object.keys(u)),j.ignoreKeys).length){const n=i(Object.keys(f),Object.keys(u));throw new TypeError(`${j.msg}: The reference object has key${n.length>1?"s":""} which ${n.length>1?"are":"is"} not present in the input object: ${n.join(", ")}`)}}const J=[];V(u,(n,r,l)=>{const c=void 0!==r?r:n,p=void 0!==r?n:void 0;if($(J)&&J.length&&J.some(n=>l.path.startsWith(n)))return c;if(p&&j.ignoreKeys.some(n=>Bn.isMatch(p,n)))return c;if(j.ignorePaths.some(n=>Bn.isMatch(l.path,n)))return c;const i=!(!v(c)&&!$(c)&&$(l.parent));let m=!1;v(j.schema)&&y.call(j.schema,Zn.get(l.path))&&(m=!0);let h=!1;if(v(f)&&Zn.has(f,Zn.get(l.path))&&(h=!0),j.enforceStrictKeyset&&i&&!m&&!h)throw new TypeError(`${j.msg}: ${j.optsVarName}.${l.path} is neither covered by reference object (second input argument), nor ${j.optsVarName}.schema! To stop this error, turn off ${j.optsVarName}.enforceStrictKeyset or provide some type reference (2nd argument or ${j.optsVarName}.schema).\n\nDebug info:\n\nobj = ${JSON.stringify(u,null,4)}\n\nref = ${JSON.stringify(f,null,4)}\n\ninnerObj = ${JSON.stringify(l,null,4)}\n\nopts = ${JSON.stringify(j,null,4)}\n\ncurrent = ${JSON.stringify(c,null,4)}\n\n`);if(m){const n=hn(j.schema[l.path]).map(String).map(n=>n.toLowerCase());if(Zn.set(j.schema,l.path,n),Jn(n,b).length)J.push(l.path);else if(!0!==c&&!1!==c&&!n.includes(o(c).toLowerCase())||(!0===c||!1===c)&&!n.includes(String(c))&&!n.includes("boolean")){if(!$(c)||!j.acceptArrays)throw new TypeError(`${j.msg}: ${j.optsVarName}.${l.path} was customised to ${"string"!==o(c)?'"':""}${JSON.stringify(c,null,0)}${"string"!==o(c)?'"':""} (type: ${o(c).toLowerCase()}) which is not among the allowed types in schema (which is equal to ${JSON.stringify(n,null,0)})`);for(let u=0,f=c.length;u<f;u++)if(!n.includes(o(c[u]).toLowerCase()))throw new TypeError(`${j.msg}: ${j.optsVarName}.${l.path}.${u}, the ${Wn(u+1)} element (equal to ${JSON.stringify(c[u],null,0)}) is of a type ${o(c[u]).toLowerCase()}, but only the following are allowed by the ${j.optsVarName}.schema: ${n.join(", ")}`)}}else if(h){const u=Zn.get(f,l.path);if(j.acceptArrays&&$(c)&&!j.acceptArraysIgnore.includes(n)){if(!c.every(u=>o(u).toLowerCase()===o(f[n]).toLowerCase()))throw new TypeError(`${j.msg}: ${j.optsVarName}.${l.path} was customised to be array, but not all of its elements are ${o(f[n]).toLowerCase()}-type`)}else if(o(c)!==o(u))throw new TypeError(`${j.msg}: ${j.optsVarName}.${l.path} was customised to ${"string"===o(c).toLowerCase()?"":'"'}${JSON.stringify(c,null,0)}${"string"===o(c).toLowerCase()?"":'"'} which is not ${o(u).toLowerCase()} but ${o(c).toLowerCase()}`)}return c})}(n,u,f)}Bn.isMatch=((n,u,f)=>{const r=Xn(u,f),l=r.test(n);return r.negated?!l:l});var Vn=function(n,u){if(u){if("object"!=typeof u)throw new TypeError(String(u)+" is not an object. Expected an object that has boolean `includeZero` property.");if("includeZero"in u){if("boolean"!=typeof u.includeZero)throw new TypeError(String(u.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(u.includeZero&&0===n)return!0}}return Number.isSafeInteger(n)&&n>=1},Mn=function(n,u){if("string"!=typeof n)return!1;if(u&&"includeZero"in u){if("boolean"!=typeof u.includeZero)throw new TypeError(String(u.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(u.includeZero)return/^(-?0|[1-9]\d*)(\.0+)?$/.test(n)}return/^[1-9]\d*(\.0+)?$/.test(n)},Kn=y(function(n,u){(u=n.exports=function(n){return n+u.suffix(+n)}).suffix=function(n){return n%=100,1===Math.floor(n/10)?"th":n%10==1?"st":n%10==2?"nd":n%10==3?"rd":"th"}});Kn.suffix;const Yn=Array.isArray;function Gn(n,u){if(!Yn(n))throw new TypeError(`ranges-sort: [THROW_ID_01] Input must be an array, consisting of range arrays! Currently its type is: ${typeof n}, equal to: ${JSON.stringify(n,null,4)}`);if(0===n.length)return n;const f={strictlyTwoElementsInRangeArrays:!1,progressFn:null},r=Object.assign({},f,u);let l,y;if(On(r,f,{msg:"ranges-sort: [THROW_ID_02*]",schema:{progressFn:["function","false","null"]}}),r.strictlyTwoElementsInRangeArrays&&!n.every((n,u)=>2===n.length||(l=u,y=n.length,!1)))throw new TypeError(`ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ${Kn(l)} range (${JSON.stringify(n[l],null,4)}) has not two but ${y} elements!`);if(!n.every((n,u)=>!(!Vn(n[0],{includeZero:!0})||!Vn(n[1],{includeZero:!0}))||(l=u,!1)))throw new TypeError(`ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ${Kn(l)} range (${JSON.stringify(n[l],null,4)}) does not consist of only natural numbers!`);const o=n.length*n.length;let c=0;return Array.from(n).sort((n,u)=>(r.progressFn&&(c++,r.progressFn(Math.floor(100*c/o))),n[0]===u[0]?n[1]<u[1]?-1:n[1]>u[1]?1:0:n[0]<u[0]?-1:1))}function Rn(n,u){if(!Array.isArray(n))return n;if(u&&"function"!=typeof u)throw new Error(`ranges-merge: [THROW_ID_01] the second input argument must be a function! It was given of a type: "${typeof u}", equal to ${JSON.stringify(u,null,4)}`);const f=m(n).filter(n=>void 0!==n[2]||n[0]!==n[1]);let r,l,y;const o=(r=u?Gn(f,{progressFn:n=>{(y=Math.floor(n/5))!==l&&(l=y,u(y))}}):Gn(f)).length-1;for(let n=o;n>0;n--)u&&(y=Math.floor(78*(1-n/o))+21)!==l&&y>l&&(l=y,u(y)),(r[n][0]<=r[n-1][0]||r[n][0]<=r[n-1][1])&&(r[n-1][0]=Math.min(r[n][0],r[n-1][0]),r[n-1][1]=Math.max(r[n][1],r[n-1][1]),void 0!==r[n][2]&&(r[n-1][0]>=r[n][0]||r[n-1][1]<=r[n][1])&&null!==r[n-1][2]&&(null===r[n][2]&&null!==r[n-1][2]?r[n-1][2]=null:void 0!==r[n-1][2]?r[n-1][2]+=r[n][2]:r[n-1][2]=r[n][2]),r.splice(n,1),n=r.length);return r}const Nn=Array.isArray;function wn(n,u){let f;if(f=u&&"number"==typeof u?u:1,"string"==typeof n){if(0===n.length)return"";if(""===n.trim()){const u=(n.match(/\n/g)||[]).length;return u?"\n".repeat(Math.min(u,f)):" "}let u="";if(""===n[0].trim()){u=" ";let r=0;for(let u=0,f=n.length;u<f&&("\n"===n[u]&&r++,0===n[u].trim().length);u++);r&&(u="\n".repeat(Math.min(r,f)))}let r="";if(""===n.slice(-1).trim()){r=" ";let u=0;for(let f=n.length;f--&&("\n"===n[f]&&u++,0===n[f].trim().length););u&&(r="\n".repeat(Math.min(u,f)))}return u+n.trim()+r}return n}function xn(n){return null!=n}const Pn=Array.isArray;function Dn(n){return"string"==typeof n}function Hn(n){return Mn(n,{includeZero:!0})?parseInt(n,10):n}var gn="0.6.2",Cn="[object AsyncFunction]",Sn="[object Function]",In="[object GeneratorFunction]",En="[object Null]",Ln="[object Proxy]",Fn="[object Undefined]",en="object"==typeof l&&l&&l.Object===Object&&l,tn="object"==typeof self&&self&&self.Object===Object&&self,sn=en||tn||Function("return this")(),Tn=Object.prototype,An=Tn.hasOwnProperty,dn=Tn.toString,an=sn.Symbol,_n=an?an.toStringTag:void 0;function nu(n){return null==n?void 0===n?Fn:En:_n&&_n in Object(n)?function(n){var u=An.call(n,_n),f=n[_n];try{n[_n]=void 0;var r=!0}catch(n){}var l=dn.call(n);r&&(u?n[_n]=f:delete n[_n]);return l}(n):function(n){return dn.call(n)}(n)}var uu=function(n){if(!function(n){var u=typeof n;return null!=n&&("object"==u||"function"==u)}(n))return!1;var u=nu(n);return u==Sn||u==In||u==Cn||u==Ln};function fu(n){if("string"==typeof n)return 0!==n.length&&(n.charCodeAt(0)>=55296&&n.charCodeAt(0)<=56319);if(void 0===n)return!1;throw new TypeError(`string-character-is-astral-surrogate/isHighSurrogate(): the input is not string but ${typeof n}`)}function ru(n){if("string"==typeof n)return 0!==n.length&&(n.charCodeAt(0)>=56320&&n.charCodeAt(0)<=57343);if(void 0===n)return!1;throw new TypeError(`string-character-is-astral-surrogate/isLowSurrogate(): the input is not string but ${typeof n}`)}const lu=Array.isArray;function yu(n){return null!=n}function ou(n){return"string"==typeof n}function cu(n){return"string"==typeof n&&(n.charCodeAt(0)>=55296&&n.charCodeAt(0)<=57343)}function vu(n,u,f,r,l){const y="function"==typeof f?f():f;if(u>=n.length&&l&&"EOL"===y)return y;if(!(u<=n.length)){if(r.relaxedApi)return!1;throw new Error(`string-match-left-right/marchForward(): [THROW_ID_102] second argument, fromIndexInclusive is ${u} beyond the input string length, ${n.length}.`)}{let o=l?1:f.length;for(let l=u,y=n.length;l<y;l++){let u=n[l];if(fu(n[l])&&ru(n[l+1])&&(u=n[l]+n[l+1]),ru(n[l])&&fu(n[l-1])&&(u=n[l-1]+n[l]),r.trimBeforeMatching&&""===n[l].trim())continue;if(!r.i&&r.trimCharsBeforeMatching.includes(u)||r.i&&r.trimCharsBeforeMatching.map(n=>n.toLowerCase()).includes(u.toLowerCase())){2===u.length&&(l+=1);continue}let y=f[f.length-o];if(fu(y)&&yu(f[f.length-o+1])&&ru(f[f.length-o+1])&&(y=f[f.length-o]+f[f.length-o+1]),!(!r.i&&u===y||r.i&&u.toLowerCase()===y.toLowerCase()))return!1;if((o-=u.length)<1){let r=l-f.length+u.length;return r>=0&&ru(n[r])&&yu(n[r-1])&&fu(n[r-1])&&(r-=1),r>=0?r:0}2===u.length&&fu(n[l])&&(l+=1)}if(o>0)return!(!l||"EOL"!==y)}}function pu(n,u,f,r,l){const y="function"==typeof f?f():f;if(u<0&&l&&"EOL"===y)return y;if(u>=n.length){if(r.relaxedApi)return!1;throw new Error(`string-match-left-right/marchBackward(): [THROW_ID_203] second argument, starting index, should not be beyond the last character of the input string! Currently the first argument's last character's index is ${n.length} but the second argument is beyond it:\n${JSON.stringify(u,null,4)}`)}let o=l?1:f.length;for(let y=u+1;y--;){if(r.trimBeforeMatching&&""===n[y].trim()){if(0===y&&l&&"EOL"===f)return!0;continue}let u=n[y];if(ru(n[y])&&fu(n[y-1])?u=n[y-1]+n[y]:fu(n[y])&&ru(n[y+1])&&(u=n[y]+n[y+1]),!r.i&&r.trimCharsBeforeMatching.includes(u)||r.i&&r.trimCharsBeforeMatching.map(n=>n.toLowerCase()).includes(u.toLowerCase())){if(2===u.length&&(y-=1),l&&"EOL"===f&&0===y)return!0;continue}let c=f[o-1];if(ru(c)&&(c=`${f[o-2]}${f[o-1]}`,o-=1,y-=1),!(!r.i&&u===c||r.i&&u.toLowerCase()===c.toLowerCase()))return!1;if((o-=1)<1)return y>=0?y:0}return o>0?!(!l||"EOL"!==y):void 0}function bu(n,u,f,r){return function(n,u,f,r,l){const y={i:!1,trimBeforeMatching:!1,trimCharsBeforeMatching:[],relaxedApi:!1},o=Object.assign({},y,l);let c,v,p,b;if(o.trimCharsBeforeMatching=hn(o.trimCharsBeforeMatching),On(o,y,{msg:"string-match-left-right: [THROW_ID_07*]",schema:{cb:["null","undefined","function"]}}),o.trimCharsBeforeMatching=o.trimCharsBeforeMatching.map(n=>ou(n)?n:String(n)),o.trimCharsBeforeMatching.some((n,u)=>n.length>1&&!cu(n)&&(c=u,v=n,!0)))throw new Error(`string-match-left-right/${n}(): [THROW_ID_07] the fourth argument, options object contains trimCharsBeforeMatching. It was meant to list the single characters but one of the entries at index ${c} is longer than 1 character, ${v.length} (equals to ${v}). Please split it into separate characters and put into array as separate elements.`);if(!ou(u)){if(o.relaxedApi)return!1;throw new Error(`string-match-left-right/${n}(): [THROW_ID_01] the first argument should be a string. Currently it's of a type: ${typeof u}, equal to:\n${JSON.stringify(u,null,4)}`)}if(0===u.length){if(o.relaxedApi)return!1;throw new Error(`string-match-left-right/${n}(): [THROW_ID_02] the first argument should be a non-empty string. Currently it's empty!`)}if(!Vn(f,{includeZero:!0})){if(o.relaxedApi)return!1;throw new Error(`string-match-left-right/${n}(): [THROW_ID_03] the second argument should be a natural number. Currently it's of a type: ${typeof f}, equal to:\n${JSON.stringify(f,null,4)}`)}if(ou(r))p=[r];else if(lu(r))p=r;else if(yu(r)){if(!uu(r))throw new Error(`string-match-left-right/${n}(): [THROW_ID_05] the third argument, whatToMatch, is neither string nor array of strings! It's ${typeof r}, equal to:\n${JSON.stringify(r,null,4)}`);(p=[]).push(r)}else p=r;if(yu(l)&&!X(l))throw new Error(`string-match-left-right/${n}(): [THROW_ID_06] the fourth argument, options object, should be a plain object. Currently it's of a type "${typeof l}", and equal to:\n${JSON.stringify(l,null,4)}`);if(!yu(p)||!lu(p)||lu(p)&&!p.length||lu(p)&&1===p.length&&ou(p[0])&&0===p[0].trim().length){if(o.cb){let r,l=f;if("matchRight"===n&&fu(u[f])&&ru(u[f+1])&&(l+=1),"matchLeftIncl"!==n&&"matchRight"!==n||(l+=1),n.startsWith("matchLeft"))for(let n=l;n--;){if(ru(u[n])&&fu(u[n-1]))continue;let f=u[n];if(fu(u[n])&&ru(u[n+1])&&(f=u[n]+u[n+1]),(!o.trimBeforeMatching||o.trimBeforeMatching&&void 0!==f&&""!==f.trim())&&(0===o.trimCharsBeforeMatching.length||void 0!==f&&!o.trimCharsBeforeMatching.includes(f))){r=n;break}ru(u[n-1])&&fu(u[n-2])&&(n-=1)}else if(n.startsWith("matchRight"))for(let n=l;n<u.length;n++){let f=u[n];if(fu(u[n])&&ru(u[n+1])&&(f=u[n]+u[n+1]),(!o.trimBeforeMatching||o.trimBeforeMatching&&""!==f.trim())&&(0===o.trimCharsBeforeMatching.length||!o.trimCharsBeforeMatching.includes(f))){r=n;break}fu(u[n])&&ru(u[n+1])&&(n+=1)}if(void 0===r)return!1;let y=u[r];fu(u[r])&&ru(u[r+1])&&(y=u[r]+u[r+1]),ru(u[r])&&fu(u[r-1])&&(y=u[r-1]+u[r],r-=1);let c,v=r+1;return fu(u[r])&&ru(u[r+1])&&(v+=1),v&&v>0&&(c=u.slice(0,v)),n.startsWith("matchLeft")?o.cb(y,c,r):(r&&r>0&&(c=u.slice(r)),o.cb(y,c,r))}let r="";throw yu(l)||(r=" More so, the whole options object, the fourth input argument, is missing!"),new Error(`string-match-left-right/${n}(): [THROW_ID_08] the third argument, "whatToMatch", was given as an empty string. This means, you intend to match purely by a callback. The callback was not set though, the opts key "cb" is not set!${r}`)}if(n.startsWith("matchLeft")){for(let r=0,l=p.length;r<l;r++){b="function"==typeof p[r];const l=p[r];let y=f;"matchLeft"===n&&(cu(u[r-1])&&cu(u[r-2])?y-=2:y-=1);const c=pu(u,y,l,o,b);if(c&&b&&"function"==typeof l&&"EOL"===l()){let n,u,f;return!(!l()||o.cb&&!o.cb(n,u,f))&&l()}let v,$,i;if(yu(c)&&c>0&&($=u[v=c-1],i=u.slice(0,c)),ru(u[v])&&yu(u[v-1])&&fu(u[v-1])&&($=u[(v-=1)-1]+u[v]),fu(u[v])&&yu(u[v+1])&&ru(u[v+1])&&($=u[v]+u[v+1],i=u.slice(0,v+2)),!1!==c&&(!o.cb||o.cb($,i,v)))return l}return!1}for(let r=0,l=p.length;r<l;r++){b="function"==typeof p[r];const l=p[r];let y=f+("matchRight"===n?1:0);"matchRight"===n&&fu(u[y-1])&&ru(u[y])&&(y+=1);const c=vu(u,y,l,o,b);if(c&&b&&"function"==typeof l&&"EOL"===l()){let n,u,f;return!(!l()||o.cb&&!o.cb(n,u,f))&&l()}let v,$,i;if(yu(c)&&yu(u[c+l.length])&&($=u[v=c+l.length],fu(u[v])&&ru(u[v+1])&&($=u[v]+u[v+1])),yu(v)&&v>=0&&(i=u.slice(v)),!1!==c&&(!o.cb||o.cb($,i,v)))return l}return!1}("matchRightIncl",n,u,f,r)}const $u=Array.isArray;function iu(n){const u=/^[0-9a-zA-Z]+$/;function f(n){return!(!n||"string"!=typeof n)&&0===n.trim().length}function r(n){return"string"==typeof n}if(!X(n)){let u;throw u=void 0===n?"but it is missing completely.":null===n?"but it was given as null.":`but it was given as ${typeof n}, equal to:\n${JSON.stringify(n,null,4)}.`,new Error(`string-range-expander: [THROW_ID_01] Input must be a plain object ${u}`)}if(X(n)&&0===Object.keys(n).length)throw new Error("string-range-expander: [THROW_ID_02] Input must be a plain object but it was given as a plain object without any keys and computer doesn't know what to expand.");if("number"!=typeof n.from)throw new Error(`string-range-expander: [THROW_ID_03] The input's "from" value opts.from, is not a number! Currently it's given as ${typeof n.from}, equal to ${JSON.stringify(n.from,null,0)}`);if("number"!=typeof n.to)throw new Error(`string-range-expander: [THROW_ID_04] The input's "to" value opts.to, is not a number! Currently it's given as ${typeof n.to}, equal to ${JSON.stringify(n.to,null,0)}`);if(!n.str[n.from]&&n.from!==n.to)throw new Error(`string-range-expander: [THROW_ID_05] The given input string opts.str ("${n.str}") must contain the character at index "from" ("${n.from}")`);if(!n.str[n.to-1])throw new Error(`string-range-expander: [THROW_ID_06] The given input string, opts.str ("${n.str}") must contain the character at index before "to" ("${n.to-1}")`);if(n.from>n.to)throw new Error(`string-range-expander: [THROW_ID_07] The given "from" index, "${n.from}" is greater than "to" index, "${n.to}". That's wrong!`);if(r(n.extendToOneSide)&&"left"!==n.extendToOneSide&&"right"!==n.extendToOneSide||!r(n.extendToOneSide)&&void 0!==n.extendToOneSide&&!1!==n.extendToOneSide)throw new Error(`string-range-expander: [THROW_ID_08] The opts.extendToOneSide value is not recogniseable! It's set to: "${n.extendToOneSide}" (${typeof n.extendToOneSide}). It has to be either Boolean "false" or strings "left" or "right"`);const l={str:"",from:0,to:0,ifLeftSideIncludesThisThenCropTightly:"",ifLeftSideIncludesThisCropItToo:"",ifRightSideIncludesThisThenCropTightly:"",ifRightSideIncludesThisCropItToo:"",extendToOneSide:!1,wipeAllWhitespaceOnLeft:!1,wipeAllWhitespaceOnRight:!1,addSingleSpaceToPreventAccidentalConcatenation:!1},y=Object.assign({},l,n);if(On(y,l,{msg:"string-trim-spaces-only: [THROW_ID_19*]",acceptArrays:!0,acceptArraysIgnore:["str","from","to","extendToOneSide"],schema:{extendToOneSide:["false","string"]}}),$u(y.ifLeftSideIncludesThisThenCropTightly)){let n,u;if(!y.ifLeftSideIncludesThisThenCropTightly.every((f,l)=>!!r(f)||(n=l,u=f,!1)))throw new Error(`string-range-expander: [THROW_ID_09] The opts.ifLeftSideIncludesThisThenCropTightly was set to an array:\n${JSON.stringify(y.ifLeftSideIncludesThisThenCropTightly,null,4)}. Now, that array contains not only string elements. For example, an element at index ${n} is of a type ${typeof u} (equal to ${JSON.stringify(u,null,0)}).`);y.ifLeftSideIncludesThisThenCropTightly=y.ifLeftSideIncludesThisThenCropTightly.join("")}const o=y.str;let c=y.from,v=y.to;if("right"!==y.extendToOneSide&&(f(o[c-1])&&(f(o[c-2])||y.ifLeftSideIncludesThisCropItToo.includes(o[c-2]))||o[c-1]&&y.ifLeftSideIncludesThisCropItToo.includes(o[c-1])||y.wipeAllWhitespaceOnLeft&&f(o[c-1])))for(let n=c;n--;)if(!y.ifLeftSideIncludesThisCropItToo.includes(o[n])){if(o[n].trim().length){c=y.wipeAllWhitespaceOnLeft||y.ifLeftSideIncludesThisCropItToo.includes(o[n+1])?n+1:n+2;break}if(0===n){c=y.wipeAllWhitespaceOnLeft?0:1;break}}if("left"!==y.extendToOneSide&&(f(o[v])&&(y.wipeAllWhitespaceOnRight||f(o[v+1]))||y.ifRightSideIncludesThisCropItToo.includes(o[v])))for(let n=v,u=o.length;n<u;n++)if(!y.ifRightSideIncludesThisCropItToo.includes(o[n])&&(o[n]&&o[n].trim().length||void 0===o[n])){v=y.wipeAllWhitespaceOnRight||y.ifRightSideIncludesThisCropItToo.includes(o[n-1])?n:n-1;break}return("right"!==y.extendToOneSide&&r(y.ifLeftSideIncludesThisThenCropTightly)&&y.ifLeftSideIncludesThisThenCropTightly.length&&(o[c-2]&&y.ifLeftSideIncludesThisThenCropTightly.includes(o[c-2])||o[c-1]&&y.ifLeftSideIncludesThisThenCropTightly.includes(o[c-1]))||"left"!==y.extendToOneSide&&r(y.ifRightSideIncludesThisThenCropTightly)&&y.ifRightSideIncludesThisThenCropTightly.length&&(o[v+1]&&y.ifRightSideIncludesThisThenCropTightly.includes(o[v+1])||o[v]&&y.ifRightSideIncludesThisThenCropTightly.includes(o[v])))&&("right"!==y.extendToOneSide&&f(o[c-1])&&!y.wipeAllWhitespaceOnLeft&&c--,"left"!==y.extendToOneSide&&f(o[v])&&!y.wipeAllWhitespaceOnRight&&v++),y.addSingleSpaceToPreventAccidentalConcatenation&&o[c-1]&&o[c-1].trim().length&&o[v]&&o[v].trim().length&&(!y.ifLeftSideIncludesThisThenCropTightly&&!y.ifRightSideIncludesThisThenCropTightly||y.ifLeftSideIncludesThisThenCropTightly&&!y.ifLeftSideIncludesThisThenCropTightly.includes(o[c-1])||!(!y.ifRightSideIncludesThisThenCropTightly||o[v]&&y.ifRightSideIncludesThisThenCropTightly.includes(o[v])))&&(u.test(o[c-1])||u.test(o[v]))?[c,v," "]:[c,v]}var mu=Array.isArray,ju=new class{constructor(n){const u={limitToBeAddedWhitespace:!1,limitLinebreaksCount:1},f=Object.assign({},u,n);On(f,u,{msg:"string-slices-array-push: [THROW_ID_02*]"}),this.opts=f}add(n=function(n){throw new Error(`string-slices-array-push/Slices/add(): [THROW_ID_01] Missing ${Kn(n)} input parameter!`)}(1),u,f,...r){if(r.length>0)throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_03] Please don't overload the add() method. From the 4th input argument onwards we see these redundant arguments: ${JSON.stringify(r,null,4)}`);if(null===n&&void 0===u&&void 0===f)return;const l=Mn(n,{includeZero:!0})?parseInt(n,10):n,y=Mn(u,{includeZero:!0})?parseInt(u,10):u;if(Pn(n)&&!xn(u)){let u,f;if(n.length>0){if(!n.every((n,r)=>!!Pn(n)||(u=r,f=n,!1)))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_07] first argument was given as array but it contains not only range arrays. For example, at index ${u} we have ${typeof f}-type value:\n${JSON.stringify(f,null,4)}.`);n.forEach((n,u)=>{if(!Vn(Hn(n[0]),{includeZero:!0}))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_06] The ${Kn(u)} ranges array's starting range index, an element at its zero'th index, is not a natural number! It's equal to: ${n[0]}.`);if(!Vn(Hn(n[1]),{includeZero:!0}))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_05] The ${Kn(u)} ranges array's ending range index, an element at its first index, is not a natural number! It's equal to: ${n[1]}.`);if(xn(n[2])&&!Dn(n[2]))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_04] The ${Kn(u)} ranges array's "to add" value is not string but ${typeof n[2]}! It's equal to: ${n[2]}.`);this.add(...n)})}}else{if(!Vn(l,{includeZero:!0})||!Vn(y,{includeZero:!0}))throw Vn(l,{includeZero:!0})?new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it's of a type "${typeof y}" equal to: ${JSON.stringify(y,null,4)}`):new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it's of a type "${typeof l}" equal to: ${JSON.stringify(l,null,4)}`);if(xn(f)&&!Dn(f))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but ${typeof f}, equal to:\n${JSON.stringify(f,null,4)}`);if(xn(this.slices)&&Pn(this.last())&&l===this.last()[1]){if(this.last()[1]=y,null!==this.last()[2]&&xn(f)){let n=xn(this.last()[2])&&this.last()[2].length>0?this.last()[2]+f:f;this.opts.limitToBeAddedWhitespace&&(n=wn(n,this.opts.limitLinebreaksCount)),Dn(n)&&!n.length||(this.last()[2]=n)}}else this.slices||(this.slices=[]),this.slices.push(void 0===f||Dn(f)&&!f.length?[l,y]:[l,y,this.opts.limitToBeAddedWhitespace?wn(f,this.opts.limitLinebreaksCount):f])}}push(n,u,f,...r){this.add(n,u,f,...r)}current(){return null!=this.slices?(this.slices=Rn(this.slices),this.opts.limitToBeAddedWhitespace?this.slices.map(n=>xn(n[2])?[n[0],n[1],wn(n[2],this.opts.limitLinebreaksCount)]:n):this.slices):null}wipe(){this.slices=void 0}last(){return void 0!==this.slices&&Array.isArray(this.slices)?this.slices[this.slices.length-1]:null}}({limitToBeAddedWhitespace:!0}),Ju=gn,hu={lineLengthLimit:500,removeIndentations:!0,removeLineBreaks:!1,reportProgressFunc:null,breakToTheLeftOf:["</td","<html","<head","<meta","<table","<script","</script","<!DOCTYPE","<style","</style","<title","<body","@media","</html","</body","\x3c!--[if","\x3c!--<![endif"]};function Zu(n){return"string"==typeof n}function ku(n){return"string"==typeof n&&n.toUpperCase()!==n.toLowerCase()}n.crush=function(n,l){var y=Date.now();if(!Zu(n))throw void 0===n?new Error("html-minify-noparse: [THROW_ID_01] the first input argument is completely missing! It should be given as string."):new Error('html-minify-noparse: [THROW_ID_02] the first input argument must be string! It was given as "'.concat(u(n),'", equal to:\n').concat(JSON.stringify(n,null,4)));if(null!=l&&!X(l))throw new Error("html-minify-noparse: [THROW_ID_03] the second input argument, options object, should be a plain object but it was given as type ".concat(u(l),", equal to ").concat(JSON.stringify(l,null,4)));if(l&&mu(l.breakToTheLeftOf)&&l.breakToTheLeftOf.length)for(var o=0,c=l.breakToTheLeftOf.length;o<c;o++)if(!Zu(l.breakToTheLeftOf[o]))throw new TypeError("html-minify-noparse: [THROW_ID_05] the opts.breakToTheLeftOf array contains non-string elements! For example, element at index ".concat(o,' is of a type "').concat(u(l.breakToTheLeftOf[o]),'" and is equal to:\n').concat(JSON.stringify(l.breakToTheLeftOf[o],null,4)));var v=Object.assign({},hu,l);On(v,hu,{msg:"html-minify-noparse: [THROW_ID_04*]",schema:{reportProgressFunc:["false","null","function"],breakToTheLeftOf:["false","null","array"]}}),!1!==v.breakToTheLeftOf&&null!==v.breakToTheLeftOf||(v.breakToTheLeftOf=[]);var p="";if(mu(v.breakToTheLeftOf)&&v.breakToTheLeftOf.length)for(var b=0,$=v.breakToTheLeftOf.length;b<$;b++)v.breakToTheLeftOf[b].length&&!p.includes(v.breakToTheLeftOf[b][0])&&(p+=v.breakToTheLeftOf[b][0]);var i,m=null,j=null,J=!1,h=0,Z=!1,k=null,q=null,W=null,U=null,z=!1,Q=null,B=null,O=null,V=[">","}",";"],M=["<"],K=[">"],Y=["<"],G=["{","}",",",":",";","<",">","~","+"],R=G,N=G,w=!0,x=n.length,P=Math.floor(x/2),D=0;if(x){for(var H=0;H<x;H++){if(v.reportProgressFunc&&(x>1e3&&x<2e3?H===P&&v.reportProgressFunc(50):x>=2e3&&(i=Math.floor(H/x*80))!==D&&(D=i,v.reportProgressFunc(i))),!z&&null!==W&&null!==U&&H>=W&&H>=U&&(z=!0),z||Z||null===U||"<"!==n[H]||"/"!==n[H+1]||"c"!==n[H+2]||"o"!==n[H+3]||"d"!==n[H+4]||"e"!==n[H+5]||ku(n[H+6])||(null!==W&&z&&(z=!1),U=null),!z&&!Z&&null===U&&"<"===n[H]&&"c"===n[H+1]&&"o"===n[H+2]&&"d"===n[H+3]&&"e"===n[H+4]&&!ku(n[H+5]))if(">"===n[H+5])U=H+6;else for(var g=H+5;g<x;g++)if(">"===n[g]){U=g+1,H=g;break}if(z||Z||null===W||"<"!==n[H]||"/"!==n[H+1]||"p"!==n[H+2]||"r"!==n[H+3]||"e"!==n[H+4]||ku(n[H+5])||(W=null),!z&&!Z&&null===W&&"<"===n[H]&&"p"===n[H+1]&&"r"===n[H+2]&&"e"===n[H+3]&&!ku(n[H+4]))if(">"===n[H+4])W=H+5;else for(var C=H+4;C<x;C++)if(">"===n[C]){W=C+1,H=C;break}if(">"===n[H]&&"]"===n[H-1]&&"]"===n[H-2]&&z)z=!1;else if(z||"<"!==n[H]||"!"!==n[H+1]||"["!==n[H+2]||"C"!==n[H+3]||"D"!==n[H+4]||"A"!==n[H+5]||"T"!==n[H+6]||"A"!==n[H+7]||"["!==n[H+8]||(z=!0,j=null),null===q||"<"!==n[H]||"/"!==n[H+1]||"s"!==n[H+2]||"c"!==n[H+3]||"r"!==n[H+4]||"i"!==n[H+5]||"p"!==n[H+6]||"t"!==n[H+7]||ku(n[H+8])){if(!z&&!Z&&"<"===n[H]&&"s"===n[H+1]&&"c"===n[H+2]&&"r"===n[H+3]&&"i"===n[H+4]&&"p"===n[H+5]&&"t"===n[H+6]&&!ku(n[H+7])){q=H,z=!0;var S="";(v.removeLineBreaks||v.removeIndentations)&&null!==j&&(j>0&&(S="\n"),ju.push(j,H,S)),j=null,m=null}if(!z&&Z&&null!==k&&"*"===n[H]&&"/"===n[H+1]){var I=f(iu({str:n,from:k,to:H+2,ifLeftSideIncludesThisThenCropTightly:R||"",ifRightSideIncludesThisThenCropTightly:N||""}),2);if(Q=I[0],B=I[1],k=null,null==Q||void 0!==n[B]){h++,H++;continue}ju.push(Q,B)}if(!z&&Z&&null===k&&"/"===n[H]&&"*"===n[H+1]&&(k=H),z||!Z||null!==k||"<"!==n[H]||"/"!==n[H+1]||"s"!==n[H+2]||"t"!==n[H+3]||"y"!==n[H+4]||"l"!==n[H+5]||"e"!==n[H+6]||ku(n[H+7])?z||Z||null!==k||"<"!==n[H]||"s"!==n[H+1]||"t"!==n[H+2]||"y"!==n[H+3]||"l"!==n[H+4]||"e"!==n[H+5]||ku(n[H+6])||(Z=!0):Z=!1,z||n[H].trim().length){if(!(z||Z&&null!==k)){if(null!==j){if(v.removeLineBreaks&&h++,w)w=!1,ju.push(0,H);else if(v.removeIndentations&&!v.removeLineBreaks&&(!J&&null!==m&&H>m?ju.push(m+1,H):j+1<H&&(" "===n[j]?ju.push(j+1,H):" "===n[H-1]?ju.push(j,H-1):ju.push(j,H," "))),v.removeLineBreaks){if(p.length&&p.includes(n[H])&&bu(n,H,v.breakToTheLeftOf)){"\n"===n[H-1]&&j===H-1||ju.push(j,H,"\n"),Q=null,B=null,O=null,j=null,h=1;continue}var E=" ";(n[j-1]&&K.includes(n[j-1])&&Y.includes(n[H])||Z&&null===k&&(R.includes(n[j-1])||N.includes(n[H]))||"!"===n[H]&&"i"===n[H+1]&&"m"===n[H+2]&&"p"===n[H+3]&&"o"===n[H+4]&&"r"===n[H+5]&&"t"===n[H+6]&&"a"===n[H+7]&&"n"===n[H+8]&&"t"===n[H+9])&&(E=""),E&&E.length&&h++,v.lineLengthLimit?h>=v.lineLengthLimit||!n[H+1]?((h>v.lineLengthLimit||h===v.lineLengthLimit&&n[H+1]&&n[H+1].trim().length&&!V.includes(n[H])&&!M.includes(n[H+1]))&&(E="\n",h=1),ju.push(j,H,E),Q=null,B=null,O=null):(Q=j,B=H,O=E):H===j+1&&" "===n[j]&&" "===E||ju.push(j,H,E)}j=null,J||(J=!0);continue}w&&(w=!1),v.removeLineBreaks&&h++,J||(J=!0)}}else null===j&&(j=H);if(!z&&!w&&0!==H&&v.removeLineBreaks&&(v.lineLengthLimit||p.length)){if(p.length&&bu(n,H,v.breakToTheLeftOf)){ju.push(H,H,"\n"),Q=null,B=null,O=null,h=1;continue}if(v.lineLengthLimit&&h<=v.lineLengthLimit){if(M.includes(n[H])||n[H-1]&&V.includes(n[H-1])||!n[H].trim().length||!n[H+1]){if(null!==Q&&null!==B&&(Q!==B||O&&O.length)){var L=O;n[H].trim().length&&n[H+1]&&n[H+1].trim().length&&h+(O?O.length:0)>v.lineLengthLimit&&(L="\n"),ju.push(Q,B,L)}n[H].trim().length&&(M.includes(n[H])||n[H-1]&&V.includes(n[H-1]))?(Q=H,B=H,O=null):(Q=null,B=null,O=null)}}else if(v.lineLengthLimit)if(M.includes(n[H]))if(null!==Q&&null!==B&&(Q!==B||O&&O.length)){var F=O&&O.length?O.length:0;h-(B-Q-F)-1>v.lineLengthLimit||(ju.push(Q,B,O),O=null,h-((B=null)-(Q=null)-F)-1===v.lineLengthLimit&&(ju.push(H,H,"\n"),h=0))}else ju.push(H,H,"\n"),h=0;else n[H-1]&&V.includes(n[H-1])?null!==Q&&null!==B&&(Q!==B||O&&O.length)||(ju.push(H,H,"\n"),h=0):n[H].trim().length&&(n[H+1]||null!==Q&&null!==B&&(Q!==B||O&&O.length)&&ju.push(Q,B,"\n"))}if(!z&&!w&&v.removeLineBreaks&&v.lineLengthLimit&&h>=v.lineLengthLimit&&null!==Q&&null!==B&&!V.includes(n[H])&&!M.includes(n[H])&&(h!==v.lineLengthLimit||!n[H+1]||n[H+1].trim().length)){var e="\n";n[H+1]&&!n[H+1].trim().length&&h===v.lineLengthLimit&&(e=O),ju.push(Q,B,e),h=H-B,n[H].length&&h++,Q=null,B=null,O=null}(!z&&"\n"===n[H]||"\r"===n[H]&&(!n[H+1]||n[H+1]&&"\n"!==n[H+1]))&&(m=H,J&&(J=!1),!v.removeLineBreaks&&null!==j&&j<H&&n[H+1]&&"\r"!==n[H+1]&&"\n"!==n[H+1]&&ju.push(j,H)),n[H+1]||(Z&&null!==k?ju.push.apply(ju,r(iu({str:n,from:k,to:H,ifLeftSideIncludesThisThenCropTightly:R||"",ifRightSideIncludesThisThenCropTightly:N||""}))):j&&"\n"!==n[H]&&"\r"!==n[H]?ju.push(j,H+1):j&&("\r"===n[H]&&"\n"===n[H+1]||"\n"===n[H])&&ju.push(j,H))}else{if((v.removeIndentations||v.removeLineBreaks)&&H>0&&n[H-1]&&!n[H-1].trim().length)for(var t=H;t--;)if("\n"===n[t]||"\r"===n[t]||n[t].trim().length){t+1<H&&ju.push(t+1,H);break}q=null,z=!1,H+=8}}if(ju.current()){var s=function(n,u,f){let r=0,l=0;if(0===arguments.length)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if("string"!=typeof n)throw new TypeError(`ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ${typeof n}, equal to: ${JSON.stringify(n,null,4)}`);if(null===u)return n;if(!Nn(u))throw new TypeError(`ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ${typeof u}, equal to: ${JSON.stringify(u,null,4)}`);if(f&&"function"!=typeof f)throw new TypeError(`ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ${typeof f}, equal to: ${JSON.stringify(f,null,4)}`);Nn(u)&&(Vn(u[0],{includeZero:!0})||Mn(u[0],{includeZero:!0}))&&(Vn(u[1],{includeZero:!0})||Mn(u[1],{includeZero:!0}))&&(u=[u]);const y=u.length;let o=0;u.forEach((n,c)=>{if(f&&(r=Math.floor(o/y*10))!==l&&(l=r,f(r)),!Nn(n))throw new TypeError(`ranges-apply: [THROW_ID_05] ranges array, second input arg., has ${Kn(c)} element not an array: ${JSON.stringify(n,null,4)}, which is ${typeof n}`);if(!Vn(n[0],{includeZero:!0})){if(!Mn(n[0],{includeZero:!0}))throw new TypeError(`ranges-apply: [THROW_ID_06] ranges array, second input arg. has ${Kn(c)} element, array [${n[0]},${n[1]}]. That array has first element not an integer, but ${typeof n[0]}, equal to: ${JSON.stringify(n[0],null,4)}. Computer doesn't like this.`);u[c][0]=Number.parseInt(u[c][0],10)}if(!Vn(n[1],{includeZero:!0})){if(!Mn(n[1],{includeZero:!0}))throw new TypeError(`ranges-apply: [THROW_ID_07] ranges array, second input arg. has ${Kn(c)} element, array [${n[0]},${n[1]}]. That array has second element not an integer, but ${typeof n[1]}, equal to: ${JSON.stringify(n[1],null,4)}. Computer doesn't like this.`);u[c][1]=Number.parseInt(u[c][1],10)}o++});const c=Rn(u,n=>{f&&(r=10+Math.floor(n/10))!==l&&(l=r,f(r))}),v=c.length;if(v>0){const u=n.slice(c[v-1][1]);n=c.reduce((u,y,o,c)=>{f&&(r=20+Math.floor(o/v*80))!==l&&(l=r,f(r));const p=0===o?0:c[o-1][1],b=c[o][0];return u+n.slice(p,b)+(function(n){return null!=n}(c[o][2])?c[o][2]:"")},""),n+=u}return n}(n,ju.current(),function(n){v.reportProgressFunc&&x>=2e3&&(i=80+Math.floor(n/5))!==D&&(D=i,v.reportProgressFunc(i))}),T=Array.from(ju.current());ju.wipe();var A=s.length;return{log:{timeTakenInMiliseconds:Date.now()-y,originalLength:x,cleanedLength:A,bytesSaved:Math.max(x-A,0),percentageReducedOfOriginal:x?Math.round(100*Math.max(x-A,0)/x):0},ranges:T,result:s}}}return{log:{timeTakenInMiliseconds:Date.now()-y,originalLength:x,cleanedLength:x,bytesSaved:0,percentageReducedOfOriginal:0},ranges:[],result:n}},n.defaults=hu,n.version=Ju,Object.defineProperty(n,"__esModule",{value:!0})});
