!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.jsonVariables=t()}(this,function(){"use strict";var Se="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(e,t){return e(t={exports:{}},t.exports),t.exports}var Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=e(function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,j="[object Arguments]",_="[object Function]",S="[object GeneratorFunction]",o="[object Map]",T="[object Object]",a="[object Promise]",i="[object Set]",s="[object WeakMap]",c="[object DataView]",l=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,u="object"==Te(Se)&&Se&&Se.Object===Object&&Se,f="object"==("undefined"==typeof self?"undefined":Te(self))&&self&&self.Object===Object&&self,p=u||f||Function("return this")(),y=t&&!t.nodeType&&t,g=y&&e&&!e.nodeType&&e,d=g&&g.exports===y;function A(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function m(t,r){return function(e){return t(r(e))}}var b,v=Array.prototype,w=Function.prototype,O=Object.prototype,k=p["__core-js_shared__"],I=(b=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",W=w.toString,E=O.hasOwnProperty,N=O.toString,C=RegExp("^"+W.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=d?p.Buffer:void 0,D=p.Symbol,P=(p.Uint8Array,m(Object.getPrototypeOf,Object)),V=Object.create,L=O.propertyIsEnumerable,x=v.splice,R=Object.getOwnPropertySymbols,K=H?H.isBuffer:void 0,M=m(Object.keys,Object),B=ue(p,"DataView"),J=ue(p,"Map"),q=ue(p,"Promise"),F=ue(p,"Set"),Z=ue(p,"WeakMap"),$=ue(Object,"create"),G=de(B),z=de(J),Q=de(q),U=de(F),X=de(Z),Y=D?D.prototype:void 0;Y&&Y.valueOf;function ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function te(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function re(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ne(e){this.__data__=new te(e)}function oe(e,t){var r,n,o,a=be(e)||(o=n=r=e)&&"object"==(void 0===o?"undefined":Te(o))&&ve(n)&&E.call(r,"callee")&&(!L.call(r,"callee")||N.call(r)==j)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=a.length,s=!!i;for(var c in e)!t&&!E.call(e,c)||s&&("length"==c||ye(c,i))||a.push(c);return a}function ae(e,t,r){var n=e[t];E.call(e,t)&&me(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function ie(e,t){for(var r=e.length;r--;)if(me(e[r][0],t))return r;return-1}function se(r,n,o,a,e,t,i){var s;if(a&&(s=t?a(r,e,t,i):a(r)),void 0!==s)return s;if(!je(r))return r;var c,l,h,u,f,p,y=be(r);if(y){if(s=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&E.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(r),!n)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(r,s)}else{var g=pe(r),d=g==_||g==S;if(we(r))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(r,n);if(g!=T&&g!=j&&(!d||t))return t?r:{};if(A(r))return t?r:{};if(s="function"!=typeof(f=d?{}:r).constructor||ge(f)?{}:je(p=P(f))?V(p):{},!n)return u=c=r,l=(h=s)&&le(u,_e(u),h),le(c,fe(c),l)}i||(i=new ne);var m,b,v,w=i.get(r);if(w)return w;if(i.set(r,s),!y)var O=o?(b=fe,v=_e(m=r),be(m)?v:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(v,b(m))):_e(r);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(O||r,function(e,t){O&&(e=r[t=e]),ae(s,t,se(e,n,o,a,t,r,i))}),s}function ce(e){return!(!je(e)||(t=e,I&&I in t))&&(Oe(e)||A(e)?C:l).test(de(e));var t}function le(e,t,r,n){r||(r={});for(var o=-1,a=t.length;++o<a;){var i=t[o],s=n?n(r[i],e[i],i,r,e):void 0;ae(r,i,void 0===s?e[i]:s)}return r}function he(e,t){var r,n,o=e.__data__;return("string"==(n=void 0===(r=t)?"undefined":Te(r))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function ue(e,t){var r,n,o=(n=t,null==(r=e)?void 0:r[n]);return ce(o)?o:void 0}ee.prototype.clear=function(){this.__data__=$?$(null):{}},ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ee.prototype.get=function(e){var t=this.__data__;if($){var r=t[e];return r===n?void 0:r}return E.call(t,e)?t[e]:void 0},ee.prototype.has=function(e){var t=this.__data__;return $?void 0!==t[e]:E.call(t,e)},ee.prototype.set=function(e,t){return this.__data__[e]=$&&void 0===t?n:t,this},te.prototype.clear=function(){this.__data__=[]},te.prototype.delete=function(e){var t=this.__data__,r=ie(t,e);return!(r<0||(r==t.length-1?t.pop():x.call(t,r,1),0))},te.prototype.get=function(e){var t=this.__data__,r=ie(t,e);return r<0?void 0:t[r][1]},te.prototype.has=function(e){return-1<ie(this.__data__,e)},te.prototype.set=function(e,t){var r=this.__data__,n=ie(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},re.prototype.clear=function(){this.__data__={hash:new ee,map:new(J||te),string:new ee}},re.prototype.delete=function(e){return he(this,e).delete(e)},re.prototype.get=function(e){return he(this,e).get(e)},re.prototype.has=function(e){return he(this,e).has(e)},re.prototype.set=function(e,t){return he(this,e).set(e,t),this},ne.prototype.clear=function(){this.__data__=new te},ne.prototype.delete=function(e){return this.__data__.delete(e)},ne.prototype.get=function(e){return this.__data__.get(e)},ne.prototype.has=function(e){return this.__data__.has(e)},ne.prototype.set=function(e,t){var r=this.__data__;if(r instanceof te){var n=r.__data__;if(!J||n.length<199)return n.push([e,t]),this;r=this.__data__=new re(n)}return r.set(e,t),this};var fe=R?m(R,Object):function(){return[]},pe=function(e){return N.call(e)};function ye(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||h.test(e))&&-1<e&&e%1==0&&e<t}function ge(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||O)}function de(e){if(null!=e){try{return W.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function me(e,t){return e===t||e!=e&&t!=t}(B&&pe(new B(new ArrayBuffer(1)))!=c||J&&pe(new J)!=o||q&&pe(q.resolve())!=a||F&&pe(new F)!=i||Z&&pe(new Z)!=s)&&(pe=function(e){var t=N.call(e),r=t==T?e.constructor:void 0,n=r?de(r):void 0;if(n)switch(n){case G:return c;case z:return o;case Q:return a;case U:return i;case X:return s}return t});var be=Array.isArray;function ve(e){return null!=e&&("number"==typeof(t=e.length)&&-1<t&&t%1==0&&t<=r)&&!Oe(e);var t}var we=K||function(){return!1};function Oe(e){var t=je(e)?N.call(e):"";return t==_||t==S}function je(e){var t=void 0===e?"undefined":Te(e);return!!e&&("object"==t||"function"==t)}function _e(e){return ve(e)?oe(e):function(e){if(!ge(e))return M(e);var t=[];for(var r in Object(e))E.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return se(e,!0,!0)}}),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var t,r,n=Function.prototype,a=Object.prototype,i=n.toString,s=a.hasOwnProperty,c=i.call(Object),l=a.toString,h=(t=Object.getPrototypeOf,r=Object,function(e){return t(r(e))});var j=function(e){if(!(t=e)||"object"!=(void 0===t?"undefined":o(t))||"[object Object]"!=l.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t,r=h(e);if(null===r)return!0;var n=s.call(r,"constructor")&&r.constructor;return"function"==typeof n&&n instanceof n&&i.call(n)==c},f=Array.isArray;function p(e){return"string"==typeof e&&0<e.length&&"."===e[0]?e.slice(1):e}function g(e,t){return function e(t,r,n){var o=v(t),a=void 0,i=void 0,s=void 0,c=void 0,l=void 0;if((n=Object.assign({depth:-1,path:""},n)).depth+=1,f(o))for(a=0,i=o.length;a<i;a++){var h=n.path+"."+a;void 0!==o[a]?(n.parent=v(o),s=e(r(o[a],void 0,Object.assign({},n,{path:p(h)})),r,Object.assign({},n,{path:p(h)})),Number.isNaN(s)&&a<o.length?(o.splice(a,1),a-=1):o[a]=s):o.splice(a,1)}else if(j(o))for(a=0,i=(c=Object.keys(o)).length;a<i;a++){l=c[a];var u=n.path+"."+l;0===n.depth&&null!=l&&(n.topmostKey=l),n.parent=v(o),s=e(r(l,o[l],Object.assign({},n,{path:p(u)})),r,Object.assign({},n,{path:p(u)})),Number.isNaN(s)?delete o[l]:o[l]=s}return o}(e,t,{})}var u=/[|\\{}()[\]^$+*?.]/g,b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=new Map;function w(e,t){var r=Object.assign({caseSensitive:!1},t),n=e+JSON.stringify(r);if(y.has(n))return y.get(n);var o="!"===e[0];o&&(e=e.slice(1)),e=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(u,"\\$&")}(e).replace(/\\\*/g,".*");var a=new RegExp("^"+e+"$",r.caseSensitive?"":"i");return a.negated=o,y.set(n,a),a}var d=function(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Expected two arrays, got "+(void 0===e?"undefined":b(e))+" "+(void 0===t?"undefined":b(t)));if(0===t.length)return e;var n="!"===t[0][0];t=t.map(function(e){return w(e,r)});var o=[],a=!0,i=!1,s=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var h=c.value,u=n,f=!0,p=!1,y=void 0;try{for(var g,d=t[Symbol.iterator]();!(f=(g=d.next()).done);f=!0){var m=g.value;m.test(h)&&(u=!m.negated)}}catch(e){p=!0,y=e}finally{try{!f&&d.return&&d.return()}finally{if(p)throw y}}u&&o.push(h)}}catch(e){i=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw s}}return o};d.isMatch=function(e,t,r){var n=w(t,r),o=n.test(e);return n.negated?!o:o};var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=e(function(e){e.exports=function(){var t=Object.prototype.toString;function a(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function h(e){if(!e)return!0;if(f(e)&&0===e.length)return!0;if("string"!=typeof e){for(var t in e)if(a(e,t))return!1;return!0}return!1}function u(e){return t.call(e)}var f=Array.isArray||function(e){return"[object Array]"===t.call(e)};function p(e){var t=parseInt(e);return t.toString()===e?t:e}function e(o){o=o||{};var i=function r(n){return Object.keys(r).reduce(function(e,t){return"create"===t||"function"==typeof r[t]&&(e[t]=r[t].bind(r,n)),e},{})};function s(e,t){return o.includeInheritedProps||"number"==typeof t&&Array.isArray(e)||a(e,t)}function c(e,t){if(s(e,t))return e[t]}function l(e,t,r,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return l(e,t.split(".").map(p),r,n);var o=t[0],a=c(e,o);return 1===t.length?(void 0!==a&&n||(e[o]=r),a):(void 0===a&&("number"==typeof t[1]?e[o]=[]:e[o]={}),l(e[o],t.slice(1),r,n))}return i.has=function(e,t){if("number"==typeof t?t=[t]:"string"==typeof t&&(t=t.split(".")),!t||0===t.length)return!!e;for(var r=0;r<t.length;r++){var n=p(t[r]);if(!("number"==typeof n&&f(e)&&n<e.length||(o.includeInheritedProps?n in Object(e):a(e,n))))return!1;e=e[n]}return!0},i.ensureExists=function(e,t,r){return l(e,t,r,!0)},i.set=function(e,t,r,n){return l(e,t,r,n)},i.insert=function(e,t,r,n){var o=i.get(e,t);n=~~n,f(o)||i.set(e,t,o=[]),o.splice(n,0,r)},i.empty=function(e,t){var r,n;if(!h(t)&&null!=e&&(r=i.get(e,t))){if("string"==typeof r)return i.set(e,t,"");if("boolean"==typeof(a=r)||"[object Boolean]"===u(a))return i.set(e,t,!1);if("number"==typeof r)return i.set(e,t,0);if(f(r))r.length=0;else{if("object"!==(void 0===(o=r)?"undefined":m(o))||"[object Object]"!==u(o))return i.set(e,t,null);for(n in r)s(r,n)&&delete r[n]}var o,a}},i.push=function(e,t){var r=i.get(e,t);f(r)||i.set(e,t,r=[]),r.push.apply(r,Array.prototype.slice.call(arguments,2))},i.coalesce=function(e,t,r){for(var n,o=0,a=t.length;o<a;o++)if(void 0!==(n=i.get(e,t[o])))return n;return r},i.get=function(e,t,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return r;if("string"==typeof t)return i.get(e,t.split("."),r);var n=p(t[0]),o=c(e,n);return void 0===o?r:1===t.length?o:i.get(e[n],t.slice(1),r)},i.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(h(t))return e;if("string"==typeof t)return i.del(e,t.split("."));var r=p(t[0]);return s(e,r)?1!==t.length?i.del(e[r],t.slice(1)):(f(e)?e.splice(r,1):delete e[r],e):e},i}var r=e();return r.create=e,r.withInheritedProps=e({includeInheritedProps:!0}),r}()}),_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=e(function(e,t){var o,a,r,i,s,c,l,h,n,u,f,p,y,g,d,m,b,v;e.exports=(o="function"==typeof Promise,a="object"===("undefined"==typeof self?"undefined":_(self))?self:Se,r="undefined"!=typeof Symbol,i="undefined"!=typeof Map,s="undefined"!=typeof Set,c="undefined"!=typeof WeakMap,l="undefined"!=typeof WeakSet,h="undefined"!=typeof DataView,n=r&&void 0!==Symbol.iterator,u=r&&void 0!==Symbol.toStringTag,f=s&&"function"==typeof Set.prototype.entries,p=i&&"function"==typeof Map.prototype.entries,y=f&&Object.getPrototypeOf((new Set).entries()),g=p&&Object.getPrototypeOf((new Map).entries()),d=n&&"function"==typeof Array.prototype[Symbol.iterator],m=d&&Object.getPrototypeOf([][Symbol.iterator]()),b=n&&"function"==typeof String.prototype[Symbol.iterator],v=b&&Object.getPrototypeOf(""[Symbol.iterator]()),function(e){var t=void 0===e?"undefined":_(e);if("object"!==t)return t;if(null===e)return"null";if(e===a)return"global";if(Array.isArray(e)&&(!1===u||!(Symbol.toStringTag in e)))return"Array";if("object"===("undefined"==typeof window?"undefined":_(window))&&null!==window){if("object"===_(window.location)&&e===window.location)return"Location";if("object"===_(window.document)&&e===window.document)return"Document";if("object"===_(window.navigator)){if("object"===_(window.navigator.mimeTypes)&&e===window.navigator.mimeTypes)return"MimeTypeArray";if("object"===_(window.navigator.plugins)&&e===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"===_(window.HTMLElement))&&e instanceof window.HTMLElement){if("BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if("TD"===e.tagName)return"HTMLTableDataCellElement";if("TH"===e.tagName)return"HTMLTableHeaderCellElement"}}var r=u&&e[Symbol.toStringTag];if("string"==typeof r)return r;var n=Object.getPrototypeOf(e);return n===RegExp.prototype?"RegExp":n===Date.prototype?"Date":o&&n===Promise.prototype?"Promise":s&&n===Set.prototype?"Set":i&&n===Map.prototype?"Map":l&&n===WeakSet.prototype?"WeakSet":c&&n===WeakMap.prototype?"WeakMap":h&&n===DataView.prototype?"DataView":i&&n===g?"Map Iterator":s&&n===y?"Set Iterator":d&&n===m?"Array Iterator":b&&n===v?"String Iterator":null===n?"Object":Object.prototype.toString.call(e).slice(8,-1)})});function T(e,t,r){if(t!=t)return function(e,t,r,n){for(var o=e.length,a=r+(n?1:-1);n?a--:++a<o;)if(t(e[a],a,e))return a;return-1}(e,k,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}function A(e,t,r,n){for(var o=r-1,a=e.length;++o<a;)if(n(e[o],t))return o;return-1}function k(e){return e!=e}var I=Array.prototype.splice;function W(e,t,r,n){var o,a=n?A:T,i=-1,s=t.length,c=e;for(e===t&&(t=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(t)),r&&(c=function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(e,(o=r,function(e){return o(e)})));++i<s;)for(var l=0,h=t[i],u=r?r(h):h;-1<(l=a(c,u,l,n));)c!==e&&I.call(c,l,1),I.call(e,l,1);return e}var E=function(e,t){return e&&e.length&&t&&t.length?W(e,t):e},N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C="__lodash_hash_undefined__",H=9007199254740991,D="[object Function]",P="[object GeneratorFunction]",V=/^\[object .+?Constructor\]$/,L="object"==N(Se)&&Se&&Se.Object===Object&&Se,x="object"==("undefined"==typeof self?"undefined":N(self))&&self&&self.Object===Object&&self,R=L||x||Function("return this")();function K(e,t){return!!(e?e.length:0)&&-1<function(e,t,r){if(t!=t)return function(e,t,r,n){var o=e.length,a=r+(n?1:-1);for(;n?a--:++a<o;)if(t(e[a],a,e))return a;return-1}(e,J,r);var n=r-1,o=e.length;for(;++n<o;)if(e[n]===t)return n;return-1}(e,t,0)}function M(e,t,r){for(var n=-1,o=e?e.length:0;++n<o;)if(r(t,e[n]))return!0;return!1}function B(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function J(e){return e!=e}function q(t){return function(e){return t(e)}}function F(e,t){return e.has(t)}var Z,$,G,z=Array.prototype,Q=Function.prototype,U=Object.prototype,X=R["__core-js_shared__"],Y=(Z=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",ee=Q.toString,te=U.hasOwnProperty,re=U.toString,ne=RegExp("^"+ee.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=z.splice,ae=Math.max,ie=Math.min,se=me(R,"Map"),ce=me(Object,"create");function le(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function he(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ue(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function fe(e){var t=-1,r=e?e.length:0;for(this.__data__=new ue;++t<r;)this.add(e[t])}function pe(e,t){for(var r,n,o=e.length;o--;)if((r=e[o][0])===(n=t)||r!=r&&n!=n)return o;return-1}function ye(e){return!(!ve(e)||(t=e,Y&&Y in t))&&(be(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?ne:V).test(function(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function ge(e){return(o=t=e)&&"object"==(void 0===o?"undefined":N(o))&&(null!=(r=t)&&("number"==typeof(n=r.length)&&-1<n&&n%1==0&&n<=H)&&!be(r))?e:[];var t,r,n,o}function de(e,t){var r,n,o=e.__data__;return("string"==(n=void 0===(r=t)?"undefined":N(r))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function me(e,t){var r,n,o=(n=t,null==(r=e)?void 0:r[n]);return ye(o)?o:void 0}function be(e){var t=ve(e)?re.call(e):"";return t==D||t==P}function ve(e){var t=void 0===e?"undefined":N(e);return!!e&&("object"==t||"function"==t)}le.prototype.clear=function(){this.__data__=ce?ce(null):{}},le.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},le.prototype.get=function(e){var t=this.__data__;if(ce){var r=t[e];return r===C?void 0:r}return te.call(t,e)?t[e]:void 0},le.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:te.call(t,e)},le.prototype.set=function(e,t){return this.__data__[e]=ce&&void 0===t?C:t,this},he.prototype.clear=function(){this.__data__=[]},he.prototype.delete=function(e){var t=this.__data__,r=pe(t,e);return!(r<0||(r==t.length-1?t.pop():oe.call(t,r,1),0))},he.prototype.get=function(e){var t=this.__data__,r=pe(t,e);return r<0?void 0:t[r][1]},he.prototype.has=function(e){return-1<pe(this.__data__,e)},he.prototype.set=function(e,t){var r=this.__data__,n=pe(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},ue.prototype.clear=function(){this.__data__={hash:new le,map:new(se||he),string:new le}},ue.prototype.delete=function(e){return de(this,e).delete(e)},ue.prototype.get=function(e){return de(this,e).get(e)},ue.prototype.has=function(e){return de(this,e).has(e)},ue.prototype.set=function(e,t){return de(this,e).set(e,t),this},fe.prototype.add=fe.prototype.push=function(e){return this.__data__.set(e,C),this},fe.prototype.has=function(e){return this.__data__.has(e)};var we=($=function(e){var t=B(e,ge);return t.length&&t[0]===e[0]?function(e,t,r){for(var n=r?M:K,o=e[0].length,a=e.length,i=a,s=Array(a),c=1/0,l=[];i--;){var h=e[i];i&&t&&(h=B(h,q(t))),c=ie(h.length,c),s[i]=!r&&(t||120<=o&&120<=h.length)?new fe(i&&h):void 0}h=e[0];var u=-1,f=s[0];e:for(;++u<o&&l.length<c;){var p=h[u],y=t?t(p):p;if(p=r||0!==p?p:0,!(f?F(f,y):n(l,y,r))){for(i=a;--i;){var g=s[i];if(!(g?F(g,y):n(e[i],y,r)))continue e}f&&f.push(y),l.push(p)}}return l}(t):[]},G=ae(void 0===G?$.length-1:G,0),function(){for(var e=arguments,t=-1,r=ae(e.length-G,0),n=Array(r);++t<r;)n[t]=e[G+t];t=-1;for(var o=Array(G+1);++t<G;)o[t]=e[t];return o[G]=n,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}($,this,o)});function Oe(e){return"string"==typeof e?0<e.length?[e]:[]:e}var je=function(e){var t=e%100;if(10<=t&&t<=20)return"th";var r=e%10;return 1===r?"st":2===r?"nd":3===r?"rd":"th"},_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Ae(e){if("number"!=typeof e)throw new TypeError("Expected Number, got "+(void 0===e?"undefined":_e(e))+" "+e);return e+je(e)}Ae.indicator=je;var ke=Ae;function Ie(e,t,r){return function e(t,c,r){var n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];function l(e){return null!=e}function h(e){return"Object"===S(e)}function u(e){if(e.includes(".")){var t=e.split(".");return t.pop(),t.join(".")}return e}var f=["any","anything","every","everything","all","whatever","whatevs"],p=Array.isArray;if(!l(t))throw new Error("check-types-mini: [THROW_ID_01] First argument is missing!");var o={ignoreKeys:[],ignorePaths:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},y=void 0;if(l((y=l(r)&&h(r)?Object.assign({},o,r):Object.assign({},o)).ignoreKeys)&&y.ignoreKeys?y.ignoreKeys=Oe(y.ignoreKeys):y.ignoreKeys=[],l(y.ignorePaths)&&y.ignorePaths?y.ignorePaths=Oe(y.ignorePaths):y.ignorePaths=[],l(y.acceptArraysIgnore)&&y.acceptArraysIgnore?y.acceptArraysIgnore=Oe(y.acceptArraysIgnore):y.acceptArraysIgnore=[],y.msg="string"==typeof y.msg?y.msg.trim():y.msg,":"===y.msg[y.msg.length-1]&&(y.msg=y.msg.slice(0,y.msg.length-1).trim()),y.schema&&Object.keys(y.schema).forEach(function(e){p(y.schema[e])||(y.schema[e]=[y.schema[e]]),y.schema[e]=y.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),l(c)||(c={}),n&&e(y,o,{enforceStrictKeyset:!1},!1),y.enforceStrictKeyset)if(l(y.schema)&&0<Object.keys(y.schema).length){if(0!==E(Object.keys(t),Object.keys(c).concat(Object.keys(y.schema))).length){var a=E(Object.keys(t),Object.keys(c).concat(Object.keys(y.schema)));throw new TypeError(y.msg+": "+y.optsVarName+".enforceStrictKeyset is on and the following key"+(1<a.length?"s":"")+" "+(1<a.length?"are":"is")+" not covered by schema and/or reference objects: "+a.join(", "))}}else{if(!(l(c)&&0<Object.keys(c).length))throw new TypeError(y.msg+": Both "+y.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==E(Object.keys(t),Object.keys(c)).length){var i=E(Object.keys(t),Object.keys(c));throw new TypeError(y.msg+": The input object has key"+(1<i.length?"s":"")+" which "+(1<i.length?"are":"is")+" not covered by the reference object: "+i.join(", "))}if(0!==E(Object.keys(c),Object.keys(t)).length){var s=E(Object.keys(c),Object.keys(t));throw new TypeError(y.msg+": The reference object has key"+(1<s.length?"s":"")+" which "+(1<s.length?"are":"is")+" not present in the input object: "+s.join(", "))}}g(t,function(t,e,r){var n=void 0!==e?e:t;if(!(!y.enforceStrictKeyset||!h(n)&&!p(n)&&p(r.parent)||l(y.schema)&&h(y.schema)&&(!h(y.schema)||Object.keys(y.schema).length&&(p(r.parent)||Object.prototype.hasOwnProperty.call(y.schema,r.path))&&(!p(r.parent)||O.has(y.schema,u(r.path))))||l(c)&&h(c)&&(!h(c)||Object.keys(c).length&&(y.acceptArrays||O.has(c,r.path))&&(!y.acceptArrays||(p(r.parent)||O.has(c,r.path))&&(!p(r.parent)||O.has(c,u(r.path)))))))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" is neither covered by reference object (second input argument), nor "+y.optsVarName+".schema! To stop this error, turn off "+y.optsVarName+".enforceStrictKeyset or provide some type reference (2nd argument or "+y.optsVarName+".schema).");if(h(y.schema)&&Object.keys(y.schema).length&&Object.prototype.hasOwnProperty.call(y.schema,r.path)){var o=Oe(y.schema[r.path]).map(String).map(function(e){return e.toLowerCase()});if(O.set(y.schema,r.path,o),!(we(o,f).length||(!0===n||!1===n||o.includes(S(n).toLowerCase()))&&(!0!==n&&!1!==n||o.includes(String(n))||o.includes("boolean")))){if(!p(n)||!y.acceptArrays)throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to "+("string"!==S(n)?'"':"")+JSON.stringify(n,null,0)+("string"!==S(n)?'"':"")+" ("+S(n).toLowerCase()+") which is not among the allowed types in schema ("+o.join(", ")+")");for(var a=0,i=n.length;a<i;a++)if(!o.includes(S(n[a]).toLowerCase()))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+"."+a+", the "+ke(a+1)+" element (equal to "+JSON.stringify(n[a],null,0)+") is of a type "+S(n[a]).toLowerCase()+", but only the following are allowed by the "+y.optsVarName+".schema: "+o.join(", "))}}else if(l(c)&&Object.keys(c).length&&O.has(c,r.path)&&S(n)!==S(O.get(c,r.path))&&(!y.ignoreKeys||!y.ignoreKeys.includes(t))&&(!y.ignorePaths||!y.ignorePaths.includes(r.path))){var s=O.get(c,r.path);if(!y.acceptArrays||!p(n)||y.acceptArraysIgnore.includes(t))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to "+("string"===S(n).toLowerCase()?"":'"')+JSON.stringify(n,null,0)+("string"===S(n).toLowerCase()?"":'"')+" which is not "+S(s).toLowerCase()+" but "+S(n).toLowerCase());if(!n.every(function(e){return S(e).toLowerCase()===S(c[t]).toLowerCase()}))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to be array, but not all of its elements are "+S(c[t]).toLowerCase()+"-type")}return n})}(e,t,r)}var We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee=function(e,t){if(t){if("object"!==(void 0===t?"undefined":We(t)))throw new TypeError(String(t)+" is not an object. Expected an object that has boolean `includeZero` property.");if("includeZero"in t){if("boolean"!=typeof t.includeZero)throw new TypeError(String(t.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(t.includeZero&&0===e)return!0}}return Number.isSafeInteger(e)&&1<=e},Ne=function(e,t){if("string"!=typeof e)return!1;if(t&&"includeZero"in t){if("boolean"!=typeof t.includeZero)throw new TypeError(String(t.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(t.includeZero)return/^(-?0|[1-9]\d*)(\.0+)?$/.test(e)}return/^[1-9]\d*(\.0+)?$/.test(e)},Ce=e(function(e,t){(t=e.exports=function(e){return e+t.suffix(+e)}).suffix=function(e){return 1===Math.floor(e/10)?"th":e%10==1?"st":e%10==2?"nd":e%10==3?"rd":"th"}});Ce.suffix;function He(e,t,r){return function e(t,c,r){var n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];function l(e){return null!=e}function h(e){return"Object"===S(e)}function u(e){if(e.includes(".")){var t=e.split(".");return t.pop(),t.join(".")}return e}var f=["any","anything","every","everything","all","whatever","whatevs"],p=Array.isArray;if(!l(t))throw new Error("check-types-mini: [THROW_ID_01] First argument is missing!");var o={ignoreKeys:[],ignorePaths:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},y=void 0;if(l((y=l(r)&&h(r)?Object.assign({},o,r):Object.assign({},o)).ignoreKeys)&&y.ignoreKeys?y.ignoreKeys=Oe(y.ignoreKeys):y.ignoreKeys=[],l(y.ignorePaths)&&y.ignorePaths?y.ignorePaths=Oe(y.ignorePaths):y.ignorePaths=[],l(y.acceptArraysIgnore)&&y.acceptArraysIgnore?y.acceptArraysIgnore=Oe(y.acceptArraysIgnore):y.acceptArraysIgnore=[],y.msg="string"==typeof y.msg?y.msg.trim():y.msg,":"===y.msg[y.msg.length-1]&&(y.msg=y.msg.slice(0,y.msg.length-1).trim()),y.schema&&Object.keys(y.schema).forEach(function(e){p(y.schema[e])||(y.schema[e]=[y.schema[e]]),y.schema[e]=y.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),l(c)||(c={}),n&&e(y,o,{enforceStrictKeyset:!1},!1),y.enforceStrictKeyset)if(l(y.schema)&&0<Object.keys(y.schema).length){if(0!==E(Object.keys(t),Object.keys(c).concat(Object.keys(y.schema))).length){var a=E(Object.keys(t),Object.keys(c).concat(Object.keys(y.schema)));throw new TypeError(y.msg+": "+y.optsVarName+".enforceStrictKeyset is on and the following key"+(1<a.length?"s":"")+" "+(1<a.length?"are":"is")+" not covered by schema and/or reference objects: "+a.join(", "))}}else{if(!(l(c)&&0<Object.keys(c).length))throw new TypeError(y.msg+": Both "+y.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==E(Object.keys(t),Object.keys(c)).length){var i=E(Object.keys(t),Object.keys(c));throw new TypeError(y.msg+": The input object has key"+(1<i.length?"s":"")+" which "+(1<i.length?"are":"is")+" not covered by the reference object: "+i.join(", "))}if(0!==E(Object.keys(c),Object.keys(t)).length){var s=E(Object.keys(c),Object.keys(t));throw new TypeError(y.msg+": The reference object has key"+(1<s.length?"s":"")+" which "+(1<s.length?"are":"is")+" not present in the input object: "+s.join(", "))}}g(t,function(t,e,r){var n=void 0!==e?e:t;if(!(!y.enforceStrictKeyset||!h(n)&&!p(n)&&p(r.parent)||l(y.schema)&&h(y.schema)&&(!h(y.schema)||Object.keys(y.schema).length&&(p(r.parent)||Object.prototype.hasOwnProperty.call(y.schema,r.path))&&(!p(r.parent)||O.has(y.schema,u(r.path))))||l(c)&&h(c)&&(!h(c)||Object.keys(c).length&&(y.acceptArrays||O.has(c,r.path))&&(!y.acceptArrays||(p(r.parent)||O.has(c,r.path))&&(!p(r.parent)||O.has(c,u(r.path)))))))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" is neither covered by reference object (second input argument), nor "+y.optsVarName+".schema! To stop this error, turn off "+y.optsVarName+".enforceStrictKeyset or provide some type reference (2nd argument or "+y.optsVarName+".schema).");if(h(y.schema)&&Object.keys(y.schema).length&&Object.prototype.hasOwnProperty.call(y.schema,r.path)){var o=Oe(y.schema[r.path]).map(String).map(function(e){return e.toLowerCase()});if(O.set(y.schema,r.path,o),!(we(o,f).length||(!0===n||!1===n||o.includes(S(n).toLowerCase()))&&(!0!==n&&!1!==n||o.includes(String(n))||o.includes("boolean")))){if(!p(n)||!y.acceptArrays)throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to "+("string"!==S(n)?'"':"")+JSON.stringify(n,null,0)+("string"!==S(n)?'"':"")+" ("+S(n).toLowerCase()+") which is not among the allowed types in schema ("+o.join(", ")+")");for(var a=0,i=n.length;a<i;a++)if(!o.includes(S(n[a]).toLowerCase()))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+"."+a+", the "+ke(a+1)+" element (equal to "+JSON.stringify(n[a],null,0)+") is of a type "+S(n[a]).toLowerCase()+", but only the following are allowed by the "+y.optsVarName+".schema: "+o.join(", "))}}else if(l(c)&&Object.keys(c).length&&O.has(c,r.path)&&S(n)!==S(O.get(c,r.path))&&(!y.ignoreKeys||!y.ignoreKeys.includes(t))&&(!y.ignorePaths||!y.ignorePaths.includes(r.path))){var s=O.get(c,r.path);if(!y.acceptArrays||!p(n)||y.acceptArraysIgnore.includes(t))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to "+("string"===S(n).toLowerCase()?"":'"')+JSON.stringify(n,null,0)+("string"===S(n).toLowerCase()?"":'"')+" which is not "+S(s).toLowerCase()+" but "+S(n).toLowerCase());if(!n.every(function(e){return S(e).toLowerCase()===S(c[t]).toLowerCase()}))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to be array, but not all of its elements are "+S(c[t]).toLowerCase()+"-type")}return n})}(e,t,r)}var De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Pe,Ve,Le=Function.prototype,xe=Object.prototype,Re=Le.toString,Ke=xe.hasOwnProperty,Me=Re.call(Object),Be=xe.toString,Je=(Pe=Object.getPrototypeOf,Ve=Object,function(e){return Pe(Ve(e))});var qe=function(e){if(!(t=e)||"object"!=(void 0===t?"undefined":De(t))||"[object Object]"!=Be.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t,r=Je(e);if(null===r)return!0;var n=Ke.call(r,"constructor")&&r.constructor;return"function"==typeof n&&n instanceof n&&Re.call(n)==Me},Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Ze(e){if("string"==typeof e)return 0!==e.length&&(55296<=e.charCodeAt(0)&&e.charCodeAt(0)<=56319);if(void 0===e)return!1;throw new TypeError("string-character-is-astral-surrogate/isHighSurrogate(): the input is not string but "+(void 0===e?"undefined":Fe(e)))}function $e(e){if("string"==typeof e)return 0!==e.length&&(56320<=e.charCodeAt(0)&&e.charCodeAt(0)<=57343);if(void 0===e)return!1;throw new TypeError("string-character-is-astral-surrogate/isLowSurrogate(): the input is not string but "+(void 0===e?"undefined":Fe(e)))}var Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze=Array.isArray;function Qe(e){return null!=e}function Ue(e){return"string"==typeof e}function Xe(e){return"string"==typeof e&&(55296<=e.charCodeAt(0)&&e.charCodeAt(0)<=57343)}function Ye(e,t,r,n){if(!(t<=e.length)){if(n.strictApi)throw new Error("string-match-left-right/marchForward(): [THROW_ID_102] second argument, fromIndexInclusive is "+t+" beyond the input string length, "+e.length+".");return!1}for(var o=r.length,a=t,i=e.length;a<i;a++){var s=e[a];if(Ze(e[a])&&$e(e[a+1])&&(s=e[a]+e[a+1]),$e(e[a])&&Ze(e[a-1])&&(s=e[a-1]+e[a]),!n.trimBeforeMatching||""!==e[a].trim())if(!n.i&&n.trimCharsBeforeMatching.includes(s)||n.i&&n.trimCharsBeforeMatching.map(function(e){return e.toLowerCase()}).includes(s.toLowerCase()))2===s.length&&(a+=1);else{var c=r[r.length-o];if(Ze(c)&&Qe(r[r.length-o+1])&&$e(r[r.length-o+1])&&(c=r[r.length-o]+r[r.length-o+1]),!(!n.i&&s===c||n.i&&s.toLowerCase()===c.toLowerCase()))return!1;if((o-=s.length)<1){var l=a-r.length+s.length;return 0<=l&&$e(e[l])&&Qe(e[l-1])&&Ze(e[l-1])&&(l-=1),0<=l?l:0}2===s.length&&Ze(e[a])&&(a+=1)}}if(0<o)return!1}function et(e,t,r,n){if(t>=e.length){if(n.strictApi)throw new Error("string-match-left-right/marchBackward(): [THROW_ID_203] second argument, starting index, should not be beyond the last character of the input string! Currently the first argument's last character's index is "+e.length+" but the second argument is beyond it:\n"+JSON.stringify(t,null,4));return!1}for(var o=r.length,a=t+1;a--;)if(!n.trimBeforeMatching||""!==e[a].trim()){var i=e[a];if($e(e[a])&&Ze(e[a-1])?i=e[a-1]+e[a]:Ze(e[a])&&$e(e[a+1])&&(i=e[a]+e[a+1]),!n.i&&n.trimCharsBeforeMatching.includes(i)||n.i&&n.trimCharsBeforeMatching.map(function(e){return e.toLowerCase()}).includes(i.toLowerCase()))2===i.length&&(a-=1);else{var s=r[o-1];if($e(s)&&(s=""+r[o-2]+r[o-1],o-=1,a-=1),!(!n.i&&i===s||n.i&&i.toLowerCase()===s.toLowerCase()))return!1;if((o-=1)<1)return 0<=a?a:0}}if(0<o)return!1}function tt(e,t,r,n,o){var a={i:!1,trimBeforeMatching:!1,trimCharsBeforeMatching:[],strictApi:!0,relaxedApi:!1},i=Object.assign({},a,o);i.trimCharsBeforeMatching=Oe(i.trimCharsBeforeMatching),He(i,a,{msg:"string-match-left-right: [THROW_ID_07*]",schema:{cb:["null","undefined","function"]}}),i.trimCharsBeforeMatching=i.trimCharsBeforeMatching.map(function(e){return Ue(e)?e:String(e)});var s=void 0,c=void 0;if(i.trimCharsBeforeMatching.some(function(e,t){return 1<e.length&&!Xe(e)&&(s=t,c=e,!0)}))throw new Error("string-match-left-right/"+e+"(): [THROW_ID_07] the fourth argument, options object contains trimCharsBeforeMatching. It was meant to list the single characters but one of the entries at index "+s+" is longer than 1 character, "+c.length+" (equals to "+c+"). Please split it into separate characters and put into array as separate elements.");if(!Ue(t)){if(i.relaxedApi)return!1;throw new Error("string-match-left-right/"+e+"(): [THROW_ID_01] the first argument should be a string. Currently it's of a type: "+(void 0===t?"undefined":Ge(t))+", equal to:\n"+JSON.stringify(t,null,4))}if(0===t.length){if(i.relaxedApi)return!1;throw new Error("string-match-left-right/"+e+"(): [THROW_ID_02] the first argument should be a non-empty string. Currently it's empty!")}if(!Ee(r,{includeZero:!0})){if(i.relaxedApi)return!1;throw new Error("string-match-left-right/"+e+"(): [THROW_ID_03] the second argument should be a natural number. Currently it's of a type: "+(void 0===r?"undefined":Ge(r))+", equal to:\n"+JSON.stringify(r,null,4))}var l=void 0;if(Ue(n))l=[n];else if(ze(n))l=n;else{if(Qe(n))throw new Error("string-match-left-right/"+e+"(): [THROW_ID_05] the third argument, whatToMatch, is neither string nor array of strings! It's "+(void 0===n?"undefined":Ge(n))+", equal to:\n"+JSON.stringify(n,null,4));l=[""]}if(Qe(o)&&!qe(o))throw new Error("string-match-left-right/"+e+"(): [THROW_ID_06] the fourth argument, options object, should be a plain object. Currently it's of a type \""+(void 0===o?"undefined":Ge(o))+'", and equal to:\n'+JSON.stringify(o,null,4));if(!Qe(l)||ze(l)&&Qe(l[0])&&0===l[0].length){if(i.cb){var h=void 0,u=r;if("matchRight"===e&&Ze(t[r])&&$e(t[r+1])&&(u+=1),"matchLeftIncl"!==e&&"matchRight"!==e||(u+=1),e.startsWith("matchLeft")){for(var f=u;f--;)if(!$e(t[f])||!Ze(t[f-1])){var p=t[f];if(Ze(t[f])&&$e(t[f+1])&&(p=t[f]+t[f+1]),(!i.trimBeforeMatching||i.trimBeforeMatching&&void 0!==p&&""!==p.trim())&&(0===i.trimCharsBeforeMatching.length||void 0!==p&&!i.trimCharsBeforeMatching.includes(p))){h=f;break}$e(t[f-1])&&Ze(t[f-2])&&(f-=1)}}else if(e.startsWith("matchRight"))for(var y=u;y<t.length;y++){var g=t[y];if(Ze(t[y])&&$e(t[y+1])&&(g=t[y]+t[y+1]),(!i.trimBeforeMatching||i.trimBeforeMatching&&""!==g.trim())&&(0===i.trimCharsBeforeMatching.length||!i.trimCharsBeforeMatching.includes(g))){h=y;break}Ze(t[y])&&$e(t[y+1])&&(y+=1)}if(void 0===h)return!1;var d=t[h];Ze(t[h])&&$e(t[h+1])&&(d=t[h]+t[h+1]),$e(t[h])&&Ze(t[h-1])&&(d=t[h-1]+t[h],h-=1);var m=h+1;return Ze(t[h])&&$e(t[h+1])&&(m+=1),e.startsWith("matchLeft")?i.cb(d,t.slice(0,m),h):i.cb(d,t.slice(h),h)}var b="";throw Qe(o)||(b=" More so, the whole options object, the fourth input argument, is missing!"),new Error("string-match-left-right/"+e+'(): [THROW_ID_08] the third argument, "whatToMatch", was given as an empty string. This means, you intend to match purely by a callback. The callback was not set though, the opts key "cb" is not set!'+b)}if(e.startsWith("matchLeft")){for(var v=0,w=l.length;v<w;v++){var O=r;"matchLeft"===e&&(Xe(t[v-1])&&Xe(t[v-2])?O-=2:O-=1);var j=et(t,O,l[v],i),_=void 0,S=void 0,T="";if(Qe(j)&&0<j&&(S=t[_=j-1],T=t.slice(0,j)),$e(t[_])&&Qe(t[_-1])&&Ze(t[_-1])&&(S=t[(_-=1)-1]+t[_]),Ze(t[_])&&Qe(t[_+1])&&$e(t[_+1])&&(S=t[_]+t[_+1],T=t.slice(0,_+2)),_<0&&(_=void 0),!1!==j&&(!i.cb||i.cb(S,T,_)))return l[v]}return!1}for(var A=0,k=l.length;A<k;A++){var I=r+("matchRight"===e?1:0);"matchRight"===e&&Ze(t[I-1])&&$e(t[I])&&(I+=1);var W=Ye(t,I,l[A],i),E=void 0,N=void 0;if(Qe(W)&&Qe(t[W+l[A].length])&&(N=t[E=W+l[A].length],Ze(t[E])&&$e(t[E+1])&&(N=t[E]+t[E+1])),!1!==W&&(!i.cb||i.cb(N,Qe(E)?t.slice(E):"",E)))return l[A]}return!1}function rt(e,t,r,n){return tt("matchLeftIncl",e,t,r,n)}function nt(e,t,r,n){return tt("matchRightIncl",e,t,r,n)}function ot(e,t,r){return function e(t,c,r){var n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];function l(e){return null!=e}function h(e){return"Object"===S(e)}function u(e){if(e.includes(".")){var t=e.split(".");return t.pop(),t.join(".")}return e}var f=["any","anything","every","everything","all","whatever","whatevs"],p=Array.isArray;if(!l(t))throw new Error("check-types-mini: [THROW_ID_01] First argument is missing!");var o={ignoreKeys:[],ignorePaths:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},y=void 0;if(l((y=l(r)&&h(r)?Object.assign({},o,r):Object.assign({},o)).ignoreKeys)&&y.ignoreKeys?y.ignoreKeys=Oe(y.ignoreKeys):y.ignoreKeys=[],l(y.ignorePaths)&&y.ignorePaths?y.ignorePaths=Oe(y.ignorePaths):y.ignorePaths=[],l(y.acceptArraysIgnore)&&y.acceptArraysIgnore?y.acceptArraysIgnore=Oe(y.acceptArraysIgnore):y.acceptArraysIgnore=[],y.msg="string"==typeof y.msg?y.msg.trim():y.msg,":"===y.msg[y.msg.length-1]&&(y.msg=y.msg.slice(0,y.msg.length-1).trim()),y.schema&&Object.keys(y.schema).forEach(function(e){p(y.schema[e])||(y.schema[e]=[y.schema[e]]),y.schema[e]=y.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),l(c)||(c={}),n&&e(y,o,{enforceStrictKeyset:!1},!1),y.enforceStrictKeyset)if(l(y.schema)&&0<Object.keys(y.schema).length){if(0!==E(Object.keys(t),Object.keys(c).concat(Object.keys(y.schema))).length){var a=E(Object.keys(t),Object.keys(c).concat(Object.keys(y.schema)));throw new TypeError(y.msg+": "+y.optsVarName+".enforceStrictKeyset is on and the following key"+(1<a.length?"s":"")+" "+(1<a.length?"are":"is")+" not covered by schema and/or reference objects: "+a.join(", "))}}else{if(!(l(c)&&0<Object.keys(c).length))throw new TypeError(y.msg+": Both "+y.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==E(Object.keys(t),Object.keys(c)).length){var i=E(Object.keys(t),Object.keys(c));throw new TypeError(y.msg+": The input object has key"+(1<i.length?"s":"")+" which "+(1<i.length?"are":"is")+" not covered by the reference object: "+i.join(", "))}if(0!==E(Object.keys(c),Object.keys(t)).length){var s=E(Object.keys(c),Object.keys(t));throw new TypeError(y.msg+": The reference object has key"+(1<s.length?"s":"")+" which "+(1<s.length?"are":"is")+" not present in the input object: "+s.join(", "))}}g(t,function(t,e,r){var n=void 0!==e?e:t;if(!(!y.enforceStrictKeyset||!h(n)&&!p(n)&&p(r.parent)||l(y.schema)&&h(y.schema)&&(!h(y.schema)||Object.keys(y.schema).length&&(p(r.parent)||Object.prototype.hasOwnProperty.call(y.schema,r.path))&&(!p(r.parent)||O.has(y.schema,u(r.path))))||l(c)&&h(c)&&(!h(c)||Object.keys(c).length&&(y.acceptArrays||O.has(c,r.path))&&(!y.acceptArrays||(p(r.parent)||O.has(c,r.path))&&(!p(r.parent)||O.has(c,u(r.path)))))))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" is neither covered by reference object (second input argument), nor "+y.optsVarName+".schema! To stop this error, turn off "+y.optsVarName+".enforceStrictKeyset or provide some type reference (2nd argument or "+y.optsVarName+".schema).");if(h(y.schema)&&Object.keys(y.schema).length&&Object.prototype.hasOwnProperty.call(y.schema,r.path)){var o=Oe(y.schema[r.path]).map(String).map(function(e){return e.toLowerCase()});if(O.set(y.schema,r.path,o),!(we(o,f).length||(!0===n||!1===n||o.includes(S(n).toLowerCase()))&&(!0!==n&&!1!==n||o.includes(String(n))||o.includes("boolean")))){if(!p(n)||!y.acceptArrays)throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to "+("string"!==S(n)?'"':"")+JSON.stringify(n,null,0)+("string"!==S(n)?'"':"")+" ("+S(n).toLowerCase()+") which is not among the allowed types in schema ("+o.join(", ")+")");for(var a=0,i=n.length;a<i;a++)if(!o.includes(S(n[a]).toLowerCase()))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+"."+a+", the "+ke(a+1)+" element (equal to "+JSON.stringify(n[a],null,0)+") is of a type "+S(n[a]).toLowerCase()+", but only the following are allowed by the "+y.optsVarName+".schema: "+o.join(", "))}}else if(l(c)&&Object.keys(c).length&&O.has(c,r.path)&&S(n)!==S(O.get(c,r.path))&&(!y.ignoreKeys||!y.ignoreKeys.includes(t))&&(!y.ignorePaths||!y.ignorePaths.includes(r.path))){var s=O.get(c,r.path);if(!y.acceptArrays||!p(n)||y.acceptArraysIgnore.includes(t))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to "+("string"===S(n).toLowerCase()?"":'"')+JSON.stringify(n,null,0)+("string"===S(n).toLowerCase()?"":'"')+" which is not "+S(s).toLowerCase()+" but "+S(n).toLowerCase());if(!n.every(function(e){return S(e).toLowerCase()===S(c[t]).toLowerCase()}))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to be array, but not all of its elements are "+S(c[t]).toLowerCase()+"-type")}return n})}(e,t,r)}var at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it=1/0,st=9007199254740991,ct=17976931348623157e292,lt=NaN,ht="[object Arguments]",ut="[object Function]",ft="[object GeneratorFunction]",pt="[object String]",yt="[object Symbol]",gt=/^\s+|\s+$/g,dt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,bt=/^0o[0-7]+$/i,vt=/^(?:0|[1-9]\d*)$/,wt=parseInt;function Ot(e){return e!=e}function jt(t,e){return function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(e,function(e){return t[e]})}var _t,St,Tt=Object.prototype,At=Tt.hasOwnProperty,kt=Tt.toString,It=Tt.propertyIsEnumerable,Wt=(_t=Object.keys,St=Object,function(e){return _t(St(e))}),Et=Math.max;function Nt(e,t){var r,n,o=Dt(e)||Lt(n=r=e)&&Pt(n)&&At.call(r,"callee")&&(!It.call(r,"callee")||kt.call(r)==ht)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],a=o.length,i=!!a;for(var s in e)!t&&!At.call(e,s)||i&&("length"==s||Ht(s,a))||o.push(s);return o}function Ct(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||Tt,t!==n)return Wt(e);var t,r,n,o=[];for(var a in Object(e))At.call(e,a)&&"constructor"!=a&&o.push(a);return o}function Ht(e,t){return!!(t=null==t?st:t)&&("number"==typeof e||vt.test(e))&&-1<e&&e%1==0&&e<t}var Dt=Array.isArray;function Pt(e){return null!=e&&("number"==typeof(n=e.length)&&-1<n&&n%1==0&&n<=st)&&!((r=Vt(t=e)?kt.call(t):"")==ut||r==ft);var t,r,n}function Vt(e){var t=void 0===e?"undefined":at(e);return!!e&&("object"==t||"function"==t)}function Lt(e){return!!e&&"object"==(void 0===e?"undefined":at(e))}var xt=function(e,t,r,n){var o,a,i,s;e=Pt(e)?e:(o=e)?jt(o,Pt(a=o)?Nt(a):Ct(a)):[],r=r&&!n?(i=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if("symbol"==(void 0===(t=e)?"undefined":at(t))||Lt(t)&&kt.call(t)==yt)return lt;var t;if(Vt(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=Vt(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(gt,"");var n=mt.test(e);return n||bt.test(e)?wt(e.slice(2),n?2:8):dt.test(e)?lt:+e}(e))===it||e===-it){var t=e<0?-1:1;return t*ct}return e==e?e:0}(r),s=i%1,i==i?s?i-s:i:0):0;var c,l=e.length;return r<0&&(r=Et(l+r,0)),"string"==typeof(c=e)||!Dt(c)&&Lt(c)&&kt.call(c)==pt?r<=l&&-1<e.indexOf(t,r):!!l&&-1<function(e,t,r){if(t!=t)return function(e,t,r,n){for(var o=e.length,a=r+(n?1:-1);n?a--:++a<o;)if(t(e[a],a,e))return a;return-1}(e,Ot,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t,r)},Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Kt(e){return"string"==typeof e}var Mt=Array.isArray;function Bt(e){throw new Error("string-find-heads-tails: [THROW_ID_01*] Missing "+Ce(e)+" parameter!")}function Jt(e,t,r,n){if(null!=n){if(!j(n))throw new TypeError("string-find-heads-tails: [THROW_ID_13] the fourth input argument, Optional Options Object, must be a plain object! Currently it's: "+(void 0===n?"undefined":Rt(n))+", equal to: "+n);Ne(n.fromIndex,{includeZero:!0})&&(n.fromIndex=Number(n.fromIndex))}var o={fromIndex:0,throwWhenSomethingWrongIsDetected:!0,allowWholeValueToBeOnlyHeadsOrTails:!0,source:"string-find-heads-tails",matchHeadsAndTailsStrictlyInPairsByTheirOrder:!1,relaxedAPI:!1};if(ot(n=Object.assign({},o,n),o,{msg:"string-find-heads-tails: [THROW_ID_14*]"}),n.relaxedAPI||(void 0===e&&Bt(1),void 0===t&&Bt(2),void 0===r&&Bt(3)),!Kt(e)||0===e.length){if(n.relaxedAPI)return[];throw new TypeError("string-find-heads-tails: [THROW_ID_02] the first input argument, input string, must be a non-zero-length string! Currently it's: "+(void 0===e?"undefined":Rt(e))+", equal to: "+e)}var a=void 0,i=void 0;if(!Kt(t)&&!Mt(t)){if(n.relaxedAPI)return[];throw new TypeError("string-find-heads-tails: [THROW_ID_03] the second input argument, heads, must be either a string or an array of strings! Currently it's: "+(void 0===t?"undefined":Rt(t))+", equal to:\n"+JSON.stringify(t,null,4))}if(Kt(t)){if(0===t.length){if(n.relaxedAPI)return[];throw new TypeError("string-find-heads-tails: [THROW_ID_04] the second input argument, heads, must be a non-empty string! Currently it's empty.")}t=Oe(t)}else if(Mt(t)){if(0===t.length){if(n.relaxedAPI)return[];throw new TypeError("string-find-heads-tails: [THROW_ID_05] the second input argument, heads, must be a non-empty array and contain at least one string! Currently it's empty.")}if(t.every(function(e,t){return i=t,Kt(a=e)})){if(!t.every(function(e,t){return i=t,Kt(e)&&0<e.length&&""!==e.trim()})){if(!n.relaxedAPI)throw new TypeError("string-find-heads-tails: [THROW_ID_07] the second input argument, heads, should not contain empty strings! For example, there's one detected at index "+i+" of heads array:\n"+JSON.stringify(t,null,4)+".");if(0===(t=t.filter(function(e){return Kt(e)&&0<e.length})).length)return[]}}else{if(!n.relaxedAPI)throw new TypeError("string-find-heads-tails: [THROW_ID_06] the second input argument, heads, contains non-string elements! For example, element at "+Ce(i)+" index is "+(void 0===a?"undefined":Rt(a))+", equal to:\n"+JSON.stringify(a,null,4)+". Whole heads array looks like:\n"+JSON.stringify(t,null,4));if(0===(t=t.filter(function(e){return Kt(e)&&0<e.length})).length)return[]}}if(!Kt(r)&&!Mt(r)){if(n.relaxedAPI)return[];throw new TypeError("string-find-heads-tails: [THROW_ID_08] the third input argument, tails, must be either a string or an array of strings! Currently it's: "+(void 0===r?"undefined":Rt(r))+", equal to:\n"+JSON.stringify(r,null,4))}if(Kt(r)){if(0===r.length){if(n.relaxedAPI)return[];throw new TypeError("string-find-heads-tails: [THROW_ID_09] the third input argument, tails, must be a non-empty string! Currently it's empty.")}r=Oe(r)}else if(Mt(r)){if(0===r.length){if(n.relaxedAPI)return[];throw new TypeError("string-find-heads-tails: [THROW_ID_10] the third input argument, tails, must be a non-empty array and contain at least one string! Currently it's empty.")}if(r.every(function(e,t){return i=t,Kt(a=e)})){if(!r.every(function(e,t){return i=t,Kt(e)&&0<e.length&&""!==e.trim()})){if(!n.relaxedAPI)throw new TypeError("string-find-heads-tails: [THROW_ID_12] the third input argument, tails, should not contain empty strings! For example, there's one detected at index "+i+". Whole tails array is equal to:\n"+JSON.stringify(r,null,4));if(0===(r=r.filter(function(e){return Kt(e)&&0<e.length})).length)return[]}}else{if(!n.relaxedAPI)throw new TypeError("string-find-heads-tails: [THROW_ID_11] the third input argument, tails, contains non-string elements! For example, element at "+Ce(i)+" index is "+(void 0===a?"undefined":Rt(a))+", equal to:\n"+JSON.stringify(a,null,4)+". Whole tails array is equal to:\n"+JSON.stringify(r,null,4));if(0===(r=r.filter(function(e){return Kt(e)&&0<e.length})).length)return[]}}var s=n.source===o.source;if(n.throwWhenSomethingWrongIsDetected&&!n.allowWholeValueToBeOnlyHeadsOrTails){if(xt(Oe(t),e))throw new Error(n.source+(s?": [THROW_ID_16]":"")+" the whole input string can't be equal to "+(Kt(t)?"":"one of ")+"heads ("+e+")!");if(xt(Oe(r),e))throw new Error(n.source+(s?": [THROW_ID_17]":"")+" the whole input string can't be equal to "+(Kt(r)?"":"one of ")+"tails ("+e+")!")}if(!Ee(n.fromIndex,{includeZero:!0})&&!Ne(n.fromIndex,{includeZero:!0}))throw new TypeError(n.source+(s?": [THROW_ID_18]":"")+" the fourth input argument must be a natural number! Currently it's: "+n.fromIndex);for(var c=t.concat(r).map(function(e){return e.charAt(0)}).reduce(function(e,t){return t.charCodeAt(0)>e[1]?[e[0],t.charCodeAt(0)]:t.charCodeAt(0)<e[0]?[t.charCodeAt(0),e[1]]:e},[t[0].charCodeAt(0),t[0].charCodeAt(0)]),l=[],h=!1,u={},f=!1,p=void 0,y=n.fromIndex,g=e.length;y<g;y++){var d=e[y].charCodeAt(0);if(d<=c[1]&&d>=c[0]){var m=nt(e,y,t);if(m&&n.matchHeadsAndTailsStrictlyInPairsByTheirOrder)for(var b=t.length;b--;)if(t[b]===m){p=b;break}if(m){if(!h){(u={}).headsStartAt=y,u.headsEndAt=y+m.length,h=!0,y+=m.length-1,f&&(f=!1);continue}if(n.throwWhenSomethingWrongIsDetected)throw new TypeError(n.source+(s?": [THROW_ID_19]":"")+' When processing "'+e+'", we found heads ('+e.slice(y,y+m.length)+') starting at character with index number "'+y+'" and there was another set of heads before it! Generally speaking, there should be "heads-tails-heads-tails", not "heads-heads-tails"!\nWe\'re talking about the area of the code:\n\n\n--------------------------------------starts\n'+e.slice(Math.max(y-200,0),y)+"\n      [33m-------\x3e[39m [31m"+e.slice(y,y+m.length)+"[39m [33m<-------[39m\n"+e.slice(y+m.length,Math.min(g,y+200))+"\n--------------------------------------ends\n\n\nTo turn off this error being thrown, set opts.throwWhenSomethingWrongIsDetected to Boolean false.")}var v=nt(e,y,r);if(h&&v&&n.matchHeadsAndTailsStrictlyInPairsByTheirOrder&&void 0!==p&&void 0!==r[p]&&r[p]!==v){for(var w=void 0,O=r.length;O--;)if(r[O]===v){w=O;break}throw new TypeError(n.source+(s?": [THROW_ID_20]":"")+' When processing "'+e+'", we had "opts.matchHeadsAndTailsStrictlyInPairsByTheirOrder" on. We found heads ('+t[p]+") but the tails the followed it were not of the same index, "+p+" ("+r[p]+") but "+w+" ("+v+").")}if(v){if(h){u.tailsStartAt=y,u.tailsEndAt=y+v.length,l.push(u),h=!(u={}),y+=v.length-1;continue}n.throwWhenSomethingWrongIsDetected&&(f=n.source+(s?": [THROW_ID_21]":"")+' When processing "'+e+'", we found tails ('+e.slice(y,y+v.length)+') starting at character with index number "'+y+"\" but there were no heads preceding it. That's very naughty!")}}if(n.throwWhenSomethingWrongIsDetected&&y===g-1){if(0!==Object.keys(u).length)throw new TypeError(n.source+(s?": [THROW_ID_22]":"")+' When processing "'+e+"\", we reached the end of the string and yet didn't find any tails ("+JSON.stringify(r,null,4)+") to match the last detected heads ("+e.slice(u.headsStartAt,u.headsEndAt)+")!");if(f)throw new Error(f)}}return l}function qt(e){return null!=e}function Ft(e,n,t){if(!qt(e))throw new Error("ast-get-values-by-key: [THROW_ID_01] the first argument is missing!");if(!qt(n))throw new Error("ast-get-values-by-key: [THROW_ID_02] the second argument is missing!");var o=void 0;qt(t)&&(o="string"==typeof t?[t]:v(t));var a=[],r=g(e,function(e,t){var r=void 0!==t?t:e;if(void 0!==t&&d.isMatch(e,n,{caseSensitive:!0}))if(void 0===o)a.push(t);else if(0<o.length)return o.shift();return r});return void 0===o?a:r}function Zt(e,t,r){return function e(t,c,r){var n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];function l(e){return null!=e}function h(e){return"Object"===S(e)}function u(e){if(e.includes(".")){var t=e.split(".");return t.pop(),t.join(".")}return e}var f=["any","anything","every","everything","all","whatever","whatevs"],p=Array.isArray;if(!l(t))throw new Error("check-types-mini: [THROW_ID_01] First argument is missing!");var o={ignoreKeys:[],ignorePaths:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},y=void 0;if(l((y=l(r)&&h(r)?Object.assign({},o,r):Object.assign({},o)).ignoreKeys)&&y.ignoreKeys?y.ignoreKeys=Oe(y.ignoreKeys):y.ignoreKeys=[],l(y.ignorePaths)&&y.ignorePaths?y.ignorePaths=Oe(y.ignorePaths):y.ignorePaths=[],l(y.acceptArraysIgnore)&&y.acceptArraysIgnore?y.acceptArraysIgnore=Oe(y.acceptArraysIgnore):y.acceptArraysIgnore=[],y.msg="string"==typeof y.msg?y.msg.trim():y.msg,":"===y.msg[y.msg.length-1]&&(y.msg=y.msg.slice(0,y.msg.length-1).trim()),y.schema&&Object.keys(y.schema).forEach(function(e){p(y.schema[e])||(y.schema[e]=[y.schema[e]]),y.schema[e]=y.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),l(c)||(c={}),n&&e(y,o,{enforceStrictKeyset:!1},!1),y.enforceStrictKeyset)if(l(y.schema)&&0<Object.keys(y.schema).length){if(0!==E(Object.keys(t),Object.keys(c).concat(Object.keys(y.schema))).length){var a=E(Object.keys(t),Object.keys(c).concat(Object.keys(y.schema)));throw new TypeError(y.msg+": "+y.optsVarName+".enforceStrictKeyset is on and the following key"+(1<a.length?"s":"")+" "+(1<a.length?"are":"is")+" not covered by schema and/or reference objects: "+a.join(", "))}}else{if(!(l(c)&&0<Object.keys(c).length))throw new TypeError(y.msg+": Both "+y.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==E(Object.keys(t),Object.keys(c)).length){var i=E(Object.keys(t),Object.keys(c));throw new TypeError(y.msg+": The input object has key"+(1<i.length?"s":"")+" which "+(1<i.length?"are":"is")+" not covered by the reference object: "+i.join(", "))}if(0!==E(Object.keys(c),Object.keys(t)).length){var s=E(Object.keys(c),Object.keys(t));throw new TypeError(y.msg+": The reference object has key"+(1<s.length?"s":"")+" which "+(1<s.length?"are":"is")+" not present in the input object: "+s.join(", "))}}g(t,function(t,e,r){var n=void 0!==e?e:t;if(!(!y.enforceStrictKeyset||!h(n)&&!p(n)&&p(r.parent)||l(y.schema)&&h(y.schema)&&(!h(y.schema)||Object.keys(y.schema).length&&(p(r.parent)||Object.prototype.hasOwnProperty.call(y.schema,r.path))&&(!p(r.parent)||O.has(y.schema,u(r.path))))||l(c)&&h(c)&&(!h(c)||Object.keys(c).length&&(y.acceptArrays||O.has(c,r.path))&&(!y.acceptArrays||(p(r.parent)||O.has(c,r.path))&&(!p(r.parent)||O.has(c,u(r.path)))))))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" is neither covered by reference object (second input argument), nor "+y.optsVarName+".schema! To stop this error, turn off "+y.optsVarName+".enforceStrictKeyset or provide some type reference (2nd argument or "+y.optsVarName+".schema).");if(h(y.schema)&&Object.keys(y.schema).length&&Object.prototype.hasOwnProperty.call(y.schema,r.path)){var o=Oe(y.schema[r.path]).map(String).map(function(e){return e.toLowerCase()});if(O.set(y.schema,r.path,o),!(we(o,f).length||(!0===n||!1===n||o.includes(S(n).toLowerCase()))&&(!0!==n&&!1!==n||o.includes(String(n))||o.includes("boolean")))){if(!p(n)||!y.acceptArrays)throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to "+("string"!==S(n)?'"':"")+JSON.stringify(n,null,0)+("string"!==S(n)?'"':"")+" ("+S(n).toLowerCase()+") which is not among the allowed types in schema ("+o.join(", ")+")");for(var a=0,i=n.length;a<i;a++)if(!o.includes(S(n[a]).toLowerCase()))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+"."+a+", the "+ke(a+1)+" element (equal to "+JSON.stringify(n[a],null,0)+") is of a type "+S(n[a]).toLowerCase()+", but only the following are allowed by the "+y.optsVarName+".schema: "+o.join(", "))}}else if(l(c)&&Object.keys(c).length&&O.has(c,r.path)&&S(n)!==S(O.get(c,r.path))&&(!y.ignoreKeys||!y.ignoreKeys.includes(t))&&(!y.ignorePaths||!y.ignorePaths.includes(r.path))){var s=O.get(c,r.path);if(!y.acceptArrays||!p(n)||y.acceptArraysIgnore.includes(t))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to "+("string"===S(n).toLowerCase()?"":'"')+JSON.stringify(n,null,0)+("string"===S(n).toLowerCase()?"":'"')+" which is not "+S(s).toLowerCase()+" but "+S(n).toLowerCase());if(!n.every(function(e){return S(e).toLowerCase()===S(c[t]).toLowerCase()}))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to be array, but not all of its elements are "+S(c[t]).toLowerCase()+"-type")}return n})}(e,t,r)}var $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt=Array.isArray;function zt(e){if(!Array.isArray(e))return e;for(var t=function(e,t){if(!Gt(e))throw new TypeError("ranges-sort: [THROW_ID_01] Input must be an array, consisting of range arrays! Currently its type is: "+(void 0===e?"undefined":$t(e))+", equal to: "+JSON.stringify(e,null,4));if(0===e.length)return e;var r={strictlyTwoElementsInRangeArrays:!1},n=Object.assign({},r,t);Zt(n,r,{msg:"ranges-sort: [THROW_ID_02*]"});var o=void 0,a=void 0;if(n.strictlyTwoElementsInRangeArrays&&!e.every(function(e,t){return 2===e.length||(o=t,a=e.length,!1)}))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, "+Ce(o)+" range ("+JSON.stringify(e[o],null,4)+") has not two but "+a+" elements!");if(!e.every(function(e,t){return!(!Ee(e[0],{includeZero:!0})||!Ee(e[1],{includeZero:!0}))||(o=t,!1)}))throw new TypeError("ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, "+Ce(o)+" range ("+JSON.stringify(e[o],null,4)+") does not consist of only natural numbers!");return Array.from(e).sort(function(e,t){return e[0]===t[0]?e[1]<t[1]?-1:e[1]>t[1]?1:0:e[0]<t[0]?-1:1})}(e),r=t.length-1;0<r;r--)(t[r][0]<=t[r-1][0]||t[r][0]<=t[r-1][1])&&(t[r-1][0]=Math.min(t[r][0],t[r-1][0]),t[r-1][1]=Math.max(t[r][1],t[r-1][1]),void 0!==t[r][2]&&(t[r-1][0]>=t[r][0]||t[r-1][1]<=t[r][1])&&null!==t[r-1][2]&&(null===t[r][2]&&null!==t[r-1][2]?t[r-1][2]=null:void 0!==t[r-1][2]?t[r-1][2]+=t[r][2]:t[r-1][2]=t[r][2]),t.splice(r,1),r=t.length);return t}function Qt(e,t,r){return function e(t,c,r){var n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];function l(e){return null!=e}function h(e){return"Object"===S(e)}function u(e){if(e.includes(".")){var t=e.split(".");return t.pop(),t.join(".")}return e}var f=["any","anything","every","everything","all","whatever","whatevs"],p=Array.isArray;if(!l(t))throw new Error("check-types-mini: [THROW_ID_01] First argument is missing!");var o={ignoreKeys:[],ignorePaths:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},y=void 0;if(l((y=l(r)&&h(r)?Object.assign({},o,r):Object.assign({},o)).ignoreKeys)&&y.ignoreKeys?y.ignoreKeys=Oe(y.ignoreKeys):y.ignoreKeys=[],l(y.ignorePaths)&&y.ignorePaths?y.ignorePaths=Oe(y.ignorePaths):y.ignorePaths=[],l(y.acceptArraysIgnore)&&y.acceptArraysIgnore?y.acceptArraysIgnore=Oe(y.acceptArraysIgnore):y.acceptArraysIgnore=[],y.msg="string"==typeof y.msg?y.msg.trim():y.msg,":"===y.msg[y.msg.length-1]&&(y.msg=y.msg.slice(0,y.msg.length-1).trim()),y.schema&&Object.keys(y.schema).forEach(function(e){p(y.schema[e])||(y.schema[e]=[y.schema[e]]),y.schema[e]=y.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),l(c)||(c={}),n&&e(y,o,{enforceStrictKeyset:!1},!1),y.enforceStrictKeyset)if(l(y.schema)&&0<Object.keys(y.schema).length){if(0!==E(Object.keys(t),Object.keys(c).concat(Object.keys(y.schema))).length){var a=E(Object.keys(t),Object.keys(c).concat(Object.keys(y.schema)));throw new TypeError(y.msg+": "+y.optsVarName+".enforceStrictKeyset is on and the following key"+(1<a.length?"s":"")+" "+(1<a.length?"are":"is")+" not covered by schema and/or reference objects: "+a.join(", "))}}else{if(!(l(c)&&0<Object.keys(c).length))throw new TypeError(y.msg+": Both "+y.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==E(Object.keys(t),Object.keys(c)).length){var i=E(Object.keys(t),Object.keys(c));throw new TypeError(y.msg+": The input object has key"+(1<i.length?"s":"")+" which "+(1<i.length?"are":"is")+" not covered by the reference object: "+i.join(", "))}if(0!==E(Object.keys(c),Object.keys(t)).length){var s=E(Object.keys(c),Object.keys(t));throw new TypeError(y.msg+": The reference object has key"+(1<s.length?"s":"")+" which "+(1<s.length?"are":"is")+" not present in the input object: "+s.join(", "))}}g(t,function(t,e,r){var n=void 0!==e?e:t;if(!(!y.enforceStrictKeyset||!h(n)&&!p(n)&&p(r.parent)||l(y.schema)&&h(y.schema)&&(!h(y.schema)||Object.keys(y.schema).length&&(p(r.parent)||Object.prototype.hasOwnProperty.call(y.schema,r.path))&&(!p(r.parent)||O.has(y.schema,u(r.path))))||l(c)&&h(c)&&(!h(c)||Object.keys(c).length&&(y.acceptArrays||O.has(c,r.path))&&(!y.acceptArrays||(p(r.parent)||O.has(c,r.path))&&(!p(r.parent)||O.has(c,u(r.path)))))))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" is neither covered by reference object (second input argument), nor "+y.optsVarName+".schema! To stop this error, turn off "+y.optsVarName+".enforceStrictKeyset or provide some type reference (2nd argument or "+y.optsVarName+".schema).");if(h(y.schema)&&Object.keys(y.schema).length&&Object.prototype.hasOwnProperty.call(y.schema,r.path)){var o=Oe(y.schema[r.path]).map(String).map(function(e){return e.toLowerCase()});if(O.set(y.schema,r.path,o),!(we(o,f).length||(!0===n||!1===n||o.includes(S(n).toLowerCase()))&&(!0!==n&&!1!==n||o.includes(String(n))||o.includes("boolean")))){if(!p(n)||!y.acceptArrays)throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to "+("string"!==S(n)?'"':"")+JSON.stringify(n,null,0)+("string"!==S(n)?'"':"")+" ("+S(n).toLowerCase()+") which is not among the allowed types in schema ("+o.join(", ")+")");for(var a=0,i=n.length;a<i;a++)if(!o.includes(S(n[a]).toLowerCase()))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+"."+a+", the "+ke(a+1)+" element (equal to "+JSON.stringify(n[a],null,0)+") is of a type "+S(n[a]).toLowerCase()+", but only the following are allowed by the "+y.optsVarName+".schema: "+o.join(", "))}}else if(l(c)&&Object.keys(c).length&&O.has(c,r.path)&&S(n)!==S(O.get(c,r.path))&&(!y.ignoreKeys||!y.ignoreKeys.includes(t))&&(!y.ignorePaths||!y.ignorePaths.includes(r.path))){var s=O.get(c,r.path);if(!y.acceptArrays||!p(n)||y.acceptArraysIgnore.includes(t))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to "+("string"===S(n).toLowerCase()?"":'"')+JSON.stringify(n,null,0)+("string"===S(n).toLowerCase()?"":'"')+" which is not "+S(s).toLowerCase()+" but "+S(n).toLowerCase());if(!n.every(function(e){return S(e).toLowerCase()===S(c[t]).toLowerCase()}))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to be array, but not all of its elements are "+S(c[t]).toLowerCase()+"-type")}return n})}(e,t,r)}function Ut(e,t){var r=void 0;if(r=t&&"number"==typeof t?t:1,"string"==typeof e){if(0===e.length)return"";if(""===e.trim()){var n=(e.match(/\n/g)||[]).length;return n?"\n".repeat(Math.min(n,r)):" "}var o="";if(""===e[0].trim()){o=" ";for(var a=0,i=0,s=e.length;i<s&&("\n"===e[i]&&a++,0===e[i].trim().length);i++);a&&(o="\n".repeat(Math.min(a,r)))}var c="";if(""===e.slice(-1).trim()){c=" ";for(var l=0,h=e.length;h--&&("\n"===e[h]&&l++,0===e[h].trim().length););l&&(c="\n".repeat(Math.min(l,r)))}return o+e.trim()+c}return e}var Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function er(e){return null!=e}var tr=Array.isArray;function rr(e){return"string"==typeof e}function nr(e){return Ne(e,{includeZero:!0})?parseInt(e,10):e}var or=function(){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t={limitToBeAddedWhitespace:!1,limitLinebreaksCount:1},r=Object.assign({},t,e);Qt(r,t,{msg:"string-slices-array-push: [THROW_ID_02*]"}),this.opts=r}return Yt(n,[{key:"add",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(e){throw new Error("string-slices-array-push/Slices/add(): [THROW_ID_01] Missing "+Ce(e)+" input parameter!")}(1),r=this,t=arguments[1],n=arguments[2],o=arguments.length,a=Array(3<o?o-3:0),i=3;i<o;i++)a[i-3]=arguments[i];if(0<a.length)throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_03] Please don't overload the add() method. From the 4th input argument onwards we see these redundant arguments: "+JSON.stringify(a,null,4));if(null!==e||void 0!==t||void 0!==n){var s=Ne(e,{includeZero:!0})?parseInt(e,10):e,c=Ne(t,{includeZero:!0})?parseInt(t,10):t;if(tr(e)&&!er(t)){var l=void 0,h=void 0;if(0<e.length){if(!e.every(function(e,t){return!!tr(e)||(l=t,h=e,!1)}))throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_07] first argument was given as array but it contains not only range arrays. For example, at index "+l+" we have "+(void 0===h?"undefined":Xt(h))+"-type value:\n"+JSON.stringify(h,null,4)+".");e.forEach(function(e,t){if(!Ee(nr(e[0]),{includeZero:!0}))throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_06] The "+Ce(t)+" ranges array's starting range index, an element at its zero'th index, is not a natural number! It's equal to: "+e[0]+".");if(!Ee(nr(e[1]),{includeZero:!0}))throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_05] The "+Ce(t)+" ranges array's ending range index, an element at its first index, is not a natural number! It's equal to: "+e[1]+".");if(er(e[2])&&!rr(e[2]))throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_04] The "+Ce(t)+' ranges array\'s "to add" value is not string but '+Xt(e[2])+"! It's equal to: "+e[2]+".");r.add.apply(r,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))})}}else{if(!Ee(s,{includeZero:!0})||!Ee(c,{includeZero:!0}))throw Ee(s,{includeZero:!0})?new TypeError('string-slices-array-push/Slices/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it\'s of a type "'+(void 0===c?"undefined":Xt(c))+'" equal to: '+JSON.stringify(c,null,4)):new TypeError('string-slices-array-push/Slices/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it\'s of a type "'+(void 0===s?"undefined":Xt(s))+'" equal to: '+JSON.stringify(s,null,4));if(er(n)&&!rr(n))throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but "+(void 0===n?"undefined":Xt(n))+", equal to:\n"+JSON.stringify(n,null,4));if(void 0!==this.slices&&s===this.last()[1]){if(this.last()[1]=c,null!==this.last()[2]&&er(n)){var u=er(this.last()[2])&&0<this.last()[2].length?this.last()[2]+n:n;this.opts.limitToBeAddedWhitespace&&(u=Ut(u,this.opts.limitLinebreaksCount)),this.last()[2]=u}}else this.slices||(this.slices=[]),this.slices.push(void 0!==n?[s,c,this.opts.limitToBeAddedWhitespace?Ut(n,this.opts.limitLinebreaksCount):n]:[s,c])}}}},{key:"push",value:function(e,t,r){for(var n=arguments.length,o=Array(3<n?n-3:0),a=3;a<n;a++)o[a-3]=arguments[a];this.add.apply(this,[e,t,r].concat(o))}},{key:"current",value:function(){var t=this;return null!=this.slices?(this.slices=zt(this.slices),this.opts.limitToBeAddedWhitespace?this.slices.map(function(e){return er(e[2])?[e[0],e[1],Ut(e[2],t.opts.limitLinebreaksCount)]:e}):this.slices):null}},{key:"wipe",value:function(){this.slices=void 0}},{key:"last",value:function(){return void 0!==this.slices&&Array.isArray(this.slices)?this.slices[this.slices.length-1]:null}}]),n}(),ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir=Array.isArray;function sr(i,r){if(0===arguments.length)throw new Error("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_01] inputs missing!");if("string"!=typeof i)throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_02] first input argument must be a string! Currently it's: "+(void 0===i?"undefined":ar(i))+", equal to: "+i);if(!ir(r))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_03] second input argument must be an array! Currently it's: "+(void 0===r?"undefined":ar(r))+", equal to: "+r);if(ir(r)&&(Ee(r[0],{includeZero:!0})||Ne(r[0],{includeZero:!0}))&&(Ee(r[1],{includeZero:!0})||Ne(r[1],{includeZero:!0}))&&(r=[r]),r.forEach(function(e,t){if(!ir(e))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_05] ranges array, second input arg., has "+Ce(t)+" element not an array: "+JSON.stringify(e,null,4)+", which is "+(void 0===e?"undefined":ar(e)));if(!Ee(e[0],{includeZero:!0})){if(!Ne(e[0],{includeZero:!0}))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_06] ranges array, second input arg. has "+Ce(t)+" element, array ["+e[0]+","+e[1]+"]. That array has first element not an integer, but "+ar(e[0])+", equal to: "+JSON.stringify(e[0],null,4)+". Computer doesn't like this.");r[t][0]=Number.parseInt(r[t][0],10)}if(!Ee(e[1],{includeZero:!0})){if(!Ne(e[1],{includeZero:!0}))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_07] ranges array, second input arg. has "+Ce(t)+" element, array ["+e[0]+","+e[1]+"]. That array has second element not an integer, but "+ar(e[1])+", equal to: "+JSON.stringify(e[1],null,4)+". Computer doesn't like this.");r[t][1]=Number.parseInt(r[t][1],10)}}),0<r.length){var e=i.slice(r[r.length-1][1]);i=r.reduce(function(e,t,r,n){var o=0===r?0:n[r-1][1],a=n[r][0];return e+i.slice(o,a)+(null!=n[r][2]?n[r][2]:"")},""),i+=e}return i}function cr(e,t,r){return function e(t,c,r){var n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];function l(e){return null!=e}function h(e){return"Object"===S(e)}function u(e){if(e.includes(".")){var t=e.split(".");return t.pop(),t.join(".")}return e}var f=["any","anything","every","everything","all","whatever","whatevs"],p=Array.isArray;if(!l(t))throw new Error("check-types-mini: [THROW_ID_01] First argument is missing!");var o={ignoreKeys:[],ignorePaths:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},y=void 0;if(l((y=l(r)&&h(r)?Object.assign({},o,r):Object.assign({},o)).ignoreKeys)&&y.ignoreKeys?y.ignoreKeys=Oe(y.ignoreKeys):y.ignoreKeys=[],l(y.ignorePaths)&&y.ignorePaths?y.ignorePaths=Oe(y.ignorePaths):y.ignorePaths=[],l(y.acceptArraysIgnore)&&y.acceptArraysIgnore?y.acceptArraysIgnore=Oe(y.acceptArraysIgnore):y.acceptArraysIgnore=[],y.msg="string"==typeof y.msg?y.msg.trim():y.msg,":"===y.msg[y.msg.length-1]&&(y.msg=y.msg.slice(0,y.msg.length-1).trim()),y.schema&&Object.keys(y.schema).forEach(function(e){p(y.schema[e])||(y.schema[e]=[y.schema[e]]),y.schema[e]=y.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),l(c)||(c={}),n&&e(y,o,{enforceStrictKeyset:!1},!1),y.enforceStrictKeyset)if(l(y.schema)&&0<Object.keys(y.schema).length){if(0!==E(Object.keys(t),Object.keys(c).concat(Object.keys(y.schema))).length){var a=E(Object.keys(t),Object.keys(c).concat(Object.keys(y.schema)));throw new TypeError(y.msg+": "+y.optsVarName+".enforceStrictKeyset is on and the following key"+(1<a.length?"s":"")+" "+(1<a.length?"are":"is")+" not covered by schema and/or reference objects: "+a.join(", "))}}else{if(!(l(c)&&0<Object.keys(c).length))throw new TypeError(y.msg+": Both "+y.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==E(Object.keys(t),Object.keys(c)).length){var i=E(Object.keys(t),Object.keys(c));throw new TypeError(y.msg+": The input object has key"+(1<i.length?"s":"")+" which "+(1<i.length?"are":"is")+" not covered by the reference object: "+i.join(", "))}if(0!==E(Object.keys(c),Object.keys(t)).length){var s=E(Object.keys(c),Object.keys(t));throw new TypeError(y.msg+": The reference object has key"+(1<s.length?"s":"")+" which "+(1<s.length?"are":"is")+" not present in the input object: "+s.join(", "))}}g(t,function(t,e,r){var n=void 0!==e?e:t;if(!(!y.enforceStrictKeyset||!h(n)&&!p(n)&&p(r.parent)||l(y.schema)&&h(y.schema)&&(!h(y.schema)||Object.keys(y.schema).length&&(p(r.parent)||Object.prototype.hasOwnProperty.call(y.schema,r.path))&&(!p(r.parent)||O.has(y.schema,u(r.path))))||l(c)&&h(c)&&(!h(c)||Object.keys(c).length&&(y.acceptArrays||O.has(c,r.path))&&(!y.acceptArrays||(p(r.parent)||O.has(c,r.path))&&(!p(r.parent)||O.has(c,u(r.path)))))))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" is neither covered by reference object (second input argument), nor "+y.optsVarName+".schema! To stop this error, turn off "+y.optsVarName+".enforceStrictKeyset or provide some type reference (2nd argument or "+y.optsVarName+".schema).");if(h(y.schema)&&Object.keys(y.schema).length&&Object.prototype.hasOwnProperty.call(y.schema,r.path)){var o=Oe(y.schema[r.path]).map(String).map(function(e){return e.toLowerCase()});if(O.set(y.schema,r.path,o),!(we(o,f).length||(!0===n||!1===n||o.includes(S(n).toLowerCase()))&&(!0!==n&&!1!==n||o.includes(String(n))||o.includes("boolean")))){if(!p(n)||!y.acceptArrays)throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to "+("string"!==S(n)?'"':"")+JSON.stringify(n,null,0)+("string"!==S(n)?'"':"")+" ("+S(n).toLowerCase()+") which is not among the allowed types in schema ("+o.join(", ")+")");for(var a=0,i=n.length;a<i;a++)if(!o.includes(S(n[a]).toLowerCase()))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+"."+a+", the "+ke(a+1)+" element (equal to "+JSON.stringify(n[a],null,0)+") is of a type "+S(n[a]).toLowerCase()+", but only the following are allowed by the "+y.optsVarName+".schema: "+o.join(", "))}}else if(l(c)&&Object.keys(c).length&&O.has(c,r.path)&&S(n)!==S(O.get(c,r.path))&&(!y.ignoreKeys||!y.ignoreKeys.includes(t))&&(!y.ignorePaths||!y.ignorePaths.includes(r.path))){var s=O.get(c,r.path);if(!y.acceptArrays||!p(n)||y.acceptArraysIgnore.includes(t))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to "+("string"===S(n).toLowerCase()?"":'"')+JSON.stringify(n,null,0)+("string"===S(n).toLowerCase()?"":'"')+" which is not "+S(s).toLowerCase()+" but "+S(n).toLowerCase());if(!n.every(function(e){return S(e).toLowerCase()===S(c[t]).toLowerCase()}))throw new TypeError(y.msg+": "+y.optsVarName+"."+r.path+" was customised to be array, but not all of its elements are "+S(c[t]).toLowerCase()+"-type")}return n})}(e,t,r)}function lr(e){if("string"!=typeof e)return e;var t=void 0,r=void 0;if(0<e.length){if(" "===e[0])for(var n=0,o=e.length;n<o;n++){if(" "!==e[n]){t=n;break}if(n===e.length-1)return""}if(" "===e[e.length-1])for(var a=e.length;a--;)if(" "!==e[a]){r=a+1;break}if(t)return r?e.slice(t,r):e.slice(t);if(r)return e.slice(0,r)}return e}var hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr=Array.isArray,pr=Object.prototype.hasOwnProperty;function yr(e){return"string"==typeof e}function gr(e){return"boolean"==typeof e}function dr(e){return null===e}function mr(e){return yr(e)?e.trim():e}function br(e){if("string"==typeof e&&0<e.length&&-1!==e.indexOf("."))for(var t=0,r=e.length;t<r;t++)if("."===e[t])return e.slice(t+1);return e}function vr(e){if("string"==typeof e&&0<e.length&&-1!==e.indexOf("."))for(var t=e.length;t--;)if("."===e[t])return e.slice(0,t);return e}function wr(e){if("string"==typeof e&&0<e.length&&-1!==e.indexOf("."))for(var t=e.length;t--;)if("."===e[t])return e.slice(t+1);return e}function Or(e,t){return"string"==typeof e&&0!==e.trim().length&&!!(e.includes(t.heads)||e.includes(t.tails)||yr(t.headsNoWrap)&&0<t.headsNoWrap.length&&e.includes(t.headsNoWrap)||yr(t.tailsNoWrap)&&0<t.tailsNoWrap.length&&e.includes(t.tailsNoWrap))}function jr(e,t){var r,n,o,a,i,s=2<arguments.length&&void 0!==arguments[2]&&arguments[2],c=arguments[5];if(yr(e)&&!s&&t.wrapGlobalFlipSwitch&&!t.dontWrapVars.some(function(e){return d.isMatch(c,e)})&&(!t.preventDoubleWrapping||t.preventDoubleWrapping&&yr(e)&&!e.includes(t.wrapHeadsWith)&&!e.includes(t.wrapTailsWith)))return t.wrapHeadsWith+e+t.wrapTailsWith;if(s){if(!yr(e))return e;var l=function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};function o(e){return null!=e}var t=Object.prototype.hasOwnProperty;function r(e){return"string"==typeof e}if(void 0===n)throw new Error("string-remove-duplicate-heads-tails: [THROW_ID_01] The input is missing!");if("string"!=typeof n)return n;if(o(e)&&!j(e))throw new Error("string-remove-duplicate-heads-tails: [THROW_ID_03] The given options are not a plain object but "+(void 0===e?"undefined":hr(e))+"!");if(o(e)&&t.call(e,"heads")){if(!Oe(e.heads).every(function(e){return r(e)}))throw new Error("string-remove-duplicate-heads-tails: [THROW_ID_04] The opts.heads contains elements which are not string-type!");r(e.heads)&&(e.heads=Oe(e.heads))}if(o(e)&&t.call(e,"tails")){if(!Oe(e.tails).every(function(e){return r(e)}))throw new Error("string-remove-duplicate-heads-tails: [THROW_ID_05] The opts.tails contains elements which are not string-type!");r(e.tails)&&(e.tails=Oe(e.tails))}var a=lr(n);if(0===a.length)return n;n=a;var i={heads:["{{"],tails:["}}"]},s=Object.assign({},i,e);cr(s,i,{msg:"string-remove-duplicate-heads-tails: [THROW_ID_06*]"}),s.heads=s.heads.map(function(e){return e.trim()}),s.tails=s.tails.map(function(e){return e.trim()});var c=!1,l=!1,h=new or({limitToBeAddedWhitespace:!0}),u=new or({limitToBeAddedWhitespace:!0}),f=!0,p=!0,y="";function g(e,t){var n=void 0;return nt(e,0,t.heads,{trimBeforeMatching:!0,cb:function(e,t,r){return n=r,!0},relaxedApi:!0})&&nt(e,n,t.tails,{trimBeforeMatching:!0,cb:function(e,t,r){return n=r,!0},relaxedApi:!0})?e.slice(n):e}for(;n!==g(n,s);)n=lr(g(n,s));function d(e,t){var n=void 0;return rt(e,e.length-1,t.tails,{trimBeforeMatching:!0,cb:function(e,t,r){return n=r,!0},relaxedApi:!0})&&rt(e,n,t.heads,{trimBeforeMatching:!0,cb:function(e,t,r){return n=r,!0},relaxedApi:!0})?e.slice(0,n+1):e}for(;n!==d(n,s);)n=lr(d(n,s));if(!nt(n,0,s.heads,{trimBeforeMatching:!0,relaxedApi:!0})||!rt(n,n.length-1,s.tails,{trimBeforeMatching:!0,relaxedApi:!0}))return lr(n);for(var m=0,b=n.length;m<b;m++)if(""===n[m].trim());else{var v=void 0;if(nt(n,m,s.heads,{trimBeforeMatching:!0,cb:function(e,t,r){return v=r,!0},relaxedApi:!0})){p=!0,f&&(f=!0);var w=void 0;nt(n,v,s.tails,{trimBeforeMatching:!0,cb:function(e,t,r){return w=r,!0},relaxedApi:!0})&&h.push(m,w),u.current()&&c&&"tails"!==y&&h.push(u.current()),c||u.current()&&(h.push(u.current()),u.wipe()),u.push(m,v),y="heads",m=v-1;continue}if(nt(n,m,s.tails,{trimBeforeMatching:!0,cb:function(e,t,r){return v=o(r)?r:n.length,!0},relaxedApi:!0})){p=!0,f?("heads"===y&&u.wipe(),f=!1):u.push(m,v),y="tails",m=v-1;continue}f&&(f=!0),p&&!c?p=!(c=!0):p&&!l?(p=!(f=l=!0),"heads"===y&&u.wipe()):p&&l&&u.wipe()}return u.current()&&h.push(u.current()),h.current()?sr(n,h.current()).trim():n.trim()}(e,{heads:t.wrapHeadsWith,tails:t.wrapTailsWith});return yr(l)?(r=l,n=t.wrapHeadsWith,o=t.wrapTailsWith,i=a=void 0,"string"==typeof r&&0<r.length&&nt(r,0,n,{trimBeforeMatching:!0,cb:function(e,t,r){return a=r,!0}})&&rt(r,r.length-1,o,{trimBeforeMatching:!0,cb:function(e,t,r){return i=r+1,!0}})?r.slice(a,i):r):l}return e}function _r(e,t,r,n){var o=void 0;if(-1!==r.indexOf(".")){var a=r,i=!0;if(n.lookForDataContainers&&"string"==typeof n.dataContainerIdentifierTails&&0<n.dataContainerIdentifierTails.length&&!a.endsWith(n.dataContainerIdentifierTails)){var s=O.get(e,a+n.dataContainerIdentifierTails);j(s)&&O.get(s,t)&&(o=O.get(s,t),i=!1)}for(;i&&-1!==a.indexOf(".");){if(wr(a=vr(a))===t)throw new Error('json-variables/findValues(): [THROW_ID_20] While trying to resolve: "'+t+'" at path "'+r+'", we encountered a closed loop. The parent key "'+wr(a)+'" is called the same as the variable "'+t+"\" we're looking for.");if(n.lookForDataContainers&&"string"==typeof n.dataContainerIdentifierTails&&0<n.dataContainerIdentifierTails.length&&!a.endsWith(n.dataContainerIdentifierTails)){var c=O.get(e,a+n.dataContainerIdentifierTails);j(c)&&O.get(c,t)&&(o=O.get(c,t),i=!1)}if(void 0===o){var l=O.get(e,a);j(l)&&O.get(l,t)&&(o=O.get(l,t),i=!1)}}}if(void 0===o){var h=O.get(e,t);void 0!==h&&(o=h)}if(void 0===o)if(-1===t.indexOf(".")){var u=Ft(e,t);if(0<u.length)for(var f=0,p=u.length;f<p;f++){if(yr(u[f])||gr(u[f])||dr(u[f])){o=u[f];break}if("number"==typeof u[f]){o=String(u[f]);break}if(fr(u[f])){o=u[f].join("");break}throw new Error('json-variables/findValues(): [THROW_ID_21] While trying to resolve: "'+t+'" at path "'+r+'", we actually found the key named '+t+", but it was not equal to a string but to:\n"+JSON.stringify(u[f],null,4)+"\nWe can't resolve a string with that! It should be a string.")}}else{var y=Ft(e,function(e){if("string"==typeof e&&0<e.length&&-1!==e.indexOf("."))for(var t=0,r=e.length;t<r;t++)if("."===e[t])return e.slice(0,t);return e}(t));if(0<y.length)for(var g=0,d=y.length;g<d;g++){var m=O.get(y[g],br(t));m&&yr(m)&&(o=m)}}return o}return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(0===arguments.length)throw new Error("json-variables/jsonVariables(): [THROW_ID_01] Alas! Inputs are missing!");if(!j(e))throw new TypeError("json-variables/jsonVariables(): [THROW_ID_02] Alas! The input must be a plain object! Currently it's: "+(Array.isArray(e)?"array":void 0===e?"undefined":ur(e)));if(!j(t))throw new TypeError("json-variables/jsonVariables(): [THROW_ID_03] Alas! An Optional Options Object must be a plain object! Currently it's: "+(Array.isArray(t)?"array":void 0===t?"undefined":ur(t)));var n=v(e),r={heads:"%%_",tails:"_%%",headsNoWrap:"%%-",tailsNoWrap:"-%%",lookForDataContainers:!0,dataContainerIdentifierTails:"_data",wrapHeadsWith:"",wrapTailsWith:"",dontWrapVars:[],preventDoubleWrapping:!0,wrapGlobalFlipSwitch:!0,noSingleMarkers:!1,resolveToBoolIfAnyValuesContainBool:!0,resolveToFalseIfAnyValuesContainBool:!0,throwWhenNonStringInsertedInString:!1},o=Object.assign({},r,t);o.dontWrapVars?fr(o.dontWrapVars)||(o.dontWrapVars=Oe(o.dontWrapVars)):o.dontWrapVars=[],Ie(o,r,{msg:"json-variables/jsonVariables(): [THROW_ID_04*]",schema:{headsNoWrap:["string","null","undefined"],tailsNoWrap:["string","null","undefined"]}});var a=void 0,i=void 0;if(0<o.dontWrapVars.length&&!o.dontWrapVars.every(function(e,t){return!!yr(e)||(a=e,i=t,!1)}))throw new Error('json-variables/jsonVariables(): [THROW_ID_05] Alas! All variable names set in opts.dontWrapVars should be of a string type. Computer detected a value "'+a+'" at index '+i+", which is not string but "+(Array.isArray(a)?"array":void 0===a?"undefined":ur(a))+"!");if(""===o.heads)throw new Error("json-variables/jsonVariables(): [THROW_ID_06] Alas! opts.heads are empty!");if(""===o.tails)throw new Error("json-variables/jsonVariables(): [THROW_ID_07] Alas! opts.tails are empty!");if(o.lookForDataContainers&&""===o.dataContainerIdentifierTails)throw new Error("json-variables/jsonVariables(): [THROW_ID_08] Alas! opts.dataContainerIdentifierTails is empty!");if(o.heads===o.tails)throw new Error("json-variables/jsonVariables(): [THROW_ID_09] Alas! opts.heads and opts.tails can't be equal!");if(o.heads===o.headsNoWrap)throw new Error("json-variables/jsonVariables(): [THROW_ID_10] Alas! opts.heads and opts.headsNoWrap can't be equal!");if(o.tails===o.tailsNoWrap)throw new Error("json-variables/jsonVariables(): [THROW_ID_11] Alas! opts.tails and opts.tailsNoWrap can't be equal!");if(""===o.headsNoWrap)throw new Error("json-variables/jsonVariables(): [THROW_ID_12] Alas! opts.headsNoWrap is an empty string!");if(""===o.tailsNoWrap)throw new Error("json-variables/jsonVariables(): [THROW_ID_13] Alas! opts.tailsNoWrap is an empty string!");if(o.headsNoWrap===o.tailsNoWrap)throw new Error("json-variables/jsonVariables(): [THROW_ID_14] Alas! opts.headsNoWrap and opts.tailsNoWrap can't be equal!");var s=void 0;return g(n,function(e,t,r){if(null!=t&&Or(e,o))throw new Error("json-variables/jsonVariables(): [THROW_ID_15] Alas! Object keys can't contain variables!\nPlease check the following key: "+e);if(""===(s=void 0!==t?t:e))return s;if(0!==o.heads.length&&mr(s)===mr(o.heads)||0!==o.tails.length&&mr(s)===mr(o.tails)||0!==o.headsNoWrap.length&&mr(s)===mr(o.headsNoWrap)||0!==o.tailsNoWrap.length&&mr(s)===mr(o.tailsNoWrap)){if(!o.noSingleMarkers)return s;throw new Error("json-variables/jsonVariables(): [THROW_ID_16] Alas! While processing the input, we stumbled upon "+mr(s)+" which is equal to "+(mr(s)===mr(o.heads)?"heads":"")+(mr(s)===mr(o.tails)?"tails":"")+(yr(o.headsNoWrap)&&mr(s)===mr(o.headsNoWrap)?"headsNoWrap":"")+(yr(o.tailsNoWrap)&&mr(s)===mr(o.tailsNoWrap)?"tailsNoWrap":"")+'. If you wouldn\'t have set opts.noSingleMarkers to "true" this error would not happen and computer would have left the current element ('+mr(s)+") alone")}return yr(s)&&Or(s,o)?function u(f,p,y,g){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[];if(e.includes(y)){var t="";throw 1<e.length&&(t=e.reduce(function(e,t,r){return e+(0===r?"":" →\n")+(t===y?"💥 ":"  ")+t}," Here's the path we travelled up until we hit the recursion:\n\n"),t+=" →\n💥 "+y),new Error('json-variables/resolveString(): [THROW_ID_19] While trying to resolve: "'+p+'" at path "'+y+'", we encountered a closed loop, the key is referencing itself."'+t)}var d={},m=v(e);m.push(y);var b=new or;function r(e,t,r){for(var n=0,o=e.length;n<o;n++){var a=e[n],i=p.slice(a.headsEndAt,a.tailsStartAt);if(0===i.length)b.push(a.headsStartAt,a.tailsEndAt);else if(pr.call(d,i)&&yr(d[i]))b.push(a.headsStartAt,a.tailsEndAt,d[i]);else{var s=_r(f,i.trim(),y,g);if(void 0===s)throw new Error("json-variables/processHeadsAndTails(): [THROW_ID_18] We couldn't find the value to resolve the variable "+p.slice(a.headsEndAt,a.tailsStartAt)+". We're at path: \""+y+'".');if(!r&&g.throwWhenNonStringInsertedInString&&!yr(s))throw new Error("json-variables/processHeadsAndTails(): [THROW_ID_23] While resolving the variable "+p.slice(a.headsEndAt,a.tailsStartAt)+" at path "+y+", it resolved into a non-string value, "+JSON.stringify(s,null,4)+'. This is happening because options setting "throwWhenNonStringInsertedInString" is active (set to "true").');if(gr(s)){if(g.resolveToBoolIfAnyValuesContainBool)return b=void 0,!g.resolveToFalseIfAnyValuesContainBool&&s;s=""}else{if(dr(s)&&r)return b=void 0,s;s=fr(s)?String(s.join("")):dr(s)?"":String(s)}var c=y.includes(".")?vr(y)+"."+i:i;if(Or(s,g)){var l=jr(u(f,s,c,g,m),g,t,m,c,i.trim());yr(l)&&b.push(a.headsStartAt,a.tailsEndAt,l)}else{var h=jr(d[i]=s,g,t,m,c,i.trim());yr(h)&&b.push(a.headsStartAt,a.tailsEndAt,h)}}}}var n=void 0;try{n=Jt(p,g.heads,g.tails,{source:"",throwWhenSomethingWrongIsDetected:!1})}catch(e){throw new Error('json-variables/resolveString(): [THROW_ID_17] While trying to resolve string: "'+p+'" at path '+y+", something wrong with heads and tails was detected! Here's the internal error message:\n"+e)}var o=!1;1===n.length&&""===sr(p,[n[0].headsStartAt,n[0].tailsEndAt]).trim()&&(o=!0);var a=r(n,!1,o);if(gr(a))return a;if(dr(a))return a;try{n=Jt(p,g.headsNoWrap,g.tailsNoWrap,{source:"",throwWhenSomethingWrongIsDetected:!1})}catch(e){throw new Error('json-variables/resolveString(): [THROW_ID_22] While trying to resolve string: "'+p+'" at path '+y+", something wrong with no-wrap heads and no-wrap tails was detected! Here's the internal error message:\n"+e)}1===n.length&&""===sr(p,[n[0].headsStartAt,n[0].tailsEndAt]).trim()&&(o=!0);var i=r(n,!0,o);return gr(i)?i:dr(i)?i:b&&b.current()?sr(p,b.current()):p}(n,s,r.path,o):s})}});
