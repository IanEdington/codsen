!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.jsonVariables=t()}(this,function(){"use strict";var Ue="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(e,t){return e(t={exports:{}},t.exports),t.exports}var Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=e(function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,_="[object Arguments]",j="[object Boolean]",T="[object Date]",S="[object Function]",A="[object GeneratorFunction]",I="[object Map]",W="[object Number]",k="[object Object]",o="[object Promise]",E="[object RegExp]",N="[object Set]",H="[object String]",D="[object Symbol]",i="[object WeakMap]",R="[object ArrayBuffer]",C="[object DataView]",V="[object Float32Array]",x="[object Float64Array]",K="[object Int8Array]",M="[object Int16Array]",B="[object Int32Array]",J="[object Uint8Array]",P="[object Uint8ClampedArray]",L="[object Uint16Array]",q="[object Uint32Array]",Z=/\w*$/,a=/^\[object .+?Constructor\]$/,s=/^(?:0|[1-9]\d*)$/,F={};F[_]=F["[object Array]"]=F[R]=F[C]=F[j]=F[T]=F[V]=F[x]=F[K]=F[M]=F[B]=F[I]=F[W]=F[k]=F[E]=F[N]=F[H]=F[D]=F[J]=F[P]=F[L]=F[q]=!0,F["[object Error]"]=F[S]=F[i]=!1;var c="object"==Qe(Ue)&&Ue&&Ue.Object===Object&&Ue,l="object"==("undefined"==typeof self?"undefined":Qe(self))&&self&&self.Object===Object&&self,u=c||l||Function("return this")(),f=t&&!t.nodeType&&t,h=f&&e&&!e.nodeType&&e,y=h&&h.exports===f;function $(e,t){return e.set(t[0],t[1]),e}function z(e,t){return e.add(t),e}function G(e,t,r,n){var o=-1,i=e?e.length:0;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function U(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function Q(e){var r=-1,n=Array(e.size);return e.forEach(function(e,t){n[++r]=[t,e]}),n}function p(t,r){return function(e){return t(r(e))}}function X(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var g,d=Array.prototype,m=Function.prototype,b=Object.prototype,w=u["__core-js_shared__"],v=(g=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",O=m.toString,Y=b.hasOwnProperty,ee=b.toString,te=RegExp("^"+O.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=y?u.Buffer:void 0,ne=u.Symbol,oe=u.Uint8Array,ie=p(Object.getPrototypeOf,Object),ae=Object.create,se=b.propertyIsEnumerable,ce=d.splice,le=Object.getOwnPropertySymbols,ue=re?re.isBuffer:void 0,fe=p(Object.keys,Object),he=xe(u,"DataView"),ye=xe(u,"Map"),pe=xe(u,"Promise"),ge=xe(u,"Set"),de=xe(u,"WeakMap"),me=xe(Object,"create"),be=Pe(he),we=Pe(ye),ve=Pe(pe),Oe=Pe(ge),_e=Pe(de),je=ne?ne.prototype:void 0,Te=je?je.valueOf:void 0;function Se(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ae(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function We(e){this.__data__=new Ae(e)}function ke(e,t){var r,n,o,i=qe(e)||(o=n=r=e)&&"object"==(void 0===o?"undefined":Qe(o))&&Ze(n)&&Y.call(r,"callee")&&(!se.call(r,"callee")||ee.call(r)==_)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],a=i.length,s=!!a;for(var c in e)!t&&!Y.call(e,c)||s&&("length"==c||Be(c,a))||i.push(c);return i}function Ee(e,t,r){var n=e[t];Y.call(e,t)&&Le(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Ne(e,t){for(var r=e.length;r--;)if(Le(e[r][0],t))return r;return-1}function He(r,n,o,i,e,t,a){var s;if(i&&(s=t?i(r,e,t,a):i(r)),void 0!==s)return s;if(!ze(r))return r;var c,l,u,f,h,y,p=qe(r);if(p){if(s=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&Y.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(r),!n)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(r,s)}else{var g=Me(r),d=g==S||g==A;if(Fe(r))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(r,n);if(g==k||g==_||d&&!t){if(U(r))return t?r:{};if(s="function"!=typeof(h=d?{}:r).constructor||Je(h)?{}:ze(y=ie(h))?ae(y):{},!n)return f=c=r,l=(u=s)&&Ce(f,Ge(f),u),Ce(c,Ke(c),l)}else{if(!F[g])return t?r:{};s=function(e,t,r,n){var o=e.constructor;switch(t){case R:return Re(e);case j:case T:return new o(+e);case C:return p=e,g=n?Re(p.buffer):p.buffer,new p.constructor(g,p.byteOffset,p.byteLength);case V:case x:case K:case M:case B:case J:case P:case L:case q:return h=e,y=n?Re(h.buffer):h.buffer,new h.constructor(y,h.byteOffset,h.length);case I:return u=e,f=r,G(n?f(Q(u),!0):Q(u),$,new u.constructor);case W:case H:return new o(e);case E:return(l=new(c=e).constructor(c.source,Z.exec(c))).lastIndex=c.lastIndex,l;case N:return a=e,s=r,G(n?s(X(a),!0):X(a),z,new a.constructor);case D:return i=e,Te?Object(Te.call(i)):{}}var i;var a,s;var c,l;var u,f;var h,y;var p,g}(r,g,He,n)}}a||(a=new We);var m,b,w,v=a.get(r);if(v)return v;if(a.set(r,s),!p)var O=o?(b=Ke,w=Ge(m=r),qe(m)?w:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(w,b(m))):Ge(r);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(O||r,function(e,t){O&&(e=r[t=e]),Ee(s,t,He(e,n,o,i,t,r,a))}),s}function De(e){return!(!ze(e)||(t=e,v&&v in t))&&($e(e)||U(e)?te:a).test(Pe(e));var t}function Re(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function Ce(e,t,r,n){r||(r={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=n?n(r[a],e[a],a,r,e):void 0;Ee(r,a,void 0===s?e[a]:s)}return r}function Ve(e,t){var r,n,o=e.__data__;return("string"==(n=void 0===(r=t)?"undefined":Qe(r))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function xe(e,t){var r,n,o=(n=t,null==(r=e)?void 0:r[n]);return De(o)?o:void 0}Se.prototype.clear=function(){this.__data__=me?me(null):{}},Se.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Se.prototype.get=function(e){var t=this.__data__;if(me){var r=t[e];return r===n?void 0:r}return Y.call(t,e)?t[e]:void 0},Se.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:Y.call(t,e)},Se.prototype.set=function(e,t){return this.__data__[e]=me&&void 0===t?n:t,this},Ae.prototype.clear=function(){this.__data__=[]},Ae.prototype.delete=function(e){var t=this.__data__,r=Ne(t,e);return!(r<0||(r==t.length-1?t.pop():ce.call(t,r,1),0))},Ae.prototype.get=function(e){var t=this.__data__,r=Ne(t,e);return r<0?void 0:t[r][1]},Ae.prototype.has=function(e){return-1<Ne(this.__data__,e)},Ae.prototype.set=function(e,t){var r=this.__data__,n=Ne(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ie.prototype.clear=function(){this.__data__={hash:new Se,map:new(ye||Ae),string:new Se}},Ie.prototype.delete=function(e){return Ve(this,e).delete(e)},Ie.prototype.get=function(e){return Ve(this,e).get(e)},Ie.prototype.has=function(e){return Ve(this,e).has(e)},Ie.prototype.set=function(e,t){return Ve(this,e).set(e,t),this},We.prototype.clear=function(){this.__data__=new Ae},We.prototype.delete=function(e){return this.__data__.delete(e)},We.prototype.get=function(e){return this.__data__.get(e)},We.prototype.has=function(e){return this.__data__.has(e)},We.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ae){var n=r.__data__;if(!ye||n.length<199)return n.push([e,t]),this;r=this.__data__=new Ie(n)}return r.set(e,t),this};var Ke=le?p(le,Object):function(){return[]},Me=function(e){return ee.call(e)};function Be(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||s.test(e))&&-1<e&&e%1==0&&e<t}function Je(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||b)}function Pe(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Le(e,t){return e===t||e!=e&&t!=t}(he&&Me(new he(new ArrayBuffer(1)))!=C||ye&&Me(new ye)!=I||pe&&Me(pe.resolve())!=o||ge&&Me(new ge)!=N||de&&Me(new de)!=i)&&(Me=function(e){var t=ee.call(e),r=t==k?e.constructor:void 0,n=r?Pe(r):void 0;if(n)switch(n){case be:return C;case we:return I;case ve:return o;case Oe:return N;case _e:return i}return t});var qe=Array.isArray;function Ze(e){return null!=e&&("number"==typeof(t=e.length)&&-1<t&&t%1==0&&t<=r)&&!$e(e);var t}var Fe=ue||function(){return!1};function $e(e){var t=ze(e)?ee.call(e):"";return t==S||t==A}function ze(e){var t=void 0===e?"undefined":Qe(e);return!!e&&("object"==t||"function"==t)}function Ge(e){return Ze(e)?ke(e):function(e){if(!Je(e))return fe(e);var t=[];for(var r in Object(e))Y.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return He(e,!0,!0)}}),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var t,r,n=Function.prototype,i=Object.prototype,a=n.toString,s=i.hasOwnProperty,c=a.call(Object),l=i.toString,u=(t=Object.getPrototypeOf,r=Object,function(e){return t(r(e))});var _=function(e){if(!(t=e)||"object"!=(void 0===t?"undefined":o(t))||"[object Object]"!=l.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t,r=u(e);if(null===r)return!0;var n=s.call(r,"constructor")&&r.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==c},h=Array.isArray;function y(e){return"string"==typeof e&&0<e.length&&"."===e[0]?e.slice(1):e}function f(e,t){return function e(t,r,n){var o=w(t),i=void 0,a=void 0,s=void 0,c=void 0,l=void 0;if((n=Object.assign({depth:-1,path:""},n)).depth+=1,h(o))for(i=0,a=o.length;i<a;i++){var u=n.path+"."+i;void 0!==o[i]?(n.parent=w(o),s=e(r(o[i],void 0,Object.assign({},n,{path:y(u)})),r,Object.assign({},n,{path:y(u)})),Number.isNaN(s)&&i<o.length?(o.splice(i,1),i-=1):o[i]=s):o.splice(i,1)}else if(_(o))for(i=0,a=(c=Object.keys(o)).length;i<a;i++){l=c[i];var f=n.path+"."+l;0===n.depth&&null!=l&&(n.topmostKey=l),n.parent=w(o),s=e(r(l,o[l],Object.assign({},n,{path:y(f)})),r,Object.assign({},n,{path:y(f)})),Number.isNaN(s)?delete o[l]:o[l]=s}return o}(e,t,{})}var p=/[|\\{}()[\]^$+*?.]/g,b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=new Map;function v(e,t){var r=Object.assign({caseSensitive:!1},t),n=e+JSON.stringify(r);if(g.has(n))return g.get(n);var o="!"===e[0];o&&(e=e.slice(1)),e=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(p,"\\$&")}(e).replace(/\\\*/g,".*");var i=new RegExp("^"+e+"$",r.caseSensitive?"":"i");return i.negated=o,g.set(n,i),i}var d=function(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Expected two arrays, got "+(void 0===e?"undefined":b(e))+" "+(void 0===t?"undefined":b(t)));if(0===t.length)return e;var n="!"===t[0][0];t=t.map(function(e){return v(e,r)});var o=[],i=!0,a=!1,s=void 0;try{for(var c,l=e[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value,f=n,h=!0,y=!1,p=void 0;try{for(var g,d=t[Symbol.iterator]();!(h=(g=d.next()).done);h=!0){var m=g.value;m.test(u)&&(f=!m.negated)}}catch(e){y=!0,p=e}finally{try{!h&&d.return&&d.return()}finally{if(y)throw p}}f&&o.push(u)}}catch(e){a=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw s}}return o};d.isMatch=function(e,t,r){var n=v(t,r),o=n.test(e);return n.negated?!o:o};var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=e(function(e){e.exports=function(){var t=Object.prototype.toString;function i(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(!e)return!0;if(h(e)&&0===e.length)return!0;if("string"!=typeof e){for(var t in e)if(i(e,t))return!1;return!0}return!1}function f(e){return t.call(e)}var h=Array.isArray||function(e){return"[object Array]"===t.call(e)};function y(e){var t=parseInt(e);return t.toString()===e?t:e}function e(o){o=o||{};var a=function r(n){return Object.keys(r).reduce(function(e,t){return"create"===t||"function"==typeof r[t]&&(e[t]=r[t].bind(r,n)),e},{})};function s(e,t){return o.includeInheritedProps||"number"==typeof t&&Array.isArray(e)||i(e,t)}function c(e,t){if(s(e,t))return e[t]}function l(e,t,r,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return l(e,t.split(".").map(y),r,n);var o=t[0],i=c(e,o);return 1===t.length?(void 0!==i&&n||(e[o]=r),i):(void 0===i&&("number"==typeof t[1]?e[o]=[]:e[o]={}),l(e[o],t.slice(1),r,n))}return a.has=function(e,t){if("number"==typeof t?t=[t]:"string"==typeof t&&(t=t.split(".")),!t||0===t.length)return!!e;for(var r=0;r<t.length;r++){var n=y(t[r]);if(!("number"==typeof n&&h(e)&&n<e.length||(o.includeInheritedProps?n in Object(e):i(e,n))))return!1;e=e[n]}return!0},a.ensureExists=function(e,t,r){return l(e,t,r,!0)},a.set=function(e,t,r,n){return l(e,t,r,n)},a.insert=function(e,t,r,n){var o=a.get(e,t);n=~~n,h(o)||a.set(e,t,o=[]),o.splice(n,0,r)},a.empty=function(e,t){var r,n;if(!u(t)&&null!=e&&(r=a.get(e,t))){if("string"==typeof r)return a.set(e,t,"");if("boolean"==typeof(i=r)||"[object Boolean]"===f(i))return a.set(e,t,!1);if("number"==typeof r)return a.set(e,t,0);if(h(r))r.length=0;else{if("object"!==(void 0===(o=r)?"undefined":m(o))||"[object Object]"!==f(o))return a.set(e,t,null);for(n in r)s(r,n)&&delete r[n]}var o,i}},a.push=function(e,t){var r=a.get(e,t);h(r)||a.set(e,t,r=[]),r.push.apply(r,Array.prototype.slice.call(arguments,2))},a.coalesce=function(e,t,r){for(var n,o=0,i=t.length;o<i;o++)if(void 0!==(n=a.get(e,t[o])))return n;return r},a.get=function(e,t,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return r;if("string"==typeof t)return a.get(e,t.split("."),r);var n=y(t[0]),o=c(e,n);return void 0===o?r:1===t.length?o:a.get(e[n],t.slice(1),r)},a.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(u(t))return e;if("string"==typeof t)return a.del(e,t.split("."));var r=y(t[0]);return s(e,r)?1!==t.length?a.del(e[r],t.slice(1)):(h(e)?e.splice(r,1):delete e[r],e):e},a}var r=e();return r.create=e,r.withInheritedProps=e({includeInheritedProps:!0}),r}()}),j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H=e(function(e,t){var o,i,r,a,s,c,l,u,n,f,h,y,p,g,d,m,b,w;e.exports=(o="function"==typeof Promise,i="object"===("undefined"==typeof self?"undefined":j(self))?self:Ue,r="undefined"!=typeof Symbol,a="undefined"!=typeof Map,s="undefined"!=typeof Set,c="undefined"!=typeof WeakMap,l="undefined"!=typeof WeakSet,u="undefined"!=typeof DataView,n=r&&void 0!==Symbol.iterator,f=r&&void 0!==Symbol.toStringTag,h=s&&"function"==typeof Set.prototype.entries,y=a&&"function"==typeof Map.prototype.entries,p=h&&Object.getPrototypeOf((new Set).entries()),g=y&&Object.getPrototypeOf((new Map).entries()),d=n&&"function"==typeof Array.prototype[Symbol.iterator],m=d&&Object.getPrototypeOf([][Symbol.iterator]()),b=n&&"function"==typeof String.prototype[Symbol.iterator],w=b&&Object.getPrototypeOf(""[Symbol.iterator]()),function(e){var t=void 0===e?"undefined":j(e);if("object"!==t)return t;if(null===e)return"null";if(e===i)return"global";if(Array.isArray(e)&&(!1===f||!(Symbol.toStringTag in e)))return"Array";if("object"===("undefined"==typeof window?"undefined":j(window))&&null!==window){if("object"===j(window.location)&&e===window.location)return"Location";if("object"===j(window.document)&&e===window.document)return"Document";if("object"===j(window.navigator)){if("object"===j(window.navigator.mimeTypes)&&e===window.navigator.mimeTypes)return"MimeTypeArray";if("object"===j(window.navigator.plugins)&&e===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"===j(window.HTMLElement))&&e instanceof window.HTMLElement){if("BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if("TD"===e.tagName)return"HTMLTableDataCellElement";if("TH"===e.tagName)return"HTMLTableHeaderCellElement"}}var r=f&&e[Symbol.toStringTag];if("string"==typeof r)return r;var n=Object.getPrototypeOf(e);return n===RegExp.prototype?"RegExp":n===Date.prototype?"Date":o&&n===Promise.prototype?"Promise":s&&n===Set.prototype?"Set":a&&n===Map.prototype?"Map":l&&n===WeakSet.prototype?"WeakSet":c&&n===WeakMap.prototype?"WeakMap":u&&n===DataView.prototype?"DataView":a&&n===g?"Map Iterator":s&&n===p?"Set Iterator":d&&n===m?"Array Iterator":b&&n===w?"String Iterator":null===n?"Object":Object.prototype.toString.call(e).slice(8,-1)})});function T(e,t,r){if(t!=t)return function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,A,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}function S(e,t,r,n){for(var o=r-1,i=e.length;++o<i;)if(n(e[o],t))return o;return-1}function A(e){return e!=e}var I=Array.prototype.splice;function W(e,t,r,n){var o,i=n?S:T,a=-1,s=t.length,c=e;for(e===t&&(t=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(t)),r&&(c=function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(e,(o=r,function(e){return o(e)})));++a<s;)for(var l=0,u=t[a],f=r?r(u):u;-1<(l=i(c,f,l,n));)c!==e&&I.call(c,l,1),I.call(e,l,1);return e}var D=function(e,t){return e&&e.length&&t&&t.length?W(e,t):e},k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E="__lodash_hash_undefined__",N=9007199254740991,R="[object Function]",C="[object GeneratorFunction]",V=/^\[object .+?Constructor\]$/,x="object"==k(Ue)&&Ue&&Ue.Object===Object&&Ue,K="object"==("undefined"==typeof self?"undefined":k(self))&&self&&self.Object===Object&&self,M=x||K||Function("return this")();function B(e,t){return!!(e?e.length:0)&&-1<function(e,t,r){if(t!=t)return function(e,t,r,n){var o=e.length,i=r+(n?1:-1);for(;n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,L,r);var n=r-1,o=e.length;for(;++n<o;)if(e[n]===t)return n;return-1}(e,t,0)}function J(e,t,r){for(var n=-1,o=e?e.length:0;++n<o;)if(r(t,e[n]))return!0;return!1}function P(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function L(e){return e!=e}function q(t){return function(e){return t(e)}}function Z(e,t){return e.has(t)}var F,$,z,G=Array.prototype,U=Function.prototype,Q=Object.prototype,X=M["__core-js_shared__"],Y=(F=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",ee=U.toString,te=Q.hasOwnProperty,re=Q.toString,ne=RegExp("^"+ee.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=G.splice,ie=Math.max,ae=Math.min,se=me(M,"Map"),ce=me(Object,"create");function le(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ue(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function fe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function he(e){var t=-1,r=e?e.length:0;for(this.__data__=new fe;++t<r;)this.add(e[t])}function ye(e,t){for(var r,n,o=e.length;o--;)if((r=e[o][0])===(n=t)||r!=r&&n!=n)return o;return-1}function pe(e){return!(!we(e)||(t=e,Y&&Y in t))&&(be(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?ne:V).test(function(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function ge(e){return(o=t=e)&&"object"==(void 0===o?"undefined":k(o))&&(null!=(r=t)&&("number"==typeof(n=r.length)&&-1<n&&n%1==0&&n<=N)&&!be(r))?e:[];var t,r,n,o}function de(e,t){var r,n,o=e.__data__;return("string"==(n=void 0===(r=t)?"undefined":k(r))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function me(e,t){var r,n,o=(n=t,null==(r=e)?void 0:r[n]);return pe(o)?o:void 0}function be(e){var t=we(e)?re.call(e):"";return t==R||t==C}function we(e){var t=void 0===e?"undefined":k(e);return!!e&&("object"==t||"function"==t)}le.prototype.clear=function(){this.__data__=ce?ce(null):{}},le.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},le.prototype.get=function(e){var t=this.__data__;if(ce){var r=t[e];return r===E?void 0:r}return te.call(t,e)?t[e]:void 0},le.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:te.call(t,e)},le.prototype.set=function(e,t){return this.__data__[e]=ce&&void 0===t?E:t,this},ue.prototype.clear=function(){this.__data__=[]},ue.prototype.delete=function(e){var t=this.__data__,r=ye(t,e);return!(r<0||(r==t.length-1?t.pop():oe.call(t,r,1),0))},ue.prototype.get=function(e){var t=this.__data__,r=ye(t,e);return r<0?void 0:t[r][1]},ue.prototype.has=function(e){return-1<ye(this.__data__,e)},ue.prototype.set=function(e,t){var r=this.__data__,n=ye(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},fe.prototype.clear=function(){this.__data__={hash:new le,map:new(se||ue),string:new le}},fe.prototype.delete=function(e){return de(this,e).delete(e)},fe.prototype.get=function(e){return de(this,e).get(e)},fe.prototype.has=function(e){return de(this,e).has(e)},fe.prototype.set=function(e,t){return de(this,e).set(e,t),this},he.prototype.add=he.prototype.push=function(e){return this.__data__.set(e,E),this},he.prototype.has=function(e){return this.__data__.has(e)};var ve=($=function(e){var t=P(e,ge);return t.length&&t[0]===e[0]?function(e,t,r){for(var n=r?J:B,o=e[0].length,i=e.length,a=i,s=Array(i),c=1/0,l=[];a--;){var u=e[a];a&&t&&(u=P(u,q(t))),c=ae(u.length,c),s[a]=!r&&(t||120<=o&&120<=u.length)?new he(a&&u):void 0}u=e[0];var f=-1,h=s[0];e:for(;++f<o&&l.length<c;){var y=u[f],p=t?t(y):y;if(y=r||0!==y?y:0,!(h?Z(h,p):n(l,p,r))){for(a=i;--a;){var g=s[a];if(!(g?Z(g,p):n(e[a],p,r)))continue e}h&&h.push(p),l.push(y)}}return l}(t):[]},z=ie(void 0===z?$.length-1:z,0),function(){for(var e=arguments,t=-1,r=ie(e.length-z,0),n=Array(r);++t<r;)n[t]=e[z+t];t=-1;for(var o=Array(z+1);++t<z;)o[t]=e[t];return o[z]=n,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}($,this,o)});function Oe(e){return"string"==typeof e?0<e.length?[e]:[]:e}var _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je=function(e,t){if(t){if("object"!==(void 0===t?"undefined":_e(t)))throw new TypeError(String(t)+" is not an object. Expected an object that has boolean `includeZero` property.");if("includeZero"in t){if("boolean"!=typeof t.includeZero)throw new TypeError(String(t.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(t.includeZero&&0===e)return!0}}return Number.isSafeInteger(e)&&1<=e},Te=function(e,t){if("string"!=typeof e)return!1;if(t&&"includeZero"in t){if("boolean"!=typeof t.includeZero)throw new TypeError(String(t.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(t.includeZero)return/^(-?0|[1-9]\d*)(\.0+)?$/.test(e)}return/^[1-9]\d*(\.0+)?$/.test(e)},Se=e(function(e,t){(t=e.exports=function(e){return e+t.suffix(+e)}).suffix=function(e){return 1===Math.floor(e/10)?"th":e%10==1?"st":e%10==2?"nd":e%10==3?"rd":"th"}});Se.suffix;var Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Ie,We,ke=Function.prototype,Ee=Object.prototype,Ne=ke.toString,He=Ee.hasOwnProperty,De=Ne.call(Object),Re=Ee.toString,Ce=(Ie=Object.getPrototypeOf,We=Object,function(e){return Ie(We(e))});var Ve=function(e){if(!(t=e)||"object"!=(void 0===t?"undefined":Ae(t))||"[object Object]"!=Re.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t,r=Ce(e);if(null===r)return!0;var n=He.call(r,"constructor")&&r.constructor;return"function"==typeof n&&n instanceof n&&Ne.call(n)==De},xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Ke(e){if("string"==typeof e)return 0!==e.length&&(55296<=e.charCodeAt(0)&&e.charCodeAt(0)<=56319);if(void 0===e)return!1;throw new TypeError("string-character-is-astral-surrogate/isHighSurrogate(): the input is not string but "+(void 0===e?"undefined":xe(e)))}function Me(e){if("string"==typeof e)return 0!==e.length&&(56320<=e.charCodeAt(0)&&e.charCodeAt(0)<=57343);if(void 0===e)return!1;throw new TypeError("string-character-is-astral-surrogate/isLowSurrogate(): the input is not string but "+(void 0===e?"undefined":xe(e)))}var Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je=Array.isArray;function Pe(e){return null!=e}function Le(e){return"string"==typeof e}function qe(e){return"string"==typeof e&&(55296<=e.charCodeAt(0)&&e.charCodeAt(0)<=57343)}function Ze(e,t,r,n){if(!(t<=e.length)){if(n.strictApi)throw new Error("string-match-left-right/marchForward(): [THROW_ID_102] second argument, fromIndexInclusive is "+t+" beyond the input string length, "+e.length+".");return!1}for(var o=r.length,i=t,a=e.length;i<a;i++){var s=e[i];if(Ke(e[i])&&Me(e[i+1])&&(s=e[i]+e[i+1]),Me(e[i])&&Ke(e[i-1])&&(s=e[i-1]+e[i]),!n.trimBeforeMatching||""!==e[i].trim())if(!n.i&&n.trimCharsBeforeMatching.includes(s)||n.i&&n.trimCharsBeforeMatching.map(function(e){return e.toLowerCase()}).includes(s.toLowerCase()))2===s.length&&(i+=1);else{var c=r[r.length-o];if(Ke(c)&&Pe(r[r.length-o+1])&&Me(r[r.length-o+1])&&(c=r[r.length-o]+r[r.length-o+1]),!(!n.i&&s===c||n.i&&s.toLowerCase()===c.toLowerCase()))return!1;if((o-=s.length)<1){var l=i-r.length+s.length;return 0<=l&&Me(e[l])&&Pe(e[l-1])&&Ke(e[l-1])&&(l-=1),0<=l?l:0}2===s.length&&Ke(e[i])&&(i+=1)}}if(0<o)return!1}function Fe(e,t,r,n){if(t>=e.length){if(n.strictApi)throw new Error("string-match-left-right/marchBackward(): [THROW_ID_203] second argument, starting index, should not be beyond the last character of the input string! Currently the first argument's last character's index is "+e.length+" but the second argument is beyond it:\n"+JSON.stringify(t,null,4));return!1}for(var o=r.length,i=t+1;i--;)if(!n.trimBeforeMatching||""!==e[i].trim()){var a=e[i];if(Me(e[i])&&Ke(e[i-1])?a=e[i-1]+e[i]:Ke(e[i])&&Me(e[i+1])&&(a=e[i]+e[i+1]),!n.i&&n.trimCharsBeforeMatching.includes(a)||n.i&&n.trimCharsBeforeMatching.map(function(e){return e.toLowerCase()}).includes(a.toLowerCase()))2===a.length&&(i-=1);else{var s=r[o-1];if(Me(s)&&(s=""+r[o-2]+r[o-1],o-=1,i-=1),!(!n.i&&a===s||n.i&&a.toLowerCase()===s.toLowerCase()))return!1;if((o-=1)<1)return 0<=i?i:0}}if(0<o)return!1}function $e(e,t,r,n,o){var i={i:!1,trimBeforeMatching:!1,trimCharsBeforeMatching:[],strictApi:!0,relaxedApi:!1},a=Object.assign({},i,o);a.trimCharsBeforeMatching=Oe(a.trimCharsBeforeMatching),function(n,e,t){function o(e){return null!=e}function r(e){return"boolean"===H(e)}function i(e){return"string"===H(e)}function a(e){return"Object"===H(e)}var s=["any","anything","every","everything","all","whatever","whatevs"],c=Array.isArray;if(0===arguments.length)throw new Error("check-types-mini: [THROW_ID_01] Missing all arguments!");if(1===arguments.length)throw new Error("check-types-mini: [THROW_ID_02] Missing second argument!");var l=a(e)?e:{},u={ignoreKeys:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},f=void 0;if(!i((f=o(t)&&a(t)?Object.assign({},u,t):Object.assign({},u)).msg))throw new Error("check-types-mini: [THROW_ID_03] opts.msg must be string! Currently it's: "+H(f.msg)+", equal to "+JSON.stringify(f.msg,null,4));if(f.msg=f.msg.trim(),":"===f.msg[f.msg.length-1]&&(f.msg=f.msg.slice(0,f.msg.length-1)),!i(f.optsVarName))throw new Error("check-types-mini: [THROW_ID_04] opts.optsVarName must be string! Currently it's: "+H(f.optsVarName)+", equal to "+JSON.stringify(f.optsVarName,null,4));if(f.ignoreKeys=Oe(f.ignoreKeys),f.acceptArraysIgnore=Oe(f.acceptArraysIgnore),!c(f.ignoreKeys))throw new TypeError("check-types-mini: [THROW_ID_05] opts.ignoreKeys should be an array, currently it's: "+H(f.ignoreKeys));if(!r(f.acceptArrays))throw new TypeError("check-types-mini: [THROW_ID_06] opts.acceptArrays should be a Boolean, currently it's: "+H(f.acceptArrays));if(!c(f.acceptArraysIgnore))throw new TypeError("check-types-mini: [THROW_ID_07] opts.acceptArraysIgnore should be an array, currently it's: "+H(f.acceptArraysIgnore));if(!r(f.enforceStrictKeyset))throw new TypeError("check-types-mini: [THROW_ID_08] opts.enforceStrictKeyset should be a Boolean, currently it's: "+H(f.enforceStrictKeyset));if(Object.keys(f.schema).forEach(function(e){c(f.schema[e])||(f.schema[e]=[f.schema[e]]),f.schema[e]=f.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),f.enforceStrictKeyset)if(o(f.schema)&&0<Object.keys(f.schema).length){if(0!==D(Object.keys(n),Object.keys(l).concat(Object.keys(f.schema))).length)throw new TypeError(f.msg+": "+f.optsVarName+".enforceStrictKeyset is on and the following keys are not covered by schema and/or reference objects: "+JSON.stringify(D(Object.keys(n),Object.keys(l).concat(Object.keys(f.schema))),null,4))}else{if(!(o(l)&&0<Object.keys(l).length))throw new TypeError(f.msg+": Both "+f.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==D(Object.keys(n),Object.keys(l)).length)throw new TypeError(f.msg+": The input object has keys that are not covered by reference object: "+JSON.stringify(D(Object.keys(n),Object.keys(l)),null,4));if(0!==D(Object.keys(l),Object.keys(n)).length)throw new TypeError(f.msg+": The reference object has keys that are not present in the input object: "+JSON.stringify(D(Object.keys(l),Object.keys(n)),null,4))}Object.keys(n).forEach(function(t){if(o(f.schema)&&Object.prototype.hasOwnProperty.call(f.schema,t)){if(f.schema[t]=Oe(f.schema[t]).map(String).map(function(e){return e.toLowerCase()}),!(ve(f.schema[t],s).length||(!0===n[t]||!1===n[t]||f.schema[t].includes(H(n[t]).toLowerCase()))&&(!0!==n[t]&&!1!==n[t]||f.schema[t].includes(String(n[t]))||f.schema[t].includes("boolean")))){if(!c(n[t])||!f.acceptArrays)throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to "+JSON.stringify(n[t],null,4)+" which is not among the allowed types in schema ("+f.schema[t]+") but "+H(n[t]));for(var e=0,r=n[t].length;e<r;e++)if(!f.schema[t].includes(H(n[t][e]).toLowerCase()))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" is of type "+H(n[t][e]).toLowerCase()+", but only the following are allowed in "+f.optsVarName+".schema: "+f.schema[t])}}else if(o(l)&&Object.prototype.hasOwnProperty.call(l,t)&&H(n[t])!==H(l[t])&&!f.ignoreKeys.includes(t)){if(!f.acceptArrays||!c(n[t])||f.acceptArraysIgnore.includes(t))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to "+JSON.stringify(n[t],null,4)+" which is not "+H(l[t])+" but "+H(n[t]));if(!n[t].every(function(e){return H(e)===H(l[t])}))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to be array, but not all of its elements are "+H(l[t])+"-type")}})}(a,i,{msg:"string-match-left-right: [THROW_ID_07*]",schema:{cb:["null","undefined","function"]}}),a.trimCharsBeforeMatching=a.trimCharsBeforeMatching.map(function(e){return Le(e)?e:String(e)});var s=void 0,c=void 0;if(a.trimCharsBeforeMatching.some(function(e,t){return 1<e.length&&!qe(e)&&(s=t,c=e,!0)}))throw new Error("string-match-left-right/"+e+"(): [THROW_ID_07] the fourth argument, options object contains trimCharsBeforeMatching. It was meant to list the single characters but one of the entries at index "+s+" is longer than 1 character, "+c.length+" (equals to "+c+"). Please split it into separate characters and put into array as separate elements.");if(!Le(t)){if(a.relaxedApi)return!1;throw new Error("string-match-left-right/"+e+"(): [THROW_ID_01] the first argument should be a string. Currently it's of a type: "+(void 0===t?"undefined":Be(t))+", equal to:\n"+JSON.stringify(t,null,4))}if(0===t.length){if(a.relaxedApi)return!1;throw new Error("string-match-left-right/"+e+"(): [THROW_ID_02] the first argument should be a non-empty string. Currently it's empty!")}if(!je(r,{includeZero:!0})){if(a.relaxedApi)return!1;throw new Error("string-match-left-right/"+e+"(): [THROW_ID_03] the second argument should be a natural number. Currently it's of a type: "+(void 0===r?"undefined":Be(r))+", equal to:\n"+JSON.stringify(r,null,4))}var l=void 0;if(Le(n))l=[n];else if(Je(n))l=n;else{if(Pe(n))throw new Error("string-match-left-right/"+e+"(): [THROW_ID_05] the third argument, whatToMatch, is neither string nor array of strings! It's "+(void 0===n?"undefined":Be(n))+", equal to:\n"+JSON.stringify(n,null,4));l=[""]}if(Pe(o)&&!Ve(o))throw new Error("string-match-left-right/"+e+"(): [THROW_ID_06] the fourth argument, options object, should be a plain object. Currently it's of a type \""+(void 0===o?"undefined":Be(o))+'", and equal to:\n'+JSON.stringify(o,null,4));if(!Pe(l)||Je(l)&&Pe(l[0])&&0===l[0].length){if(a.cb){var u=void 0,f=r;if("matchRight"===e&&Ke(t[r])&&Me(t[r+1])&&(f+=1),"matchLeftIncl"!==e&&"matchRight"!==e||(f+=1),e.startsWith("matchLeft")){for(var h=f;h--;)if(!Me(t[h])||!Ke(t[h-1])){var y=t[h];if(Ke(t[h])&&Me(t[h+1])&&(y=t[h]+t[h+1]),(!a.trimBeforeMatching||a.trimBeforeMatching&&void 0!==y&&""!==y.trim())&&(0===a.trimCharsBeforeMatching.length||void 0!==y&&!a.trimCharsBeforeMatching.includes(y))){u=h;break}Me(t[h-1])&&Ke(t[h-2])&&(h-=1)}}else if(e.startsWith("matchRight"))for(var p=f;p<t.length;p++){var g=t[p];if(Ke(t[p])&&Me(t[p+1])&&(g=t[p]+t[p+1]),(!a.trimBeforeMatching||a.trimBeforeMatching&&""!==g.trim())&&(0===a.trimCharsBeforeMatching.length||!a.trimCharsBeforeMatching.includes(g))){u=p;break}Ke(t[p])&&Me(t[p+1])&&(p+=1)}if(void 0===u)return!1;var d=t[u];Ke(t[u])&&Me(t[u+1])&&(d=t[u]+t[u+1]),Me(t[u])&&Ke(t[u-1])&&(d=t[u-1]+t[u],u-=1);var m=u+1;return Ke(t[u])&&Me(t[u+1])&&(m+=1),e.startsWith("matchLeft")?a.cb(d,t.slice(0,m),u):a.cb(d,t.slice(u),u)}var b="";throw Pe(o)||(b=" More so, the whole options object, the fourth input argument, is missing!"),new Error("string-match-left-right/"+e+'(): [THROW_ID_08] the third argument, "whatToMatch", was given as an empty string. This means, you intend to match purely by a callback. The callback was not set though, the opts key "cb" is not set!'+b)}if(e.startsWith("matchLeft")){for(var w=0,v=l.length;w<v;w++){var O=r;"matchLeft"===e&&(qe(t[w-1])&&qe(t[w-2])?O-=2:O-=1);var _=Fe(t,O,l[w],a),j=void 0,T=void 0,S="";if(Pe(_)&&0<_&&(T=t[j=_-1],S=t.slice(0,_)),Me(t[j])&&Pe(t[j-1])&&Ke(t[j-1])&&(T=t[(j-=1)-1]+t[j]),Ke(t[j])&&Pe(t[j+1])&&Me(t[j+1])&&(T=t[j]+t[j+1],S=t.slice(0,j+2)),j<0&&(j=void 0),!1!==_&&(!a.cb||a.cb(T,S,j)))return l[w]}return!1}for(var A=0,I=l.length;A<I;A++){var W=r+("matchRight"===e?1:0);"matchRight"===e&&Ke(t[W-1])&&Me(t[W])&&(W+=1);var k=Ze(t,W,l[A],a),E=void 0,N=void 0;if(Pe(k)&&Pe(t[k+l[A].length])&&(N=t[E=k+l[A].length],Ke(t[E])&&Me(t[E+1])&&(N=t[E]+t[E+1])),!1!==k&&(!a.cb||a.cb(N,Pe(E)?t.slice(E):"",E)))return l[A]}return!1}function ze(e,t,r,n){return $e("matchLeftIncl",e,t,r,n)}function Ge(e,t,r,n){return $e("matchRightIncl",e,t,r,n)}var Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye=1/0,et=9007199254740991,tt=17976931348623157e292,rt=NaN,nt="[object Arguments]",ot="[object Function]",it="[object GeneratorFunction]",at="[object String]",st="[object Symbol]",ct=/^\s+|\s+$/g,lt=/^[-+]0x[0-9a-f]+$/i,ut=/^0b[01]+$/i,ft=/^0o[0-7]+$/i,ht=/^(?:0|[1-9]\d*)$/,yt=parseInt;function pt(e){return e!=e}function gt(t,e){return function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(e,function(e){return t[e]})}var dt,mt,bt=Object.prototype,wt=bt.hasOwnProperty,vt=bt.toString,Ot=bt.propertyIsEnumerable,_t=(dt=Object.keys,mt=Object,function(e){return dt(mt(e))}),jt=Math.max;function Tt(e,t){var r,n,o=It(e)||Et(n=r=e)&&Wt(n)&&wt.call(r,"callee")&&(!Ot.call(r,"callee")||vt.call(r)==nt)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=o.length,a=!!i;for(var s in e)!t&&!wt.call(e,s)||a&&("length"==s||At(s,i))||o.push(s);return o}function St(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||bt,t!==n)return _t(e);var t,r,n,o=[];for(var i in Object(e))wt.call(e,i)&&"constructor"!=i&&o.push(i);return o}function At(e,t){return!!(t=null==t?et:t)&&("number"==typeof e||ht.test(e))&&-1<e&&e%1==0&&e<t}var It=Array.isArray;function Wt(e){return null!=e&&("number"==typeof(n=e.length)&&-1<n&&n%1==0&&n<=et)&&!((r=kt(t=e)?vt.call(t):"")==ot||r==it);var t,r,n}function kt(e){var t=void 0===e?"undefined":Xe(e);return!!e&&("object"==t||"function"==t)}function Et(e){return!!e&&"object"==(void 0===e?"undefined":Xe(e))}var Nt=function(e,t,r,n){var o,i,a,s;e=Wt(e)?e:(o=e)?gt(o,Wt(i=o)?Tt(i):St(i)):[],r=r&&!n?(a=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if("symbol"==(void 0===(t=e)?"undefined":Xe(t))||Et(t)&&vt.call(t)==st)return rt;var t;if(kt(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=kt(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ct,"");var n=ut.test(e);return n||ft.test(e)?yt(e.slice(2),n?2:8):lt.test(e)?rt:+e}(e))===Ye||e===-Ye){var t=e<0?-1:1;return t*tt}return e==e?e:0}(r),s=a%1,a==a?s?a-s:a:0):0;var c,l=e.length;return r<0&&(r=jt(l+r,0)),"string"==typeof(c=e)||!It(c)&&Et(c)&&vt.call(c)==at?r<=l&&-1<e.indexOf(t,r):!!l&&-1<function(e,t,r){if(t!=t)return function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,pt,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t,r)},Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Dt(e){return"string"==typeof e}var Rt=Array.isArray;function Ct(e){throw new Error("string-find-heads-tails: [THROW_ID_01*] Missing "+Se(e)+" parameter!")}function Vt(e,t,r,n){if(null!=n){if(!_(n))throw new TypeError("string-find-heads-tails: [THROW_ID_13] the fourth input argument, Optional Options Object, must be a plain object! Currently it's: "+(void 0===n?"undefined":Ht(n))+", equal to: "+n);Te(n.fromIndex,{includeZero:!0})&&(n.fromIndex=Number(n.fromIndex))}var o={fromIndex:0,throwWhenSomethingWrongIsDetected:!0,allowWholeValueToBeOnlyHeadsOrTails:!0,source:"string-find-heads-tails",matchHeadsAndTailsStrictlyInPairsByTheirOrder:!1,relaxedAPI:!1};if(function(n,e,t){function o(e){return null!=e}function r(e){return"boolean"===H(e)}function i(e){return"string"===H(e)}function a(e){return"Object"===H(e)}var s=["any","anything","every","everything","all","whatever","whatevs"],c=Array.isArray;if(0===arguments.length)throw new Error("check-types-mini: [THROW_ID_01] Missing all arguments!");if(1===arguments.length)throw new Error("check-types-mini: [THROW_ID_02] Missing second argument!");var l=a(e)?e:{},u={ignoreKeys:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},f=void 0;if(!i((f=o(t)&&a(t)?Object.assign({},u,t):Object.assign({},u)).msg))throw new Error("check-types-mini: [THROW_ID_03] opts.msg must be string! Currently it's: "+H(f.msg)+", equal to "+JSON.stringify(f.msg,null,4));if(f.msg=f.msg.trim(),":"===f.msg[f.msg.length-1]&&(f.msg=f.msg.slice(0,f.msg.length-1)),!i(f.optsVarName))throw new Error("check-types-mini: [THROW_ID_04] opts.optsVarName must be string! Currently it's: "+H(f.optsVarName)+", equal to "+JSON.stringify(f.optsVarName,null,4));if(f.ignoreKeys=Oe(f.ignoreKeys),f.acceptArraysIgnore=Oe(f.acceptArraysIgnore),!c(f.ignoreKeys))throw new TypeError("check-types-mini: [THROW_ID_05] opts.ignoreKeys should be an array, currently it's: "+H(f.ignoreKeys));if(!r(f.acceptArrays))throw new TypeError("check-types-mini: [THROW_ID_06] opts.acceptArrays should be a Boolean, currently it's: "+H(f.acceptArrays));if(!c(f.acceptArraysIgnore))throw new TypeError("check-types-mini: [THROW_ID_07] opts.acceptArraysIgnore should be an array, currently it's: "+H(f.acceptArraysIgnore));if(!r(f.enforceStrictKeyset))throw new TypeError("check-types-mini: [THROW_ID_08] opts.enforceStrictKeyset should be a Boolean, currently it's: "+H(f.enforceStrictKeyset));if(Object.keys(f.schema).forEach(function(e){c(f.schema[e])||(f.schema[e]=[f.schema[e]]),f.schema[e]=f.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),f.enforceStrictKeyset)if(o(f.schema)&&0<Object.keys(f.schema).length){if(0!==D(Object.keys(n),Object.keys(l).concat(Object.keys(f.schema))).length)throw new TypeError(f.msg+": "+f.optsVarName+".enforceStrictKeyset is on and the following keys are not covered by schema and/or reference objects: "+JSON.stringify(D(Object.keys(n),Object.keys(l).concat(Object.keys(f.schema))),null,4))}else{if(!(o(l)&&0<Object.keys(l).length))throw new TypeError(f.msg+": Both "+f.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==D(Object.keys(n),Object.keys(l)).length)throw new TypeError(f.msg+": The input object has keys that are not covered by reference object: "+JSON.stringify(D(Object.keys(n),Object.keys(l)),null,4));if(0!==D(Object.keys(l),Object.keys(n)).length)throw new TypeError(f.msg+": The reference object has keys that are not present in the input object: "+JSON.stringify(D(Object.keys(l),Object.keys(n)),null,4))}Object.keys(n).forEach(function(t){if(o(f.schema)&&Object.prototype.hasOwnProperty.call(f.schema,t)){if(f.schema[t]=Oe(f.schema[t]).map(String).map(function(e){return e.toLowerCase()}),!(ve(f.schema[t],s).length||(!0===n[t]||!1===n[t]||f.schema[t].includes(H(n[t]).toLowerCase()))&&(!0!==n[t]&&!1!==n[t]||f.schema[t].includes(String(n[t]))||f.schema[t].includes("boolean")))){if(!c(n[t])||!f.acceptArrays)throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to "+JSON.stringify(n[t],null,4)+" which is not among the allowed types in schema ("+f.schema[t]+") but "+H(n[t]));for(var e=0,r=n[t].length;e<r;e++)if(!f.schema[t].includes(H(n[t][e]).toLowerCase()))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" is of type "+H(n[t][e]).toLowerCase()+", but only the following are allowed in "+f.optsVarName+".schema: "+f.schema[t])}}else if(o(l)&&Object.prototype.hasOwnProperty.call(l,t)&&H(n[t])!==H(l[t])&&!f.ignoreKeys.includes(t)){if(!f.acceptArrays||!c(n[t])||f.acceptArraysIgnore.includes(t))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to "+JSON.stringify(n[t],null,4)+" which is not "+H(l[t])+" but "+H(n[t]));if(!n[t].every(function(e){return H(e)===H(l[t])}))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to be array, but not all of its elements are "+H(l[t])+"-type")}})}(n=Object.assign({},o,n),o,{msg:"string-find-heads-tails: [THROW_ID_14*]"}),n.relaxedAPI||(void 0===e&&Ct(1),void 0===t&&Ct(2),void 0===r&&Ct(3)),!Dt(e)||0===e.length){if(n.relaxedAPI)return[];throw new TypeError("string-find-heads-tails: [THROW_ID_02] the first input argument, input string, must be a non-zero-length string! Currently it's: "+(void 0===e?"undefined":Ht(e))+", equal to: "+e)}var i=void 0,a=void 0;if(!Dt(t)&&!Rt(t)){if(n.relaxedAPI)return[];throw new TypeError("string-find-heads-tails: [THROW_ID_03] the second input argument, heads, must be either a string or an array of strings! Currently it's: "+(void 0===t?"undefined":Ht(t))+", equal to:\n"+JSON.stringify(t,null,4))}if(Dt(t)){if(0===t.length){if(n.relaxedAPI)return[];throw new TypeError("string-find-heads-tails: [THROW_ID_04] the second input argument, heads, must be a non-empty string! Currently it's empty.")}t=Oe(t)}else if(Rt(t)){if(0===t.length){if(n.relaxedAPI)return[];throw new TypeError("string-find-heads-tails: [THROW_ID_05] the second input argument, heads, must be a non-empty array and contain at least one string! Currently it's empty.")}if(t.every(function(e,t){return a=t,Dt(i=e)})){if(!t.every(function(e,t){return a=t,Dt(e)&&0<e.length&&""!==e.trim()})){if(!n.relaxedAPI)throw new TypeError("string-find-heads-tails: [THROW_ID_07] the second input argument, heads, should not contain empty strings! For example, there's one detected at index "+a+" of heads array:\n"+JSON.stringify(t,null,4)+".");if(0===(t=t.filter(function(e){return Dt(e)&&0<e.length})).length)return[]}}else{if(!n.relaxedAPI)throw new TypeError("string-find-heads-tails: [THROW_ID_06] the second input argument, heads, contains non-string elements! For example, element at "+Se(a)+" index is "+(void 0===i?"undefined":Ht(i))+", equal to:\n"+JSON.stringify(i,null,4)+". Whole heads array looks like:\n"+JSON.stringify(t,null,4));if(0===(t=t.filter(function(e){return Dt(e)&&0<e.length})).length)return[]}}if(!Dt(r)&&!Rt(r)){if(n.relaxedAPI)return[];throw new TypeError("string-find-heads-tails: [THROW_ID_08] the third input argument, tails, must be either a string or an array of strings! Currently it's: "+(void 0===r?"undefined":Ht(r))+", equal to:\n"+JSON.stringify(r,null,4))}if(Dt(r)){if(0===r.length){if(n.relaxedAPI)return[];throw new TypeError("string-find-heads-tails: [THROW_ID_09] the third input argument, tails, must be a non-empty string! Currently it's empty.")}r=Oe(r)}else if(Rt(r)){if(0===r.length){if(n.relaxedAPI)return[];throw new TypeError("string-find-heads-tails: [THROW_ID_10] the third input argument, tails, must be a non-empty array and contain at least one string! Currently it's empty.")}if(r.every(function(e,t){return a=t,Dt(i=e)})){if(!r.every(function(e,t){return a=t,Dt(e)&&0<e.length&&""!==e.trim()})){if(!n.relaxedAPI)throw new TypeError("string-find-heads-tails: [THROW_ID_12] the third input argument, tails, should not contain empty strings! For example, there's one detected at index "+a+". Whole tails array is equal to:\n"+JSON.stringify(r,null,4));if(0===(r=r.filter(function(e){return Dt(e)&&0<e.length})).length)return[]}}else{if(!n.relaxedAPI)throw new TypeError("string-find-heads-tails: [THROW_ID_11] the third input argument, tails, contains non-string elements! For example, element at "+Se(a)+" index is "+(void 0===i?"undefined":Ht(i))+", equal to:\n"+JSON.stringify(i,null,4)+". Whole tails array is equal to:\n"+JSON.stringify(r,null,4));if(0===(r=r.filter(function(e){return Dt(e)&&0<e.length})).length)return[]}}var s=n.source===o.source;if(n.throwWhenSomethingWrongIsDetected&&!n.allowWholeValueToBeOnlyHeadsOrTails){if(Nt(Oe(t),e))throw new Error(n.source+(s?": [THROW_ID_16]":"")+" the whole input string can't be equal to "+(Dt(t)?"":"one of ")+"heads ("+e+")!");if(Nt(Oe(r),e))throw new Error(n.source+(s?": [THROW_ID_17]":"")+" the whole input string can't be equal to "+(Dt(r)?"":"one of ")+"tails ("+e+")!")}if(!je(n.fromIndex,{includeZero:!0})&&!Te(n.fromIndex,{includeZero:!0}))throw new TypeError(n.source+(s?": [THROW_ID_18]":"")+" the fourth input argument must be a natural number! Currently it's: "+n.fromIndex);for(var c=t.concat(r).map(function(e){return e.charAt(0)}).reduce(function(e,t){return t.charCodeAt(0)>e[1]?[e[0],t.charCodeAt(0)]:t.charCodeAt(0)<e[0]?[t.charCodeAt(0),e[1]]:e},[t[0].charCodeAt(0),t[0].charCodeAt(0)]),l=[],u=!1,f={},h=!1,y=void 0,p=n.fromIndex,g=e.length;p<g;p++){var d=e[p].charCodeAt(0);if(d<=c[1]&&d>=c[0]){var m=Ge(e,p,t);if(m&&n.matchHeadsAndTailsStrictlyInPairsByTheirOrder)for(var b=t.length;b--;)if(t[b]===m){y=b;break}if(m){if(!u){(f={}).headsStartAt=p,f.headsEndAt=p+m.length,u=!0,p+=m.length-1,h&&(h=!1);continue}if(n.throwWhenSomethingWrongIsDetected)throw new TypeError(n.source+(s?": [THROW_ID_19]":"")+' When processing "'+e+'", we found heads ('+e.slice(p,p+m.length)+') starting at character with index number "'+p+'" and there was another set of heads before it! Generally speaking, there should be "heads-tails-heads-tails", not "heads-heads-tails"!\nWe\'re talking about the area of the code:\n\n\n--------------------------------------starts\n'+e.slice(Math.max(p-200,0),p)+"\n      [33m-------\x3e[39m [31m"+e.slice(p,p+m.length)+"[39m [33m<-------[39m\n"+e.slice(p+m.length,Math.min(g,p+200))+"\n--------------------------------------ends\n\n\nTo turn off this error being thrown, set opts.throwWhenSomethingWrongIsDetected to Boolean false.")}var w=Ge(e,p,r);if(u&&w&&n.matchHeadsAndTailsStrictlyInPairsByTheirOrder&&void 0!==y&&void 0!==r[y]&&r[y]!==w){for(var v=void 0,O=r.length;O--;)if(r[O]===w){v=O;break}throw new TypeError(n.source+(s?": [THROW_ID_20]":"")+' When processing "'+e+'", we had "opts.matchHeadsAndTailsStrictlyInPairsByTheirOrder" on. We found heads ('+t[y]+") but the tails the followed it were not of the same index, "+y+" ("+r[y]+") but "+v+" ("+w+").")}if(w){if(u){f.tailsStartAt=p,f.tailsEndAt=p+w.length,l.push(f),u=!(f={}),p+=w.length-1;continue}n.throwWhenSomethingWrongIsDetected&&(h=n.source+(s?": [THROW_ID_21]":"")+' When processing "'+e+'", we found tails ('+e.slice(p,p+w.length)+') starting at character with index number "'+p+"\" but there were no heads preceding it. That's very naughty!")}}if(n.throwWhenSomethingWrongIsDetected&&p===g-1){if(0!==Object.keys(f).length)throw new TypeError(n.source+(s?": [THROW_ID_22]":"")+' When processing "'+e+"\", we reached the end of the string and yet didn't find any tails ("+JSON.stringify(r,null,4)+") to match the last detected heads ("+e.slice(f.headsStartAt,f.headsEndAt)+")!");if(h)throw new Error(h)}}return l}function xt(e){return null!=e}function Kt(e,n,t){if(!xt(e))throw new Error("ast-get-values-by-key: [THROW_ID_01] the first argument is missing!");if(!xt(n))throw new Error("ast-get-values-by-key: [THROW_ID_02] the second argument is missing!");var o=void 0;xt(t)&&(o="string"==typeof t?[t]:w(t));var i=[],r=f(e,function(e,t){var r=void 0!==t?t:e;if(void 0!==t&&d.isMatch(e,n,{caseSensitive:!0}))if(void 0===o)i.push(t);else if(0<o.length)return o.shift();return r});return void 0===o?i:r}var Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt=Array.isArray;function Jt(e,t){if(!Bt(e))throw new TypeError("ranges-sort: [THROW_ID_01] Input must be an array, consisting of range arrays! Currently its type is: "+(void 0===e?"undefined":Mt(e))+", equal to: "+JSON.stringify(e,null,4));if(0===e.length)return e;var r={strictlyTwoElementsInRangeArrays:!1},n=Object.assign({},r,t);!function(n,e,t){function o(e){return null!=e}function r(e){return"boolean"===H(e)}function i(e){return"string"===H(e)}function a(e){return"Object"===H(e)}var s=["any","anything","every","everything","all","whatever","whatevs"],c=Array.isArray;if(0===arguments.length)throw new Error("check-types-mini: [THROW_ID_01] Missing all arguments!");if(1===arguments.length)throw new Error("check-types-mini: [THROW_ID_02] Missing second argument!");var l=a(e)?e:{},u={ignoreKeys:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},f=void 0;if(!i((f=o(t)&&a(t)?Object.assign({},u,t):Object.assign({},u)).msg))throw new Error("check-types-mini: [THROW_ID_03] opts.msg must be string! Currently it's: "+H(f.msg)+", equal to "+JSON.stringify(f.msg,null,4));if(f.msg=f.msg.trim(),":"===f.msg[f.msg.length-1]&&(f.msg=f.msg.slice(0,f.msg.length-1)),!i(f.optsVarName))throw new Error("check-types-mini: [THROW_ID_04] opts.optsVarName must be string! Currently it's: "+H(f.optsVarName)+", equal to "+JSON.stringify(f.optsVarName,null,4));if(f.ignoreKeys=Oe(f.ignoreKeys),f.acceptArraysIgnore=Oe(f.acceptArraysIgnore),!c(f.ignoreKeys))throw new TypeError("check-types-mini: [THROW_ID_05] opts.ignoreKeys should be an array, currently it's: "+H(f.ignoreKeys));if(!r(f.acceptArrays))throw new TypeError("check-types-mini: [THROW_ID_06] opts.acceptArrays should be a Boolean, currently it's: "+H(f.acceptArrays));if(!c(f.acceptArraysIgnore))throw new TypeError("check-types-mini: [THROW_ID_07] opts.acceptArraysIgnore should be an array, currently it's: "+H(f.acceptArraysIgnore));if(!r(f.enforceStrictKeyset))throw new TypeError("check-types-mini: [THROW_ID_08] opts.enforceStrictKeyset should be a Boolean, currently it's: "+H(f.enforceStrictKeyset));if(Object.keys(f.schema).forEach(function(e){c(f.schema[e])||(f.schema[e]=[f.schema[e]]),f.schema[e]=f.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),f.enforceStrictKeyset)if(o(f.schema)&&0<Object.keys(f.schema).length){if(0!==D(Object.keys(n),Object.keys(l).concat(Object.keys(f.schema))).length)throw new TypeError(f.msg+": "+f.optsVarName+".enforceStrictKeyset is on and the following keys are not covered by schema and/or reference objects: "+JSON.stringify(D(Object.keys(n),Object.keys(l).concat(Object.keys(f.schema))),null,4))}else{if(!(o(l)&&0<Object.keys(l).length))throw new TypeError(f.msg+": Both "+f.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==D(Object.keys(n),Object.keys(l)).length)throw new TypeError(f.msg+": The input object has keys that are not covered by reference object: "+JSON.stringify(D(Object.keys(n),Object.keys(l)),null,4));if(0!==D(Object.keys(l),Object.keys(n)).length)throw new TypeError(f.msg+": The reference object has keys that are not present in the input object: "+JSON.stringify(D(Object.keys(l),Object.keys(n)),null,4))}Object.keys(n).forEach(function(t){if(o(f.schema)&&Object.prototype.hasOwnProperty.call(f.schema,t)){if(f.schema[t]=Oe(f.schema[t]).map(String).map(function(e){return e.toLowerCase()}),!(ve(f.schema[t],s).length||(!0===n[t]||!1===n[t]||f.schema[t].includes(H(n[t]).toLowerCase()))&&(!0!==n[t]&&!1!==n[t]||f.schema[t].includes(String(n[t]))||f.schema[t].includes("boolean")))){if(!c(n[t])||!f.acceptArrays)throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to "+JSON.stringify(n[t],null,4)+" which is not among the allowed types in schema ("+f.schema[t]+") but "+H(n[t]));for(var e=0,r=n[t].length;e<r;e++)if(!f.schema[t].includes(H(n[t][e]).toLowerCase()))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" is of type "+H(n[t][e]).toLowerCase()+", but only the following are allowed in "+f.optsVarName+".schema: "+f.schema[t])}}else if(o(l)&&Object.prototype.hasOwnProperty.call(l,t)&&H(n[t])!==H(l[t])&&!f.ignoreKeys.includes(t)){if(!f.acceptArrays||!c(n[t])||f.acceptArraysIgnore.includes(t))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to "+JSON.stringify(n[t],null,4)+" which is not "+H(l[t])+" but "+H(n[t]));if(!n[t].every(function(e){return H(e)===H(l[t])}))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to be array, but not all of its elements are "+H(l[t])+"-type")}})}(n,r,{msg:"ranges-sort: [THROW_ID_02*]"});var o=void 0,i=void 0;if(n.strictlyTwoElementsInRangeArrays&&!e.every(function(e,t){return 2===e.length||(o=t,i=e.length,!1)}))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, "+Se(o)+" range ("+JSON.stringify(e[o],null,4)+") has not two but "+i+" elements!");if(!e.every(function(e,t){return!(!je(e[0],{includeZero:!0})||!je(e[1],{includeZero:!0}))||(o=t,!1)}))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, "+Se(o)+" range ("+JSON.stringify(e[o],null,4)+") does not consist of only natural numbers!");return Array.from(e).sort(function(e,t){return e[0]===t[0]?e[1]<t[1]?-1:e[1]>t[1]?1:0:e[0]<t[0]?-1:1})}function Pt(e){if("string"==typeof e){if(0===e.length)return"";if(""===e.trim())return e.includes("\n")?"\n":" ";var t="";if(""===e[0].trim()){for(var r=!(t=" "),n=0,o=e.length;n<o&&("\n"===e[n]&&(r=!0),""===e[n].trim());n++);r&&(t="\n")}var i="";if(""===e.slice(-1).trim()){for(var a=!(i=" "),s=e.length;s--&&("\n"===e[s]&&(a=!0),""===e[s].trim()););a&&(i="\n")}return t+e.trim()+i}return e}var Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function Zt(e){return null!=e}var Ft=Array.isArray;function $t(e){return"string"==typeof e}function zt(e){return Te(e,{includeZero:!0})?parseInt(e,10):e}var Gt=function(){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t={limitToBeAddedWhitespace:!1},r=Object.assign({},t,e);!function(n,e,t){function o(e){return null!=e}function r(e){return"boolean"===H(e)}function i(e){return"string"===H(e)}function a(e){return"Object"===H(e)}var s=["any","anything","every","everything","all","whatever","whatevs"],c=Array.isArray;if(0===arguments.length)throw new Error("check-types-mini: [THROW_ID_01] Missing all arguments!");if(1===arguments.length)throw new Error("check-types-mini: [THROW_ID_02] Missing second argument!");var l=a(e)?e:{},u={ignoreKeys:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},f=void 0;if(!i((f=o(t)&&a(t)?Object.assign({},u,t):Object.assign({},u)).msg))throw new Error("check-types-mini: [THROW_ID_03] opts.msg must be string! Currently it's: "+H(f.msg)+", equal to "+JSON.stringify(f.msg,null,4));if(f.msg=f.msg.trim(),":"===f.msg[f.msg.length-1]&&(f.msg=f.msg.slice(0,f.msg.length-1)),!i(f.optsVarName))throw new Error("check-types-mini: [THROW_ID_04] opts.optsVarName must be string! Currently it's: "+H(f.optsVarName)+", equal to "+JSON.stringify(f.optsVarName,null,4));if(f.ignoreKeys=Oe(f.ignoreKeys),f.acceptArraysIgnore=Oe(f.acceptArraysIgnore),!c(f.ignoreKeys))throw new TypeError("check-types-mini: [THROW_ID_05] opts.ignoreKeys should be an array, currently it's: "+H(f.ignoreKeys));if(!r(f.acceptArrays))throw new TypeError("check-types-mini: [THROW_ID_06] opts.acceptArrays should be a Boolean, currently it's: "+H(f.acceptArrays));if(!c(f.acceptArraysIgnore))throw new TypeError("check-types-mini: [THROW_ID_07] opts.acceptArraysIgnore should be an array, currently it's: "+H(f.acceptArraysIgnore));if(!r(f.enforceStrictKeyset))throw new TypeError("check-types-mini: [THROW_ID_08] opts.enforceStrictKeyset should be a Boolean, currently it's: "+H(f.enforceStrictKeyset));if(Object.keys(f.schema).forEach(function(e){c(f.schema[e])||(f.schema[e]=[f.schema[e]]),f.schema[e]=f.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),f.enforceStrictKeyset)if(o(f.schema)&&0<Object.keys(f.schema).length){if(0!==D(Object.keys(n),Object.keys(l).concat(Object.keys(f.schema))).length)throw new TypeError(f.msg+": "+f.optsVarName+".enforceStrictKeyset is on and the following keys are not covered by schema and/or reference objects: "+JSON.stringify(D(Object.keys(n),Object.keys(l).concat(Object.keys(f.schema))),null,4))}else{if(!(o(l)&&0<Object.keys(l).length))throw new TypeError(f.msg+": Both "+f.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==D(Object.keys(n),Object.keys(l)).length)throw new TypeError(f.msg+": The input object has keys that are not covered by reference object: "+JSON.stringify(D(Object.keys(n),Object.keys(l)),null,4));if(0!==D(Object.keys(l),Object.keys(n)).length)throw new TypeError(f.msg+": The reference object has keys that are not present in the input object: "+JSON.stringify(D(Object.keys(l),Object.keys(n)),null,4))}Object.keys(n).forEach(function(t){if(o(f.schema)&&Object.prototype.hasOwnProperty.call(f.schema,t)){if(f.schema[t]=Oe(f.schema[t]).map(String).map(function(e){return e.toLowerCase()}),!(ve(f.schema[t],s).length||(!0===n[t]||!1===n[t]||f.schema[t].includes(H(n[t]).toLowerCase()))&&(!0!==n[t]&&!1!==n[t]||f.schema[t].includes(String(n[t]))||f.schema[t].includes("boolean")))){if(!c(n[t])||!f.acceptArrays)throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to "+JSON.stringify(n[t],null,4)+" which is not among the allowed types in schema ("+f.schema[t]+") but "+H(n[t]));for(var e=0,r=n[t].length;e<r;e++)if(!f.schema[t].includes(H(n[t][e]).toLowerCase()))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" is of type "+H(n[t][e]).toLowerCase()+", but only the following are allowed in "+f.optsVarName+".schema: "+f.schema[t])}}else if(o(l)&&Object.prototype.hasOwnProperty.call(l,t)&&H(n[t])!==H(l[t])&&!f.ignoreKeys.includes(t)){if(!f.acceptArrays||!c(n[t])||f.acceptArraysIgnore.includes(t))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to "+JSON.stringify(n[t],null,4)+" which is not "+H(l[t])+" but "+H(n[t]));if(!n[t].every(function(e){return H(e)===H(l[t])}))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to be array, but not all of its elements are "+H(l[t])+"-type")}})}(r,t,{msg:"string-slices-array-push: [THROW_ID_02*]"}),this.opts=r}return qt(n,[{key:"add",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(e){throw new Error("string-slices-array-push/Slices/add(): [THROW_ID_01] Missing "+Se(e)+" input parameter!")}(1),r=this,t=arguments[1],n=arguments[2],o=arguments.length,i=Array(3<o?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];if(0<i.length)throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_03] Please don't overload the add() method. From the 4th input argument onwards we see these redundant arguments: "+JSON.stringify(i,null,4));if(null!==e||void 0!==t||void 0!==n){var s=Te(e,{includeZero:!0})?parseInt(e,10):e,c=Te(t,{includeZero:!0})?parseInt(t,10):t;if(Ft(e)&&!Zt(t)){var l=void 0,u=void 0;if(0<e.length){if(!e.every(function(e,t){return!!Ft(e)||(l=t,u=e,!1)}))throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_07] first argument was given as array but it contains not only range arrays. For example, at index "+l+" we have "+(void 0===u?"undefined":Lt(u))+"-type value:\n"+JSON.stringify(u,null,4)+".");e.forEach(function(e,t){if(!je(zt(e[0]),{includeZero:!0}))throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_06] The "+Se(t)+" ranges array's starting range index, an element at its zero'th index, is not a natural number! It's equal to: "+e[0]+".");if(!je(zt(e[1]),{includeZero:!0}))throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_05] The "+Se(t)+" ranges array's ending range index, an element at its first index, is not a natural number! It's equal to: "+e[1]+".");if(Zt(e[2])&&!$t(e[2]))throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_04] The "+Se(t)+' ranges array\'s "to add" value is not string but '+Lt(e[2])+"! It's equal to: "+e[2]+".");r.add.apply(r,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))})}}else{if(!je(s,{includeZero:!0})||!je(c,{includeZero:!0}))throw je(s,{includeZero:!0})?new TypeError('string-slices-array-push/Slices/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it\'s of a type "'+(void 0===c?"undefined":Lt(c))+'" equal to: '+JSON.stringify(c,null,4)):new TypeError('string-slices-array-push/Slices/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it\'s of a type "'+(void 0===s?"undefined":Lt(s))+'" equal to: '+JSON.stringify(s,null,4));if(Zt(n)&&!$t(n))throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but "+(void 0===n?"undefined":Lt(n))+", equal to:\n"+JSON.stringify(n,null,4));if(void 0!==this.slices&&s===this.last()[1]){if(this.last()[1]=c,null!==this.last()[2]&&Zt(n)){var f=Zt(this.last()[2])&&0<this.last()[2].length?this.last()[2]+n:n;this.opts.limitToBeAddedWhitespace&&(f=Pt(f)),this.last()[2]=f}}else this.slices||(this.slices=[]),this.slices.push(void 0!==n?[s,c,this.opts.limitToBeAddedWhitespace?Pt(n):n]:[s,c])}}}},{key:"push",value:function(e,t,r){for(var n=arguments.length,o=Array(3<n?n-3:0),i=3;i<n;i++)o[i-3]=arguments[i];this.add.apply(this,[e,t,r].concat(o))}},{key:"current",value:function(){return null!=this.slices?(this.slices=function(e){if(!Array.isArray(e))return e;for(var t=Jt(e),r=t.length-1;0<r;r--)(t[r][0]<=t[r-1][0]||t[r][0]<=t[r-1][1])&&(t[r-1][0]=Math.min(t[r][0],t[r-1][0]),t[r-1][1]=Math.max(t[r][1],t[r-1][1]),void 0!==t[r][2]&&(t[r-1][0]>=t[r][0]||t[r-1][1]<=t[r][1])&&null!==t[r-1][2]&&(null===t[r][2]&&null!==t[r-1][2]?t[r-1][2]=null:void 0!==t[r-1][2]?t[r-1][2]+=t[r][2]:t[r-1][2]=t[r][2]),t.splice(r,1),r=t.length);return t}(this.slices),this.opts.limitToBeAddedWhitespace?this.slices.map(function(e){return Zt(e[2])?[e[0],e[1],Pt(e[2])]:e}):this.slices):null}},{key:"wipe",value:function(){this.slices=void 0}},{key:"last",value:function(){return void 0!==this.slices&&Array.isArray(this.slices)?this.slices[this.slices.length-1]:null}}]),n}(),Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt=Array.isArray;function Xt(a,r){if(0===arguments.length)throw new Error("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_01] inputs missing!");if("string"!=typeof a)throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_02] first input argument must be a string! Currently it's: "+(void 0===a?"undefined":Ut(a))+", equal to: "+a);if(!Qt(r))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_03] second input argument must be an array! Currently it's: "+(void 0===r?"undefined":Ut(r))+", equal to: "+r);if(Qt(r)&&(je(r[0],{includeZero:!0})||Te(r[0],{includeZero:!0}))&&(je(r[1],{includeZero:!0})||Te(r[1],{includeZero:!0}))&&(r=[r]),r.forEach(function(e,t){if(!Qt(e))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_05] ranges array, second input arg., has "+Se(t)+" element not an array: "+JSON.stringify(e,null,4)+", which is "+(void 0===e?"undefined":Ut(e)));if(!je(e[0],{includeZero:!0})){if(!Te(e[0],{includeZero:!0}))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_06] ranges array, second input arg. has "+Se(t)+" element, array ["+e[0]+","+e[1]+"]. That array has first element not an integer, but "+Ut(e[0])+", equal to: "+JSON.stringify(e[0],null,4)+". Computer doesn't like this.");r[t][0]=Number.parseInt(r[t][0],10)}if(!je(e[1],{includeZero:!0})){if(!Te(e[1],{includeZero:!0}))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_07] ranges array, second input arg. has "+Se(t)+" element, array ["+e[0]+","+e[1]+"]. That array has second element not an integer, but "+Ut(e[1])+", equal to: "+JSON.stringify(e[1],null,4)+". Computer doesn't like this.");r[t][1]=Number.parseInt(r[t][1],10)}}),0<r.length){var e=a.slice(r[r.length-1][1]);a=r.reduce(function(e,t,r,n){var o=0===r?0:n[r-1][1],i=n[r][0];return e+a.slice(o,i)+(null!=n[r][2]?n[r][2]:"")},""),a+=e}return a}function Yt(e){if("string"!=typeof e)return e;var t=void 0,r=void 0;if(0<e.length){if(" "===e[0])for(var n=0,o=e.length;n<o;n++){if(" "!==e[n]){t=n;break}if(n===e.length-1)return""}if(" "===e[e.length-1])for(var i=e.length;i--;)if(" "!==e[i]){r=i+1;break}if(t)return r?e.slice(t,r):e.slice(t);if(r)return e.slice(0,r)}return e}var er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function tr(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};function o(e){return null!=e}var t=Object.prototype.hasOwnProperty;function r(e){return"string"==typeof e}if(void 0===n)throw new Error("string-remove-duplicate-heads-tails: [THROW_ID_01] The input is missing!");if("string"!=typeof n)return n;if(o(e)&&!_(e))throw new Error("string-remove-duplicate-heads-tails: [THROW_ID_03] The given options are not a plain object but "+(void 0===e?"undefined":er(e))+"!");if(o(e)&&t.call(e,"heads")){if(!Oe(e.heads).every(function(e){return r(e)}))throw new Error("string-remove-duplicate-heads-tails: [THROW_ID_04] The opts.heads contains elements which are not string-type!");r(e.heads)&&(e.heads=Oe(e.heads))}if(o(e)&&t.call(e,"tails")){if(!Oe(e.tails).every(function(e){return r(e)}))throw new Error("string-remove-duplicate-heads-tails: [THROW_ID_05] The opts.tails contains elements which are not string-type!");r(e.tails)&&(e.tails=Oe(e.tails))}var i=Yt(n);if(0===i.length)return n;n=i;var a={heads:["{{"],tails:["}}"]},s=Object.assign({},a,e);!function(n,e,t){function o(e){return null!=e}function r(e){return"boolean"===H(e)}function i(e){return"string"===H(e)}function a(e){return"Object"===H(e)}var s=["any","anything","every","everything","all","whatever","whatevs"],c=Array.isArray;if(0===arguments.length)throw new Error("check-types-mini: [THROW_ID_01] Missing all arguments!");if(1===arguments.length)throw new Error("check-types-mini: [THROW_ID_02] Missing second argument!");var l=a(e)?e:{},u={ignoreKeys:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},f=void 0;if(!i((f=o(t)&&a(t)?Object.assign({},u,t):Object.assign({},u)).msg))throw new Error("check-types-mini: [THROW_ID_03] opts.msg must be string! Currently it's: "+H(f.msg)+", equal to "+JSON.stringify(f.msg,null,4));if(f.msg=f.msg.trim(),":"===f.msg[f.msg.length-1]&&(f.msg=f.msg.slice(0,f.msg.length-1)),!i(f.optsVarName))throw new Error("check-types-mini: [THROW_ID_04] opts.optsVarName must be string! Currently it's: "+H(f.optsVarName)+", equal to "+JSON.stringify(f.optsVarName,null,4));if(f.ignoreKeys=Oe(f.ignoreKeys),f.acceptArraysIgnore=Oe(f.acceptArraysIgnore),!c(f.ignoreKeys))throw new TypeError("check-types-mini: [THROW_ID_05] opts.ignoreKeys should be an array, currently it's: "+H(f.ignoreKeys));if(!r(f.acceptArrays))throw new TypeError("check-types-mini: [THROW_ID_06] opts.acceptArrays should be a Boolean, currently it's: "+H(f.acceptArrays));if(!c(f.acceptArraysIgnore))throw new TypeError("check-types-mini: [THROW_ID_07] opts.acceptArraysIgnore should be an array, currently it's: "+H(f.acceptArraysIgnore));if(!r(f.enforceStrictKeyset))throw new TypeError("check-types-mini: [THROW_ID_08] opts.enforceStrictKeyset should be a Boolean, currently it's: "+H(f.enforceStrictKeyset));if(Object.keys(f.schema).forEach(function(e){c(f.schema[e])||(f.schema[e]=[f.schema[e]]),f.schema[e]=f.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),f.enforceStrictKeyset)if(o(f.schema)&&0<Object.keys(f.schema).length){if(0!==D(Object.keys(n),Object.keys(l).concat(Object.keys(f.schema))).length)throw new TypeError(f.msg+": "+f.optsVarName+".enforceStrictKeyset is on and the following keys are not covered by schema and/or reference objects: "+JSON.stringify(D(Object.keys(n),Object.keys(l).concat(Object.keys(f.schema))),null,4))}else{if(!(o(l)&&0<Object.keys(l).length))throw new TypeError(f.msg+": Both "+f.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==D(Object.keys(n),Object.keys(l)).length)throw new TypeError(f.msg+": The input object has keys that are not covered by reference object: "+JSON.stringify(D(Object.keys(n),Object.keys(l)),null,4));if(0!==D(Object.keys(l),Object.keys(n)).length)throw new TypeError(f.msg+": The reference object has keys that are not present in the input object: "+JSON.stringify(D(Object.keys(l),Object.keys(n)),null,4))}Object.keys(n).forEach(function(t){if(o(f.schema)&&Object.prototype.hasOwnProperty.call(f.schema,t)){if(f.schema[t]=Oe(f.schema[t]).map(String).map(function(e){return e.toLowerCase()}),!(ve(f.schema[t],s).length||(!0===n[t]||!1===n[t]||f.schema[t].includes(H(n[t]).toLowerCase()))&&(!0!==n[t]&&!1!==n[t]||f.schema[t].includes(String(n[t]))||f.schema[t].includes("boolean")))){if(!c(n[t])||!f.acceptArrays)throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to "+JSON.stringify(n[t],null,4)+" which is not among the allowed types in schema ("+f.schema[t]+") but "+H(n[t]));for(var e=0,r=n[t].length;e<r;e++)if(!f.schema[t].includes(H(n[t][e]).toLowerCase()))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" is of type "+H(n[t][e]).toLowerCase()+", but only the following are allowed in "+f.optsVarName+".schema: "+f.schema[t])}}else if(o(l)&&Object.prototype.hasOwnProperty.call(l,t)&&H(n[t])!==H(l[t])&&!f.ignoreKeys.includes(t)){if(!f.acceptArrays||!c(n[t])||f.acceptArraysIgnore.includes(t))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to "+JSON.stringify(n[t],null,4)+" which is not "+H(l[t])+" but "+H(n[t]));if(!n[t].every(function(e){return H(e)===H(l[t])}))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to be array, but not all of its elements are "+H(l[t])+"-type")}})}(s,a,{msg:"string-remove-duplicate-heads-tails: [THROW_ID_06*]"}),s.heads=s.heads.map(function(e){return e.trim()}),s.tails=s.tails.map(function(e){return e.trim()});var c=!1,l=!1,u=new Gt({limitToBeAddedWhitespace:!0}),f=new Gt({limitToBeAddedWhitespace:!0}),h=!0,y=!0,p="";function g(e,t){var n=void 0;return Ge(e,0,t.heads,{trimBeforeMatching:!0,cb:function(e,t,r){return n=r,!0},relaxedApi:!0})&&Ge(e,n,t.tails,{trimBeforeMatching:!0,cb:function(e,t,r){return n=r,!0},relaxedApi:!0})?e.slice(n):e}for(;n!==g(n,s);)n=Yt(g(n,s));function d(e,t){var n=void 0;return ze(e,e.length-1,t.tails,{trimBeforeMatching:!0,cb:function(e,t,r){return n=r,!0},relaxedApi:!0})&&ze(e,n,t.heads,{trimBeforeMatching:!0,cb:function(e,t,r){return n=r,!0},relaxedApi:!0})?e.slice(0,n+1):e}for(;n!==d(n,s);)n=Yt(d(n,s));if(!Ge(n,0,s.heads,{trimBeforeMatching:!0,relaxedApi:!0})||!ze(n,n.length-1,s.tails,{trimBeforeMatching:!0,relaxedApi:!0}))return Yt(n);for(var m=0,b=n.length;m<b;m++)if(""===n[m].trim());else{var w=void 0;if(Ge(n,m,s.heads,{trimBeforeMatching:!0,cb:function(e,t,r){return w=r,!0},relaxedApi:!0})){y=!0,h&&(h=!0);var v=void 0;Ge(n,w,s.tails,{trimBeforeMatching:!0,cb:function(e,t,r){return v=r,!0},relaxedApi:!0})&&u.push(m,v),f.current()&&c&&"tails"!==p&&u.push(f.current()),c||f.current()&&(u.push(f.current()),f.wipe()),f.push(m,w),p="heads",m=w-1;continue}if(Ge(n,m,s.tails,{trimBeforeMatching:!0,cb:function(e,t,r){return w=o(r)?r:n.length,!0},relaxedApi:!0})){y=!0,h?("heads"===p&&f.wipe(),h=!1):f.push(m,w),p="tails",m=w-1;continue}h&&(h=!0),y&&!c?y=!(c=!0):y&&!l?(y=!(h=l=!0),"heads"===p&&f.wipe()):y&&l&&f.wipe()}return f.current()&&u.push(f.current()),u.current()?Xt(n,u.current()).trim():n.trim()}var rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr=Array.isArray,or=Object.prototype.hasOwnProperty;function ir(e){return"string"==typeof e}function ar(e){return"boolean"==typeof e}function sr(e){return null===e}function cr(e){return ir(e)?e.trim():e}function lr(e){if("string"==typeof e&&0<e.length&&-1!==e.indexOf("."))for(var t=0,r=e.length;t<r;t++)if("."===e[t])return e.slice(t+1);return e}function ur(e){if("string"==typeof e&&0<e.length&&-1!==e.indexOf("."))for(var t=e.length;t--;)if("."===e[t])return e.slice(0,t);return e}function fr(e){if("string"==typeof e&&0<e.length&&-1!==e.indexOf("."))for(var t=e.length;t--;)if("."===e[t])return e.slice(t+1);return e}function hr(e,t){return"string"==typeof e&&0!==e.trim().length&&!!(e.includes(t.heads)||e.includes(t.tails)||ir(t.headsNoWrap)&&0<t.headsNoWrap.length&&e.includes(t.headsNoWrap)||ir(t.tailsNoWrap)&&0<t.tailsNoWrap.length&&e.includes(t.tailsNoWrap))}function yr(e,t){var r,n,o,i,a,s=2<arguments.length&&void 0!==arguments[2]&&arguments[2],c=arguments[5];if(ir(e)&&!s&&t.wrapGlobalFlipSwitch&&!t.dontWrapVars.some(function(e){return d.isMatch(c,e)})&&(!t.preventDoubleWrapping||t.preventDoubleWrapping&&ir(e)&&!e.includes(t.wrapHeadsWith)&&!e.includes(t.wrapTailsWith)))return t.wrapHeadsWith+e+t.wrapTailsWith;if(s){if(!ir(e))return e;var l=tr(e,{heads:t.wrapHeadsWith,tails:t.wrapTailsWith});return ir(l)?(r=l,n=t.wrapHeadsWith,o=t.wrapTailsWith,a=i=void 0,"string"==typeof r&&0<r.length&&Ge(r,0,n,{trimBeforeMatching:!0,cb:function(e,t,r){return i=r,!0}})&&ze(r,r.length-1,o,{trimBeforeMatching:!0,cb:function(e,t,r){return a=r+1,!0}})?r.slice(i,a):r):l}return e}function pr(e,t,r,n){var o=void 0;if(-1!==r.indexOf(".")){var i=r,a=!0;if(n.lookForDataContainers&&"string"==typeof n.dataContainerIdentifierTails&&0<n.dataContainerIdentifierTails.length&&!i.endsWith(n.dataContainerIdentifierTails)){var s=O.get(e,i+n.dataContainerIdentifierTails);_(s)&&O.get(s,t)&&(o=O.get(s,t),a=!1)}for(;a&&-1!==i.indexOf(".");){if(fr(i=ur(i))===t)throw new Error('json-variables/findValues(): [THROW_ID_20] While trying to resolve: "'+t+'" at path "'+r+'", we encountered a closed loop. The parent key "'+fr(i)+'" is called the same as the variable "'+t+"\" we're looking for.");if(n.lookForDataContainers&&"string"==typeof n.dataContainerIdentifierTails&&0<n.dataContainerIdentifierTails.length&&!i.endsWith(n.dataContainerIdentifierTails)){var c=O.get(e,i+n.dataContainerIdentifierTails);_(c)&&O.get(c,t)&&(o=O.get(c,t),a=!1)}if(void 0===o){var l=O.get(e,i);_(l)&&O.get(l,t)&&(o=O.get(l,t),a=!1)}}}if(void 0===o){var u=O.get(e,t);void 0!==u&&(o=u)}if(void 0===o)if(-1===t.indexOf(".")){var f=Kt(e,t);if(0<f.length)for(var h=0,y=f.length;h<y;h++){if(ir(f[h])||ar(f[h])||sr(f[h])){o=f[h];break}if("number"==typeof f[h]){o=String(f[h]);break}if(nr(f[h])){o=f[h].join("");break}throw new Error('json-variables/findValues(): [THROW_ID_21] While trying to resolve: "'+t+'" at path "'+r+'", we actually found the key named '+t+", but it was not equal to a string but to:\n"+JSON.stringify(f[h],null,4)+"\nWe can't resolve a string with that! It should be a string.")}}else{var p=Kt(e,function(e){if("string"==typeof e&&0<e.length&&-1!==e.indexOf("."))for(var t=0,r=e.length;t<r;t++)if("."===e[t])return e.slice(0,t);return e}(t));if(0<p.length)for(var g=0,d=p.length;g<d;g++){var m=O.get(p[g],lr(t));m&&ir(m)&&(o=m)}}return o}return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(0===arguments.length)throw new Error("json-variables/jsonVariables(): [THROW_ID_01] Alas! Inputs are missing!");if(!_(e))throw new TypeError("json-variables/jsonVariables(): [THROW_ID_02] Alas! The input must be a plain object! Currently it's: "+(Array.isArray(e)?"array":void 0===e?"undefined":rr(e)));if(!_(t))throw new TypeError("json-variables/jsonVariables(): [THROW_ID_03] Alas! An Optional Options Object must be a plain object! Currently it's: "+(Array.isArray(t)?"array":void 0===t?"undefined":rr(t)));var n=w(e),r={heads:"%%_",tails:"_%%",headsNoWrap:"%%-",tailsNoWrap:"-%%",lookForDataContainers:!0,dataContainerIdentifierTails:"_data",wrapHeadsWith:"",wrapTailsWith:"",dontWrapVars:[],preventDoubleWrapping:!0,wrapGlobalFlipSwitch:!0,noSingleMarkers:!1,resolveToBoolIfAnyValuesContainBool:!0,resolveToFalseIfAnyValuesContainBool:!0,throwWhenNonStringInsertedInString:!1},o=Object.assign({},r,t);o.dontWrapVars?nr(o.dontWrapVars)||(o.dontWrapVars=Oe(o.dontWrapVars)):o.dontWrapVars=[],function(n,e,t){function o(e){return null!=e}function r(e){return"boolean"===H(e)}function i(e){return"string"===H(e)}function a(e){return"Object"===H(e)}var s=["any","anything","every","everything","all","whatever","whatevs"],c=Array.isArray;if(0===arguments.length)throw new Error("check-types-mini: [THROW_ID_01] Missing all arguments!");if(1===arguments.length)throw new Error("check-types-mini: [THROW_ID_02] Missing second argument!");var l=a(e)?e:{},u={ignoreKeys:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},f=void 0;if(!i((f=o(t)&&a(t)?Object.assign({},u,t):Object.assign({},u)).msg))throw new Error("check-types-mini: [THROW_ID_03] opts.msg must be string! Currently it's: "+H(f.msg)+", equal to "+JSON.stringify(f.msg,null,4));if(f.msg=f.msg.trim(),":"===f.msg[f.msg.length-1]&&(f.msg=f.msg.slice(0,f.msg.length-1)),!i(f.optsVarName))throw new Error("check-types-mini: [THROW_ID_04] opts.optsVarName must be string! Currently it's: "+H(f.optsVarName)+", equal to "+JSON.stringify(f.optsVarName,null,4));if(f.ignoreKeys=Oe(f.ignoreKeys),f.acceptArraysIgnore=Oe(f.acceptArraysIgnore),!c(f.ignoreKeys))throw new TypeError("check-types-mini: [THROW_ID_05] opts.ignoreKeys should be an array, currently it's: "+H(f.ignoreKeys));if(!r(f.acceptArrays))throw new TypeError("check-types-mini: [THROW_ID_06] opts.acceptArrays should be a Boolean, currently it's: "+H(f.acceptArrays));if(!c(f.acceptArraysIgnore))throw new TypeError("check-types-mini: [THROW_ID_07] opts.acceptArraysIgnore should be an array, currently it's: "+H(f.acceptArraysIgnore));if(!r(f.enforceStrictKeyset))throw new TypeError("check-types-mini: [THROW_ID_08] opts.enforceStrictKeyset should be a Boolean, currently it's: "+H(f.enforceStrictKeyset));if(Object.keys(f.schema).forEach(function(e){c(f.schema[e])||(f.schema[e]=[f.schema[e]]),f.schema[e]=f.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),f.enforceStrictKeyset)if(o(f.schema)&&0<Object.keys(f.schema).length){if(0!==D(Object.keys(n),Object.keys(l).concat(Object.keys(f.schema))).length)throw new TypeError(f.msg+": "+f.optsVarName+".enforceStrictKeyset is on and the following keys are not covered by schema and/or reference objects: "+JSON.stringify(D(Object.keys(n),Object.keys(l).concat(Object.keys(f.schema))),null,4))}else{if(!(o(l)&&0<Object.keys(l).length))throw new TypeError(f.msg+": Both "+f.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==D(Object.keys(n),Object.keys(l)).length)throw new TypeError(f.msg+": The input object has keys that are not covered by reference object: "+JSON.stringify(D(Object.keys(n),Object.keys(l)),null,4));if(0!==D(Object.keys(l),Object.keys(n)).length)throw new TypeError(f.msg+": The reference object has keys that are not present in the input object: "+JSON.stringify(D(Object.keys(l),Object.keys(n)),null,4))}Object.keys(n).forEach(function(t){if(o(f.schema)&&Object.prototype.hasOwnProperty.call(f.schema,t)){if(f.schema[t]=Oe(f.schema[t]).map(String).map(function(e){return e.toLowerCase()}),!(ve(f.schema[t],s).length||(!0===n[t]||!1===n[t]||f.schema[t].includes(H(n[t]).toLowerCase()))&&(!0!==n[t]&&!1!==n[t]||f.schema[t].includes(String(n[t]))||f.schema[t].includes("boolean")))){if(!c(n[t])||!f.acceptArrays)throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to "+JSON.stringify(n[t],null,4)+" which is not among the allowed types in schema ("+f.schema[t]+") but "+H(n[t]));for(var e=0,r=n[t].length;e<r;e++)if(!f.schema[t].includes(H(n[t][e]).toLowerCase()))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" is of type "+H(n[t][e]).toLowerCase()+", but only the following are allowed in "+f.optsVarName+".schema: "+f.schema[t])}}else if(o(l)&&Object.prototype.hasOwnProperty.call(l,t)&&H(n[t])!==H(l[t])&&!f.ignoreKeys.includes(t)){if(!f.acceptArrays||!c(n[t])||f.acceptArraysIgnore.includes(t))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to "+JSON.stringify(n[t],null,4)+" which is not "+H(l[t])+" but "+H(n[t]));if(!n[t].every(function(e){return H(e)===H(l[t])}))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to be array, but not all of its elements are "+H(l[t])+"-type")}})}(o,r,{msg:"json-variables/jsonVariables(): [THROW_ID_04*]",schema:{headsNoWrap:["string","null","undefined"],tailsNoWrap:["string","null","undefined"]}});var i=void 0,a=void 0;if(0<o.dontWrapVars.length&&!o.dontWrapVars.every(function(e,t){return!!ir(e)||(i=e,a=t,!1)}))throw new Error('json-variables/jsonVariables(): [THROW_ID_05] Alas! All variable names set in opts.dontWrapVars should be of a string type. Computer detected a value "'+i+'" at index '+a+", which is not string but "+(Array.isArray(i)?"array":void 0===i?"undefined":rr(i))+"!");if(""===o.heads)throw new Error("json-variables/jsonVariables(): [THROW_ID_06] Alas! opts.heads are empty!");if(""===o.tails)throw new Error("json-variables/jsonVariables(): [THROW_ID_07] Alas! opts.tails are empty!");if(o.lookForDataContainers&&""===o.dataContainerIdentifierTails)throw new Error("json-variables/jsonVariables(): [THROW_ID_08] Alas! opts.dataContainerIdentifierTails is empty!");if(o.heads===o.tails)throw new Error("json-variables/jsonVariables(): [THROW_ID_09] Alas! opts.heads and opts.tails can't be equal!");if(o.heads===o.headsNoWrap)throw new Error("json-variables/jsonVariables(): [THROW_ID_10] Alas! opts.heads and opts.headsNoWrap can't be equal!");if(o.tails===o.tailsNoWrap)throw new Error("json-variables/jsonVariables(): [THROW_ID_11] Alas! opts.tails and opts.tailsNoWrap can't be equal!");if(""===o.headsNoWrap)throw new Error("json-variables/jsonVariables(): [THROW_ID_12] Alas! opts.headsNoWrap is an empty string!");if(""===o.tailsNoWrap)throw new Error("json-variables/jsonVariables(): [THROW_ID_13] Alas! opts.tailsNoWrap is an empty string!");if(o.headsNoWrap===o.tailsNoWrap)throw new Error("json-variables/jsonVariables(): [THROW_ID_14] Alas! opts.headsNoWrap and opts.tailsNoWrap can't be equal!");var s=void 0;return f(n,function(e,t,r){if(null!=t&&hr(e,o))throw new Error("json-variables/jsonVariables(): [THROW_ID_15] Alas! Object keys can't contain variables!\nPlease check the following key: "+e);if(""===(s=void 0!==t?t:e))return s;if(0!==o.heads.length&&cr(s)===cr(o.heads)||0!==o.tails.length&&cr(s)===cr(o.tails)||0!==o.headsNoWrap.length&&cr(s)===cr(o.headsNoWrap)||0!==o.tailsNoWrap.length&&cr(s)===cr(o.tailsNoWrap)){if(!o.noSingleMarkers)return s;throw new Error("json-variables/jsonVariables(): [THROW_ID_16] Alas! While processing the input, we stumbled upon "+cr(s)+" which is equal to "+(cr(s)===cr(o.heads)?"heads":"")+(cr(s)===cr(o.tails)?"tails":"")+(ir(o.headsNoWrap)&&cr(s)===cr(o.headsNoWrap)?"headsNoWrap":"")+(ir(o.tailsNoWrap)&&cr(s)===cr(o.tailsNoWrap)?"tailsNoWrap":"")+'. If you wouldn\'t have set opts.noSingleMarkers to "true" this error would not happen and computer would have left the current element ('+cr(s)+") alone")}return ir(s)&&hr(s,o)?function f(h,y,p,g){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[];if(e.includes(p)){var t="";throw 1<e.length&&(t=e.reduce(function(e,t,r){return e+(0===r?"":" →\n")+(t===p?"💥 ":"  ")+t}," Here's the path we travelled up until we hit the recursion:\n\n"),t+=" →\n💥 "+p),new Error('json-variables/resolveString(): [THROW_ID_19] While trying to resolve: "'+y+'" at path "'+p+'", we encountered a closed loop, the key is referencing itself."'+t)}var d={},m=w(e);m.push(p);var b=new Gt;function r(e,t,r){for(var n=0,o=e.length;n<o;n++){var i=e[n],a=y.slice(i.headsEndAt,i.tailsStartAt);if(0===a.length)b.push(i.headsStartAt,i.tailsEndAt);else if(or.call(d,a)&&ir(d[a]))b.push(i.headsStartAt,i.tailsEndAt,d[a]);else{var s=pr(h,a.trim(),p,g);if(void 0===s)throw new Error("json-variables/processHeadsAndTails(): [THROW_ID_18] We couldn't find the value to resolve the variable "+y.slice(i.headsEndAt,i.tailsStartAt)+". We're at path: \""+p+'".');if(!r&&g.throwWhenNonStringInsertedInString&&!ir(s))throw new Error("json-variables/processHeadsAndTails(): [THROW_ID_23] While resolving the variable "+y.slice(i.headsEndAt,i.tailsStartAt)+" at path "+p+", it resolved into a non-string value, "+JSON.stringify(s,null,4)+'. This is happening because options setting "throwWhenNonStringInsertedInString" is active (set to "true").');if(ar(s)){if(g.resolveToBoolIfAnyValuesContainBool)return b=void 0,!g.resolveToFalseIfAnyValuesContainBool&&s;s=""}else{if(sr(s)&&r)return b=void 0,s;s=nr(s)?String(s.join("")):sr(s)?"":String(s)}var c=p.includes(".")?ur(p)+"."+a:a;if(hr(s,g)){var l=yr(f(h,s,c,g,m),g,t,m,c,a.trim());ir(l)&&b.push(i.headsStartAt,i.tailsEndAt,l)}else{var u=yr(d[a]=s,g,t,m,c,a.trim());ir(u)&&b.push(i.headsStartAt,i.tailsEndAt,u)}}}}var n=void 0;try{n=Vt(y,g.heads,g.tails,{source:"",throwWhenSomethingWrongIsDetected:!1})}catch(e){throw new Error('json-variables/resolveString(): [THROW_ID_17] While trying to resolve string: "'+y+'" at path '+p+", something wrong with heads and tails was detected! Here's the internal error message:\n"+e)}var o=!1;1===n.length&&""===Xt(y,[n[0].headsStartAt,n[0].tailsEndAt]).trim()&&(o=!0);var i=r(n,!1,o);if(ar(i))return i;if(sr(i))return i;try{n=Vt(y,g.headsNoWrap,g.tailsNoWrap,{source:"",throwWhenSomethingWrongIsDetected:!1})}catch(e){throw new Error('json-variables/resolveString(): [THROW_ID_22] While trying to resolve string: "'+y+'" at path '+p+", something wrong with no-wrap heads and no-wrap tails was detected! Here's the internal error message:\n"+e)}1===n.length&&""===Xt(y,[n[0].headsStartAt,n[0].tailsEndAt]).trim()&&(o=!0);var a=r(n,!0,o);return ar(a)?a:sr(a)?a:b&&b.current()?Xt(y,b.current()):y}(n,s,r.path,o):s})}});
