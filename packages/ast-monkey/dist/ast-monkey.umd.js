!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.astMonkey={})}(this,function(e){"use strict";function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}function r(e){return e!=e}function n(e,t){return function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(t,function(t){return e[t]})}function o(e,t){var r=Ne(e)||function(e){return function(e){return c(e)&&a(e)}(e)&&Se.call(e,"callee")&&(!Ae.call(e,"callee")||xe.call(e)==pe)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var i in e)!t&&!Se.call(e,i)||o&&("length"==i||function(e,t){return!!(t=null==t?fe:t)&&("number"==typeof e||_e.test(e))&&e>-1&&e%1==0&&e<t}(i,n))||r.push(i);return r}function i(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||ke;return e===r}(e))return Te(e);var t=[];for(var r in Object(e))Se.call(e,r)&&"constructor"!=r&&t.push(r);return t}function a(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=fe}(e.length)&&!function(e){var t=s(e)?xe.call(e):"";return t==he||t==de}(e)}function s(e){var t=void 0===e?"undefined":ce(e);return!!e&&("object"==t||"function"==t)}function c(e){return!!e&&"object"==(void 0===e?"undefined":ce(e))}function u(e){return e!=e}function f(e,t,r,n){var o=n?function(e,t,r,n){for(var o=r-1,i=e.length;++o<i;)if(n(e[o],t))return o;return-1}:function(e,t,r){if(t!=t)return function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,u,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1},i=-1,a=t.length,s=e;for(e===t&&(t=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(t)),r&&(s=function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(e,function(e){return function(t){return e(t)}}(r)));++i<a;)for(var c=0,f=t[i],l=r?r(f):f;(c=o(s,l,c,n))>-1;)s!==e&&We.call(s,c,1),We.call(e,c,1);return e}function l(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var o=e.length,i=r+(n?1:-1);for(;n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,p,r);var n=r-1,o=e.length;for(;++n<o;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function y(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function p(e){return e!=e}function h(e){return function(t){return e(t)}}function d(e,t){return e.has(t)}function g(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function m(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function b(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function v(e){var t=-1,r=e?e.length:0;for(this.__data__=new b;++t<r;)this.add(e[t])}function w(e,t){for(var r=e.length;r--;)if(function(e,t){return e===t||e!=e&&t!=t}(e[r][0],t))return r;return-1}function j(e){if(!x(e)||function(e){return!!Ue&&Ue in e}(e))return!1;return(S(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?Ye:$e).test(function(e){if(null!=e){try{return Ge.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function _(e){return function(e){return function(e){return!!e&&"object"==(void 0===e?"undefined":Je(e))}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ke}(e.length)&&!S(e)}(e)}(e)?e:[]}function O(e,t){var r=e.__data__;return function(e){var t=void 0===e?"undefined":Je(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function k(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return j(r)?r:void 0}function S(e){var t=x(e)?Xe.call(e):"";return t==Ce||t==Le}function x(e){var t=void 0===e?"undefined":Je(e);return!!e&&("object"==t||"function"==t)}function A(e){return"string"==typeof e?e.length>0?[e]:[]:e}function T(e,t,r){function n(e){return null!=e}function o(e){return"boolean"===Ve(e)}function i(e){return"string"===Ve(e)}function a(e){return"Object"===Ve(e)}var s=["any","anything","every","everything","all","whatever","whatevs"],c=Array.isArray;if(0===arguments.length)throw new Error("check-types-mini/checkTypes(): Missing all arguments!");if(1===arguments.length)throw new Error("check-types-mini/checkTypes(): Missing second argument!");var u=a(t)?t:{},f={ignoreKeys:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini/checkTypes()",optsVarName:"opts"},l=void 0;if(l=n(r)&&a(r)?Object.assign({},f,r):Object.assign({},f),!i(l.msg))throw new Error("check-types-mini/checkTypes(): opts.msg must be string! Currently it's: "+Ve(l.msg)+", equal to "+JSON.stringify(l.msg,null,4));if(l.msg=l.msg.trim(),":"===l.msg[l.msg.length-1]&&(l.msg=l.msg.slice(0,l.msg.length-1)),!i(l.optsVarName))throw new Error("check-types-mini/checkTypes(): opts.optsVarName must be string! Currently it's: "+Ve(l.optsVarName)+", equal to "+JSON.stringify(l.optsVarName,null,4));if(l.ignoreKeys=A(l.ignoreKeys),l.acceptArraysIgnore=A(l.acceptArraysIgnore),!c(l.ignoreKeys))throw new TypeError("check-types-mini/checkTypes(): opts.ignoreKeys should be an array, currently it's: "+Ve(l.ignoreKeys));if(!o(l.acceptArrays))throw new TypeError("check-types-mini/checkTypes(): opts.acceptArrays should be a Boolean, currently it's: "+Ve(l.acceptArrays));if(!c(l.acceptArraysIgnore))throw new TypeError("check-types-mini/checkTypes(): opts.acceptArraysIgnore should be an array, currently it's: "+Ve(l.acceptArraysIgnore));if(!o(l.enforceStrictKeyset))throw new TypeError("check-types-mini/checkTypes(): opts.enforceStrictKeyset should be a Boolean, currently it's: "+Ve(l.enforceStrictKeyset));if(Object.keys(l.schema).forEach(function(e){c(l.schema[e])||(l.schema[e]=[l.schema[e]]),l.schema[e]=l.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),l.enforceStrictKeyset)if(n(l.schema)&&Object.keys(l.schema).length>0){if(0!==Me(Object.keys(e),Object.keys(u).concat(Object.keys(l.schema))).length)throw new TypeError(l.msg+": "+l.optsVarName+".enforceStrictKeyset is on and the following keys are not covered by schema and/or reference objects: "+JSON.stringify(Me(Object.keys(e),Object.keys(u).concat(Object.keys(l.schema))),null,4))}else{if(!(n(u)&&Object.keys(u).length>0))throw new TypeError(l.msg+": Both "+l.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==Me(Object.keys(e),Object.keys(u)).length)throw new TypeError(l.msg+": The input object has keys that are not covered by reference object: "+JSON.stringify(Me(Object.keys(e),Object.keys(u)),null,4));if(0!==Me(Object.keys(u),Object.keys(e)).length)throw new TypeError(l.msg+": The reference object has keys that are not present in the input object: "+JSON.stringify(Me(Object.keys(u),Object.keys(e)),null,4))}Object.keys(e).forEach(function(t){if(n(l.schema)&&Object.prototype.hasOwnProperty.call(l.schema,t)){if(l.schema[t]=A(l.schema[t]).map(String).map(function(e){return e.toLowerCase()}),!it(l.schema[t],s).length&&!Ie(l.schema[t],Ve(e[t]).toLowerCase())){if(!c(e[t])||!l.acceptArrays)throw new TypeError(l.msg+": "+l.optsVarName+"."+t+" was customised to "+JSON.stringify(e[t],null,4)+" which is not among the allowed types in schema ("+l.schema[t]+") but "+Ve(e[t]));for(var r=0,o=e[t].length;r<o;r++)if(!Ie(l.schema[t],Ve(e[t][r]).toLowerCase()))throw new TypeError(l.msg+": "+l.optsVarName+"."+t+" is of type "+Ve(e[t][r]).toLowerCase()+", but only the following are allowed in "+l.optsVarName+".schema: "+l.schema[t])}}else if(n(u)&&Object.prototype.hasOwnProperty.call(u,t)&&Ve(e[t])!==Ve(u[t])&&!Ie(l.ignoreKeys,t)){if(!l.acceptArrays||!c(e[t])||Ie(l.acceptArraysIgnore,t))throw new TypeError(l.msg+": "+l.optsVarName+"."+t+" was customised to "+JSON.stringify(e[t],null,4)+" which is not "+Ve(u[t])+" but "+Ve(e[t]));if(!e[t].every(function(e){return Ve(e)===Ve(u[t])}))throw new TypeError(l.msg+": "+l.optsVarName+"."+t+" was customised to be array, but not all of its elements are "+Ve(u[t])+"-type")}})}function E(e,t,r){if(t!=t)return function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,N,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}function N(e){return e!=e}function I(e){return function(e){return It.test(e)}(e)?function(e){return e.match(Nt)||[]}(e):function(e){return e.split("")}(e)}function P(e){if("string"==typeof e)return e;if(function(e){return"symbol"==(void 0===e?"undefined":ht(e))||function(e){return!!e&&"object"==(void 0===e?"undefined":ht(e))}(e)&&Mt.call(e)==gt}(e))return Kt?Kt.call(e):"";var t=e+"";return"0"==t&&1/e==-dt?"-0":t}function V(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}(e,t,r)}function W(e){return null!=e}function M(e){return void 0!==e}function J(e,t){function r(e,t,n){var o=Q(e),i=void 0,a=void 0,s=void 0,c=void 0,u=void 0;if(n=Object.assign({depth:-1},n),n.depth+=1,Rt(o))for(i=0,a=o.length;i<a;i++)void 0!==o[i]?(n.parent=Q(o),s=r(t(o[i],void 0,n),t,n),Number.isNaN(s)&&i<o.length?(o.splice(i,1),i-=1):o[i]=s):o.splice(i,1);else if(se(o))for(i=0,a=(c=Object.keys(o)).length;i<a;i++)u=c[i],0===n.depth&&W(u)&&(n.topmostKey=u),n.parent=Q(o),s=r(t(u,o[u],n),t,n),Number.isNaN(s)?delete o[u]:o[u]=s;return o}return r(e,t,{})}function F(e,t){if(!W(e))throw new Error("ast-monkey/index.js/monkey(): Please provide an input");var r=Q(e);t=Object.assign({key:null,val:void 0},t),(Dt||"info"===t.mode)&&console.log("mode: "+t.mode);var n={count:0,gatherPath:[],finding:null},o=[],i=!1,a=!1;return W(t.key)&&!M(t.val)&&(i=!0),!W(t.key)&&M(t.val)&&(a=!0),(Dt||"info"===t.mode)&&console.log("ORIGINAL INPUT:\ninput = "+JSON.stringify(r,null,4)+"\n========================"),(Dt||"info"===t.mode)&&console.log("-----------"),"arrayFirstOnly"===t.mode&&Array.isArray(r)&&r.length>0&&(r=[r[0]]),r=J(r,function(e,r,s){var c=void 0;if(n.count+=1,(Dt||"info"===t.mode)&&console.log("    #"+n.count+"\n"),(Dt||"info"===t.mode)&&console.log("key = "+JSON.stringify(e,null,4)),(Dt||"info"===t.mode)&&console.log("val = "+JSON.stringify(r,null,4)),n.gatherPath.length=s.depth,n.gatherPath.push(n.count),(Dt||"info"===t.mode)&&console.log("data.gatherPath = "+JSON.stringify(n.gatherPath,null,4)),"get"===t.mode)n.count===t.index&&(M(r)?(n.finding={},n.finding[e]=r):n.finding=e);else if("find"===t.mode||"del"===t.mode){if(!(i&&e===t.key||a&&$t(r,t.val)||!i&&!a&&e===t.key&&$t(r,t.val))||!("any"===t.only||"array"===t.only&&void 0===r||"object"===t.only&&void 0!==r))return void 0!==r?r:e;if("find"!==t.mode)return NaN;(c={}).index=n.count,c.key=e,c.val=r,c.path=Q(n.gatherPath),o.push(c)}return(Dt||"info"===t.mode)&&console.log("-----------"),"set"===t.mode&&n.count===t.index?t.val:"drop"===t.mode&&n.count===t.index?NaN:"arrayFirstOnly"===t.mode?M(r)&&Array.isArray(r)?[r[0]]:W(e)&&Array.isArray(e)?[e[0]]:void 0!==r?r:e:void 0!==r?r:e}),"get"===t.mode?n.finding:"find"===t.mode?o.length>0?o:null:r}function K(e){return"Object"===Ve(e)}function C(e){return"string"===Ve(e)}function L(e){return"number"===Ve(e)}function $(e){return"boolean"===Ve(e)}function z(e){return null===e}function R(e,t,r){if(void 0===e)throw new TypeError("ast-compare/compare(): [THROW_ID_01] first argument is missing!");if(void 0===t)throw new TypeError("ast-compare/compare(): [THROW_ID_02] second argument is missing!");if(ir(e)&&!ur(e))throw new TypeError("ast-compare/compare(): [THROW_ID_03] first input argument is of a wrong type, "+Ve(e)+", equal to: "+JSON.stringify(e,null,4));if(ir(t)&&!ur(t))throw new TypeError("ast-compare/compare(): [THROW_ID_04] second input argument is of a wrong type, "+Ve(t)+", equal to: "+JSON.stringify(t,null,4));if(ir(r)&&!ar(r))throw new TypeError("ast-compare/compare(): [THROW_ID_05] third argument, options object, must, well, be an object! Currently it's: "+Ve(r)+" and equal to: "+JSON.stringify(r,null,4));var n=Q(t),o=Q(e),i=void 0,a=void 0,s=void 0,c=0,u={hungryForWhitespace:!1,matchStrictly:!1,verboseWhenMismatches:!1,useWildcards:!1},f=Object.assign({},u,r);if(T(f,u,{msg:"ast-compare/compare(): [THROW_ID_06*]"}),f.hungryForWhitespace&&f.matchStrictly&&ar(e)&&Ht(e)&&ar(t)&&0===Object.keys(t).length)return!0;if((!f.hungryForWhitespace||f.hungryForWhitespace&&!Ht(e)&&Ht(t))&&ar(e)&&0!==Object.keys(e).length&&ar(t)&&0===Object.keys(t).length||Ve(e)!==Ve(t)&&(!f.hungryForWhitespace||f.hungryForWhitespace&&!Ht(e)))return!1;if(sr(o)&&sr(n))return!!(f.hungryForWhitespace&&Ht(o)&&Ht(n))||(f.verboseWhenMismatches?o===n||"Given string "+n+" is not matched! We have "+o+" on the other end.":f.useWildcards?Gt.isMatch(o,n):o===n);if(fr(o)&&fr(n)){if(f.hungryForWhitespace&&Ht(n)&&(!f.matchStrictly||f.matchStrictly&&o.length===n.length))return!0;if(!f.hungryForWhitespace&&n.length>o.length||f.matchStrictly&&n.length!==o.length)return!!f.verboseWhenMismatches&&"The length of a given array, "+JSON.stringify(n,null,4)+" is "+n.length+" but the length of an array on the other end, "+JSON.stringify(o,null,4)+" is "+o.length;if(0===n.length)return 0===o.length||!!f.verboseWhenMismatches&&"The given array has no elements, but the array on the other end, "+JSON.stringify(o,null,4)+" does have some";for(var l=0,y=n.length;l<y;l++){s=!1;for(var p=c,h=o.length;p<h;p++)if(c+=1,!0===R(o[p],n[l],f)){s=!0;break}if(!s)return!!f.verboseWhenMismatches&&"The given array "+JSON.stringify(n,null,4)+" is not a subset of an array on the other end, "+JSON.stringify(o,null,4)}}else{if(!ar(o)||!ar(n))return!!(f.hungryForWhitespace&&Ht(o)&&Ht(n)&&(!f.matchStrictly||f.matchStrictly&&cr(n)))||o===n;if(i=Object.keys(n),a=Object.keys(o),f.matchStrictly&&i.length!==a.length){if(!f.verboseWhenMismatches)return!1;var d=Me(Q(i),Q(a)),g=d.length>0?"First object has unique keys: "+JSON.stringify(d,null,4)+".":"",m=Me(Q(a),Q(i));return"When matching strictly, we found that both objects have different amount of keys. "+g+" "+(m.length>0?"Second object has unique keys:\n        "+JSON.stringify(m,null,4)+".":"")}for(var b=function(e,t){if(!ir(o[i[t]]))return!f.useWildcards||f.useWildcards&&!i[t].includes("*")?f.verboseWhenMismatches?{v:"The given object has key "+i[t]+" which the other-one does not have."}:{v:!1}:Object.keys(o).some(function(e){return Gt.isMatch(e,i[t])})?{v:!0}:f.verboseWhenMismatches?{v:"The given object has key "+i[t]+" which the other-one does not have."}:{v:!1};if(void 0!==o[i[t]]&&!ur(o[i[t]]))throw new TypeError("ast-compare/compare(): [THROW_ID_07] The input "+JSON.stringify(o,null,4)+" contains a value of a wrong type, "+Ve(o[i[t]])+" at index "+t+", equal to: "+JSON.stringify(o[i[t]],null,4));if(!ur(n[i[t]]))throw new TypeError("ast-compare/compare(): [THROW_ID_08] The input "+JSON.stringify(n,null,4)+" contains a value of a wrong type, "+Ve(n[i[t]])+" at index "+t+", equal to: "+JSON.stringify(n[i[t]],null,4));if(ir(o[i[t]])&&Ve(o[i[t]])!==Ve(n[i[t]])){if(!(Ht(o[i[t]])&&Ht(n[i[t]])&&f.hungryForWhitespace))return f.verboseWhenMismatches?{v:"The given key "+i[t]+" is of a different type on both objects. On the first-one, it's "+Ve(n[i[t]])+", on the second-one, it's "+Ve(o[i[t]])}:{v:!1}}else if(!0!==R(o[i[t]],n[i[t]],f))return f.verboseWhenMismatches?{v:"The given piece "+JSON.stringify(n[i[t]],null,4)+" and "+JSON.stringify(o[i[t]],null,4)+" don't match."}:{v:!1}},v=0,w=i.length;v<w;v++){var j=b(0,v);if("object"===(void 0===j?"undefined":or(j)))return j.v}}return!0}function D(e){return null!=e}function B(e){return void 0!==e}function H(e,t){return Ve(e)===Ve(t)&&R(e,t,{matchStrictly:!0,useWildcards:!0})}function q(e,t){function r(e,t,n){var o=Q(e),i=void 0,a=void 0,s=void 0,c=void 0,u=void 0;if(n=Object.assign({depth:-1},n),n.depth+=1,lr(o))for(i=0,a=o.length;i<a;i++)void 0!==o[i]?(n.parent=Q(o),s=r(t(o[i],void 0,n),t,n),Number.isNaN(s)&&i<o.length?(o.splice(i,1),i-=1):o[i]=s):o.splice(i,1);else if(se(o))for(i=0,a=(c=Object.keys(o)).length;i<a;i++)u=c[i],0===n.depth&&D(u)&&(n.topmostKey=u),n.parent=Q(o),s=r(t(u,o[u],n),t,n),Number.isNaN(s)?delete o[u]:o[u]=s;return o}return r(e,t,{})}function Z(e,t){if(!D(e))throw new Error("ast-monkey/index.js/monkey(): Please provide an input");var r=Q(e);t=Object.assign({key:null,val:void 0},t),(yr||"info"===t.mode)&&console.log("mode: "+t.mode);var n={count:0,gatherPath:[],finding:null},o=[],i=!1,a=!1;return D(t.key)&&!B(t.val)&&(i=!0),!D(t.key)&&B(t.val)&&(a=!0),(yr||"info"===t.mode)&&console.log("ORIGINAL INPUT:\ninput = "+JSON.stringify(r,null,4)+"\n========================"),(yr||"info"===t.mode)&&console.log("-----------"),"arrayFirstOnly"===t.mode&&Array.isArray(r)&&r.length>0&&(r=[r[0]]),r=q(r,function(e,r,s){var c=void 0;if(n.count+=1,(yr||"info"===t.mode)&&console.log("    #"+n.count+"\n"),(yr||"info"===t.mode)&&console.log("key = "+JSON.stringify(e,null,4)),(yr||"info"===t.mode)&&console.log("val = "+JSON.stringify(r,null,4)),n.gatherPath.length=s.depth,n.gatherPath.push(n.count),(yr||"info"===t.mode)&&console.log("data.gatherPath = "+JSON.stringify(n.gatherPath,null,4)),"get"===t.mode)n.count===t.index&&(B(r)?(n.finding={},n.finding[e]=r):n.finding=e);else if("find"===t.mode||"del"===t.mode){if(!("any"===t.only||"array"===t.only&&void 0===r||"object"===t.only&&void 0!==r)||!(i&&H(e,t.key)||a&&H(r,t.val)||!i&&!a&&H(e,t.key)&&H(r,t.val)))return void 0!==r?r:e;if("find"!==t.mode)return NaN;(c={}).index=n.count,c.key=e,c.val=r,c.path=Q(n.gatherPath),o.push(c)}return(yr||"info"===t.mode)&&console.log("-----------"),"set"===t.mode&&n.count===t.index?t.val:"drop"===t.mode&&n.count===t.index?NaN:"arrayFirstOnly"===t.mode?B(r)&&Array.isArray(r)?[r[0]]:D(e)&&Array.isArray(e)?[e[0]]:void 0!==r?r:e:void 0!==r?r:e}),"get"===t.mode?n.finding:"find"===t.mode?o.length>0?o:null:r}var U="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q=t(function(e,t){function r(e,t){return e.set(t[0],t[1]),e}function n(e,t){return e.add(t),e}function o(e,t,r,n){var o=-1,i=e?e.length:0;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function i(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function a(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function s(e,t){return function(r){return e(t(r))}}function c(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function u(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function f(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function l(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function y(e){this.__data__=new f(e)}function p(e,t){var r=Ue(e)||function(e){return function(e){return function(e){return!!e&&"object"==(void 0===e?"undefined":G(e))}(e)&&S(e)}(e)&&je.call(e,"callee")&&(!Ee.call(e,"callee")||_e.call(e)==P)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var i in e)!t&&!je.call(e,i)||o&&("length"==i||function(e,t){return!!(t=null==t?I:t)&&("number"==typeof e||se.test(e))&&e>-1&&e%1==0&&e<t}(i,n))||r.push(i);return r}function h(e,t,r){var n=e[t];je.call(e,t)&&k(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function d(e,t){for(var r=e.length;r--;)if(k(e[r][0],t))return r;return-1}function g(e,t,s,u,f,l,p){var d;if(u&&(d=l?u(e,f,l,p):u(e)),void 0!==d)return d;if(!A(e))return e;var m=Ue(e);if(m){if(d=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&je.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(e,d)}else{var w=Ze(e),j=w==M||w==J;if(Ge(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(w==C||w==P||j&&!l){if(i(e))return l?e:{};if(d=function(e){return"function"!=typeof e.constructor||_(e)?{}:function(e){return A(e)?Te(e):{}}(Ae(e))}(j?{}:e),!t)return function(e,t){return v(e,qe(e),t)}(e,function(e,t){return e&&v(t,T(t),e)}(d,e))}else{if(!ce[w])return l?e:{};d=function(e,t,i,s){var u=e.constructor;switch(t){case H:return b(e);case V:case W:return new u(+e);case q:return function(e,t){var r=t?b(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,s);case Z:case Q:case X:case Y:case ee:case te:case re:case ne:case oe:return function(e,t){var r=t?b(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,s);case F:return function(e,t,n){return o(t?n(a(e),!0):a(e),r,new e.constructor)}(e,s,i);case K:case R:return new u(e);case $:return function(e){var t=new e.constructor(e.source,ie.exec(e));return t.lastIndex=e.lastIndex,t}(e);case z:return function(e,t,r){return o(t?r(c(e),!0):c(e),n,new e.constructor)}(e,s,i);case D:return function(e){return He?Object(He.call(e)):{}}(e)}}(e,w,g,t)}}p||(p=new y);var O=p.get(e);if(O)return O;if(p.set(e,d),!m)var k=s?function(e){return function(e,t,r){var n=t(e);return Ue(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,T,qe)}(e):T(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(k||e,function(r,n){k&&(r=e[n=r]),h(d,n,g(r,t,s,u,n,e,p))}),d}function m(e){if(!A(e)||function(e){return!!ve&&ve in e}(e))return!1;return(x(e)||i(e)?Oe:ae).test(O(e))}function b(e){var t=new e.constructor(e.byteLength);return new xe(t).set(new xe(e)),t}function v(e,t,r,n){r||(r={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=n?n(r[a],e[a],a,r,e):void 0;h(r,a,void 0===s?e[a]:s)}return r}function w(e,t){var r=e.__data__;return function(e){var t=void 0===e?"undefined":G(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function j(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return m(r)?r:void 0}function _(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||me)}function O(e){if(null!=e){try{return we.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function k(e,t){return e===t||e!=e&&t!=t}function S(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=I}(e.length)&&!x(e)}function x(e){var t=A(e)?_e.call(e):"";return t==M||t==J}function A(e){var t=void 0===e?"undefined":G(e);return!!e&&("object"==t||"function"==t)}function T(e){return S(e)?p(e):function(e){if(!_(e))return Ve(e);var t=[];for(var r in Object(e))je.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}var E=200,N="__lodash_hash_undefined__",I=9007199254740991,P="[object Arguments]",V="[object Boolean]",W="[object Date]",M="[object Function]",J="[object GeneratorFunction]",F="[object Map]",K="[object Number]",C="[object Object]",L="[object Promise]",$="[object RegExp]",z="[object Set]",R="[object String]",D="[object Symbol]",B="[object WeakMap]",H="[object ArrayBuffer]",q="[object DataView]",Z="[object Float32Array]",Q="[object Float64Array]",X="[object Int8Array]",Y="[object Int16Array]",ee="[object Int32Array]",te="[object Uint8Array]",re="[object Uint8ClampedArray]",ne="[object Uint16Array]",oe="[object Uint32Array]",ie=/\w*$/,ae=/^\[object .+?Constructor\]$/,se=/^(?:0|[1-9]\d*)$/,ce={};ce[P]=ce["[object Array]"]=ce[H]=ce[q]=ce[V]=ce[W]=ce[Z]=ce[Q]=ce[X]=ce[Y]=ce[ee]=ce[F]=ce[K]=ce[C]=ce[$]=ce[z]=ce[R]=ce[D]=ce[te]=ce[re]=ce[ne]=ce[oe]=!0,ce["[object Error]"]=ce[M]=ce[B]=!1;var ue="object"==G(U)&&U&&U.Object===Object&&U,fe="object"==("undefined"==typeof self?"undefined":G(self))&&self&&self.Object===Object&&self,le=ue||fe||Function("return this")(),ye=t&&!t.nodeType&&t,pe=ye&&e&&!e.nodeType&&e,he=pe&&pe.exports===ye,de=Array.prototype,ge=Function.prototype,me=Object.prototype,be=le["__core-js_shared__"],ve=function(){var e=/[^.]+$/.exec(be&&be.keys&&be.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),we=ge.toString,je=me.hasOwnProperty,_e=me.toString,Oe=RegExp("^"+we.call(je).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ke=he?le.Buffer:void 0,Se=le.Symbol,xe=le.Uint8Array,Ae=s(Object.getPrototypeOf,Object),Te=Object.create,Ee=me.propertyIsEnumerable,Ne=de.splice,Ie=Object.getOwnPropertySymbols,Pe=ke?ke.isBuffer:void 0,Ve=s(Object.keys,Object),We=j(le,"DataView"),Me=j(le,"Map"),Je=j(le,"Promise"),Fe=j(le,"Set"),Ke=j(le,"WeakMap"),Ce=j(Object,"create"),Le=O(We),$e=O(Me),ze=O(Je),Re=O(Fe),De=O(Ke),Be=Se?Se.prototype:void 0,He=Be?Be.valueOf:void 0;u.prototype.clear=function(){this.__data__=Ce?Ce(null):{}},u.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},u.prototype.get=function(e){var t=this.__data__;if(Ce){var r=t[e];return r===N?void 0:r}return je.call(t,e)?t[e]:void 0},u.prototype.has=function(e){var t=this.__data__;return Ce?void 0!==t[e]:je.call(t,e)},u.prototype.set=function(e,t){return this.__data__[e]=Ce&&void 0===t?N:t,this},f.prototype.clear=function(){this.__data__=[]},f.prototype.delete=function(e){var t=this.__data__,r=d(t,e);return!(r<0||(r==t.length-1?t.pop():Ne.call(t,r,1),0))},f.prototype.get=function(e){var t=this.__data__,r=d(t,e);return r<0?void 0:t[r][1]},f.prototype.has=function(e){return d(this.__data__,e)>-1},f.prototype.set=function(e,t){var r=this.__data__,n=d(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},l.prototype.clear=function(){this.__data__={hash:new u,map:new(Me||f),string:new u}},l.prototype.delete=function(e){return w(this,e).delete(e)},l.prototype.get=function(e){return w(this,e).get(e)},l.prototype.has=function(e){return w(this,e).has(e)},l.prototype.set=function(e,t){return w(this,e).set(e,t),this},y.prototype.clear=function(){this.__data__=new f},y.prototype.delete=function(e){return this.__data__.delete(e)},y.prototype.get=function(e){return this.__data__.get(e)},y.prototype.has=function(e){return this.__data__.has(e)},y.prototype.set=function(e,t){var r=this.__data__;if(r instanceof f){var n=r.__data__;if(!Me||n.length<E-1)return n.push([e,t]),this;r=this.__data__=new l(n)}return r.set(e,t),this};var qe=Ie?s(Ie,Object):function(){return[]},Ze=function(e){return _e.call(e)};(We&&Ze(new We(new ArrayBuffer(1)))!=q||Me&&Ze(new Me)!=F||Je&&Ze(Je.resolve())!=L||Fe&&Ze(new Fe)!=z||Ke&&Ze(new Ke)!=B)&&(Ze=function(e){var t=_e.call(e),r=t==C?e.constructor:void 0,n=r?O(r):void 0;if(n)switch(n){case Le:return q;case $e:return F;case ze:return L;case Re:return z;case De:return B}return t});var Ue=Array.isArray,Ge=Pe||function(){return!1};e.exports=function(e){return g(e,!0,!0)}}),X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y="[object Object]",ee=Function.prototype,te=Object.prototype,re=ee.toString,ne=te.hasOwnProperty,oe=re.call(Object),ie=te.toString,ae=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object),se=function(e){if(!function(e){return!!e&&"object"==(void 0===e?"undefined":X(e))}(e)||ie.call(e)!=Y||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=ae(e);if(null===t)return!0;var r=ne.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&re.call(r)==oe},ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue=1/0,fe=9007199254740991,le=1.7976931348623157e308,ye=NaN,pe="[object Arguments]",he="[object Function]",de="[object GeneratorFunction]",ge="[object String]",me="[object Symbol]",be=/^\s+|\s+$/g,ve=/^[-+]0x[0-9a-f]+$/i,we=/^0b[01]+$/i,je=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,Oe=parseInt,ke=Object.prototype,Se=ke.hasOwnProperty,xe=ke.toString,Ae=ke.propertyIsEnumerable,Te=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),Ee=Math.max,Ne=Array.isArray,Ie=function(e,t,u,f){e=a(e)?e:function(e){return e?n(e,function(e){return a(e)?o(e):i(e)}(e)):[]}(e),u=u&&!f?function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==(void 0===e?"undefined":ce(e))||c(e)&&xe.call(e)==me}(e))return ye;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(be,"");var r=we.test(e);return r||je.test(e)?Oe(e.slice(2),r?2:8):ve.test(e)?ye:+e}(e))===ue||e===-ue){var t=e<0?-1:1;return t*le}return e==e?e:0}(e),r=t%1;return t==t?r?t-r:t:0}(u):0;var l=e.length;return u<0&&(u=Ee(l+u,0)),function(e){return"string"==typeof e||!Ne(e)&&c(e)&&xe.call(e)==ge}(e)?u<=l&&e.indexOf(t,u)>-1:!!l&&function(e,t,n){if(t!=t)return function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,r,n);for(var o=n-1,i=e.length;++o<i;)if(e[o]===t)return o;return-1}(e,t,u)>-1},Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve=t(function(e,t){e.exports=function(){var e="function"==typeof Promise,t="object"===("undefined"==typeof self?"undefined":Pe(self))?self:U,r="object"===("undefined"==typeof window?"undefined":Pe(window))&&"document"in window&&"navigator"in window&&"HTMLElement"in window,n="undefined"!=typeof Symbol,o="undefined"!=typeof Map,i="undefined"!=typeof Set,a="undefined"!=typeof WeakMap,s="undefined"!=typeof WeakSet,c="undefined"!=typeof DataView,u=n&&void 0!==Symbol.iterator,f=n&&void 0!==Symbol.toStringTag,l=i&&"function"==typeof Set.prototype.entries,y=o&&"function"==typeof Map.prototype.entries,p=l&&Object.getPrototypeOf((new Set).entries()),h=y&&Object.getPrototypeOf((new Map).entries()),d=u&&"function"==typeof Array.prototype[Symbol.iterator],g=d&&Object.getPrototypeOf([][Symbol.iterator]()),m=u&&"function"==typeof String.prototype[Symbol.iterator],b=m&&Object.getPrototypeOf(""[Symbol.iterator]()),v=8,w=-1;return function(n){var u=void 0===n?"undefined":Pe(n);if("object"!==u)return u;if(null===n)return"null";if(n===t)return"global";if(Array.isArray(n)&&(!1===f||!(Symbol.toStringTag in n)))return"Array";if(r){if(n===t.location)return"Location";if(n===t.document)return"Document";if(n===(t.navigator||{}).mimeTypes)return"MimeTypeArray";if(n===(t.navigator||{}).plugins)return"PluginArray";if(n instanceof t.HTMLElement&&"BLOCKQUOTE"===n.tagName)return"HTMLQuoteElement";if(n instanceof t.HTMLElement&&"TD"===n.tagName)return"HTMLTableDataCellElement";if(n instanceof t.HTMLElement&&"TH"===n.tagName)return"HTMLTableHeaderCellElement"}var l=f&&n[Symbol.toStringTag];if("string"==typeof l)return l;var y=Object.getPrototypeOf(n);if(y===RegExp.prototype)return"RegExp";if(y===Date.prototype)return"Date";if(e&&y===Promise.prototype)return"Promise";if(i&&y===Set.prototype)return"Set";if(o&&y===Map.prototype)return"Map";if(s&&y===WeakSet.prototype)return"WeakSet";if(a&&y===WeakMap.prototype)return"WeakMap";if(c&&y===DataView.prototype)return"DataView";if(o&&y===h)return"Map Iterator";if(i&&y===p)return"Set Iterator";if(d&&y===g)return"Array Iterator";if(m&&y===b)return"String Iterator";if(null===y)return"Object";return Object.prototype.toString.call(n).slice(v,w)}}()}),We=Array.prototype.splice,Me=function(e,t){return e&&e.length&&t&&t.length?f(e,t):e},Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe="__lodash_hash_undefined__",Ke=9007199254740991,Ce="[object Function]",Le="[object GeneratorFunction]",$e=/^\[object .+?Constructor\]$/,ze="object"==Je(U)&&U&&U.Object===Object&&U,Re="object"==("undefined"==typeof self?"undefined":Je(self))&&self&&self.Object===Object&&self,De=ze||Re||Function("return this")(),Be=Array.prototype,He=Function.prototype,qe=Object.prototype,Ze=De["__core-js_shared__"],Ue=function(){var e=/[^.]+$/.exec(Ze&&Ze.keys&&Ze.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ge=He.toString,Qe=qe.hasOwnProperty,Xe=qe.toString,Ye=RegExp("^"+Ge.call(Qe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=Be.splice,tt=Math.max,rt=Math.min,nt=k(De,"Map"),ot=k(Object,"create");g.prototype.clear=function(){this.__data__=ot?ot(null):{}},g.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},g.prototype.get=function(e){var t=this.__data__;if(ot){var r=t[e];return r===Fe?void 0:r}return Qe.call(t,e)?t[e]:void 0},g.prototype.has=function(e){var t=this.__data__;return ot?void 0!==t[e]:Qe.call(t,e)},g.prototype.set=function(e,t){return this.__data__[e]=ot&&void 0===t?Fe:t,this},m.prototype.clear=function(){this.__data__=[]},m.prototype.delete=function(e){var t=this.__data__,r=w(t,e);return!(r<0||(r==t.length-1?t.pop():et.call(t,r,1),0))},m.prototype.get=function(e){var t=this.__data__,r=w(t,e);return r<0?void 0:t[r][1]},m.prototype.has=function(e){return w(this.__data__,e)>-1},m.prototype.set=function(e,t){var r=this.__data__,n=w(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},b.prototype.clear=function(){this.__data__={hash:new g,map:new(nt||m),string:new g}},b.prototype.delete=function(e){return O(this,e).delete(e)},b.prototype.get=function(e){return O(this,e).get(e)},b.prototype.has=function(e){return O(this,e).has(e)},b.prototype.set=function(e,t){return O(this,e).set(e,t),this},v.prototype.add=v.prototype.push=function(e){return this.__data__.set(e,Fe),this},v.prototype.has=function(e){return this.__data__.has(e)};var it=function(e,t){return t=tt(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,o=tt(r.length-t,0),i=Array(o);++n<o;)i[n]=r[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=r[n];return a[t]=i,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,a)}}(function(e){var t=y(e,_);return t.length&&t[0]===e[0]?function(e,t,r){for(var n=r?function(e,t,r){for(var n=-1,o=e?e.length:0;++n<o;)if(r(t,e[n]))return!0;return!1}:l,o=e[0].length,i=e.length,a=i,s=Array(i),c=1/0,u=[];a--;){var f=e[a];a&&t&&(f=y(f,h(t))),c=rt(f.length,c),s[a]=!r&&(t||o>=120&&f.length>=120)?new v(a&&f):void 0}f=e[0];var p=-1,g=s[0];e:for(;++p<o&&u.length<c;){var m=f[p],b=t?t(m):m;if(m=r||0!==m?m:0,!(g?d(g,b):n(u,b,r))){for(a=i;--a;){var w=s[a];if(!(w?d(w,b):n(e[a],b,r)))continue e}g&&g.push(b),u.push(m)}}return u}(t):[]}),at=Object.freeze({default:A}),st=at&&A||at,ct=function(e,t,r){function n(e){return null!=e}function o(e){return"boolean"===Ve(e)}function i(e){return"string"===Ve(e)}function a(e){return"Object"===Ve(e)}var s=["any","anything","every","everything","all","whatever","whatevs"],c=Array.isArray;if(0===arguments.length)throw new Error("check-types-mini/checkTypes(): Missing all arguments!");if(1===arguments.length)throw new Error("check-types-mini/checkTypes(): Missing second argument!");var u=a(t)?t:{},f={ignoreKeys:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini/checkTypes()",optsVarName:"opts"},l=void 0;if(l=n(r)&&a(r)?Object.assign({},f,r):Object.assign({},f),!i(l.msg))throw new Error("check-types-mini/checkTypes(): opts.msg must be string! Currently it's: "+Ve(l.msg)+", equal to "+JSON.stringify(l.msg,null,4));if(l.msg=l.msg.trim(),":"===l.msg[l.msg.length-1]&&(l.msg=l.msg.slice(0,l.msg.length-1)),!i(l.optsVarName))throw new Error("check-types-mini/checkTypes(): opts.optsVarName must be string! Currently it's: "+Ve(l.optsVarName)+", equal to "+JSON.stringify(l.optsVarName,null,4));if(l.ignoreKeys=st(l.ignoreKeys),l.acceptArraysIgnore=st(l.acceptArraysIgnore),!c(l.ignoreKeys))throw new TypeError("check-types-mini/checkTypes(): opts.ignoreKeys should be an array, currently it's: "+Ve(l.ignoreKeys));if(!o(l.acceptArrays))throw new TypeError("check-types-mini/checkTypes(): opts.acceptArrays should be a Boolean, currently it's: "+Ve(l.acceptArrays));if(!c(l.acceptArraysIgnore))throw new TypeError("check-types-mini/checkTypes(): opts.acceptArraysIgnore should be an array, currently it's: "+Ve(l.acceptArraysIgnore));if(!o(l.enforceStrictKeyset))throw new TypeError("check-types-mini/checkTypes(): opts.enforceStrictKeyset should be a Boolean, currently it's: "+Ve(l.enforceStrictKeyset));if(Object.keys(l.schema).forEach(function(e){c(l.schema[e])||(l.schema[e]=[l.schema[e]]),l.schema[e]=l.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),l.enforceStrictKeyset)if(n(l.schema)&&Object.keys(l.schema).length>0){if(0!==Me(Object.keys(e),Object.keys(u).concat(Object.keys(l.schema))).length)throw new TypeError(l.msg+": "+l.optsVarName+".enforceStrictKeyset is on and the following keys are not covered by schema and/or reference objects: "+JSON.stringify(Me(Object.keys(e),Object.keys(u).concat(Object.keys(l.schema))),null,4))}else{if(!(n(u)&&Object.keys(u).length>0))throw new TypeError(l.msg+": Both "+l.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==Me(Object.keys(e),Object.keys(u)).length)throw new TypeError(l.msg+": The input object has keys that are not covered by reference object: "+JSON.stringify(Me(Object.keys(e),Object.keys(u)),null,4));if(0!==Me(Object.keys(u),Object.keys(e)).length)throw new TypeError(l.msg+": The reference object has keys that are not present in the input object: "+JSON.stringify(Me(Object.keys(u),Object.keys(e)),null,4))}Object.keys(e).forEach(function(t){if(n(l.schema)&&Object.prototype.hasOwnProperty.call(l.schema,t)){if(l.schema[t]=st(l.schema[t]).map(String).map(function(e){return e.toLowerCase()}),!it(l.schema[t],s).length&&!Ie(l.schema[t],Ve(e[t]).toLowerCase())){if(!c(e[t])||!l.acceptArrays)throw new TypeError(l.msg+": "+l.optsVarName+"."+t+" was customised to "+JSON.stringify(e[t],null,4)+" which is not among the allowed types in schema ("+l.schema[t]+") but "+Ve(e[t]));for(var r=0,o=e[t].length;r<o;r++)if(!Ie(l.schema[t],Ve(e[t][r]).toLowerCase()))throw new TypeError(l.msg+": "+l.optsVarName+"."+t+" is of type "+Ve(e[t][r]).toLowerCase()+", but only the following are allowed in "+l.optsVarName+".schema: "+l.schema[t])}}else if(n(u)&&Object.prototype.hasOwnProperty.call(u,t)&&Ve(e[t])!==Ve(u[t])&&!Ie(l.ignoreKeys,t)){if(!l.acceptArrays||!c(e[t])||Ie(l.acceptArraysIgnore,t))throw new TypeError(l.msg+": "+l.optsVarName+"."+t+" was customised to "+JSON.stringify(e[t],null,4)+" which is not "+Ve(u[t])+" but "+Ve(e[t]));if(!e[t].every(function(e){return Ve(e)===Ve(u[t])}))throw new TypeError(l.msg+": "+l.optsVarName+"."+t+" was customised to be array, but not all of its elements are "+Ve(u[t])+"-type")}})},ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft="function"==typeof Symbol&&"symbol"===ut(Symbol.iterator)?function(e){return void 0===e?"undefined":ut(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":ut(e)},lt=function(e,t){function r(e){return null!=e}if(!r(e))throw new Error("util-array-object-or-both/validate(): [THROW_ID_01] Please provide a string to work on. Currently it's equal to "+JSON.stringify(e,null,4));if("string"!=typeof e)throw new Error("util-array-object-or-both/validate(): [THROW_ID_02] Input must be string! Currently it's "+(void 0===e?"undefined":ft(e))+", equal to: "+JSON.stringify(e,null,4));if(r(t)&&!se(t))throw new Error("util-array-object-or-both/validate(): [THROW_ID_03] Second argument, options object, must be, well, object! Currenlty it's: "+(void 0===t?"undefined":ft(t))+", equal to: "+JSON.stringify(t,null,4));var n={msg:"",optsVarName:"given variable"},o=Object.assign({},n,t);if(ct(o,n,{msg:"util-array-object-or-both/validate(): [THROW_ID_03]",optsVarName:"opts",schema:{msg:["string",null],optsVarName:["string",null]}}),r(o.msg)&&o.msg.length>0&&(o.msg=o.msg.trim()+" "),"given variable"!==o.optsVarName&&(o.optsVarName='variable "'+o.optsVarName+'"'),Ie(["object","objects","obj","ob","o"],e.toLowerCase().trim()))return"object";if(Ie(["array","arrays","arr","aray","arr","a"],e.toLowerCase().trim()))return"array";if(Ie(["any","all","everything","both","either","each","whatever","whatevs","e"],e.toLowerCase().trim()))return"any";throw new TypeError(o.msg+"The "+o.optsVarName+" was customised to an unrecognised value: "+e+". Please check it against the API documentation.")},yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pt=function(e,t){if(t){if("object"!==(void 0===t?"undefined":yt(t)))throw new TypeError(String(t)+" is not an object. Expected an object that has boolean `includeZero` property.");if("includeZero"in t){if("boolean"!=typeof t.includeZero)throw new TypeError(String(t.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(t.includeZero&&0===e)return!0}}return Number.isSafeInteger(e)&&e>=1},ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt=1/0,gt="[object Symbol]",mt=/^\s+|\s+$/g,bt="\\ud800-\\udfff",vt="\\u0300-\\u036f\\ufe20-\\ufe23",wt="["+bt+"]",jt="["+vt+"\\u20d0-\\u20f0]",_t="\\ud83c[\\udffb-\\udfff]",Ot="[^"+bt+"]",kt="(?:\\ud83c[\\udde6-\\uddff]){2}",St="[\\ud800-\\udbff][\\udc00-\\udfff]",xt="(?:"+jt+"|"+_t+")"+"?",At="[\\ufe0e\\ufe0f]?",Tt=At+xt+("(?:\\u200d(?:"+[Ot,kt,St].join("|")+")"+At+xt+")*"),Et="(?:"+[Ot+jt+"?",jt,kt,St,wt].join("|")+")",Nt=RegExp(_t+"(?="+_t+")|"+Et+Tt,"g"),It=RegExp("[\\u200d"+bt+vt+"\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Pt="object"==ht(U)&&U&&U.Object===Object&&U,Vt="object"==("undefined"==typeof self?"undefined":ht(self))&&self&&self.Object===Object&&self,Wt=Pt||Vt||Function("return this")(),Mt=Object.prototype.toString,Jt=Wt.Symbol,Ft=Jt?Jt.prototype:void 0,Kt=Ft?Ft.toString:void 0,Ct=function(e,t,r){if((e=function(e){return null==e?"":P(e)}(e))&&(r||void 0===t))return e.replace(mt,"");if(!e||!(t=P(t)))return e;var n=I(e),o=I(t);return V(n,function(e,t){for(var r=-1,n=e.length;++r<n&&E(t,e[r],0)>-1;);return r}(n,o),function(e,t){for(var r=e.length;r--&&E(t,e[r],0)>-1;);return r}(n,o)+1).join("")},Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t=t(function(e,t){function r(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function n(e,t){return e.has(t)}function o(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function i(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function a(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function u(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new c;++t<r;)this.add(e[t])}function f(e){var t=this.__data__=new s(e);this.size=t.size}function l(e,t){var r=Ue(e),n=!r&&Ze(e),o=!r&&!n&&Ge(e),i=!r&&!n&&!o&&Qe(e),a=r||n||o||i,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=s.length;for(var u in e)!t&&!we.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||function(e,t){return!!(t=null==t?V:t)&&("number"==typeof e||oe.test(e))&&e>-1&&e%1==0&&e<t}(u,c))||s.push(u);return s}function y(e,t){for(var r=e.length;r--;)if(O(e[r][0],t))return r;return-1}function p(e){return null==e?void 0===e?Y:D:Ee&&Ee in Object(e)?function(e){var t=we.call(e,Ee),r=e[Ee];try{e[Ee]=void 0;var n=!0}catch(e){}var o=_e.call(e);n&&(t?e[Ee]=r:delete e[Ee]);return o}(e):function(e){return _e.call(e)}(e)}function h(e){return A(e)&&p(e)==W}function d(e,t,r,n,a){return e===t||(null==e||null==t||!A(e)&&!A(t)?e!=e&&t!=t:function(e,t,r,n,a,s){var c=Ue(e),u=Ue(t),l=c?M:qe(e),y=u?M:qe(t),p=(l=l==W?B:l)==B,h=(y=y==W?B:y)==B,d=l==y;if(d&&Ge(e)){if(!Ge(t))return!1;c=!0,p=!1}if(d&&!p)return s||(s=new f),c||Qe(e)?b(e,t,r,n,a,s):function(e,t,r,n,a,s,c){switch(r){case re:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case te:return!(e.byteLength!=t.byteLength||!s(new xe(e),new xe(t)));case F:case K:case R:return O(+e,+t);case C:return e.name==t.name&&e.message==t.message;case Z:case Q:return e==t+"";case z:var u=o;case G:var f=n&I;if(u||(u=i),e.size!=t.size&&!f)return!1;var l=c.get(e);if(l)return l==t;n|=P,c.set(e,t);var y=b(u(e),u(t),n,a,s,c);return c.delete(e),y;case X:if(Be)return Be.call(e)==Be.call(t)}return!1}(e,t,l,r,n,a,s);if(!(r&I)){var g=p&&we.call(e,"__wrapped__"),m=h&&we.call(t,"__wrapped__");if(g||m){var w=g?e.value():e,j=m?t.value():t;return s||(s=new f),a(w,j,r,n,s)}}if(!d)return!1;return s||(s=new f),function(e,t,r,n,o,i){var a=r&I,s=v(e),c=s.length,u=v(t).length;if(c!=u&&!a)return!1;for(var f=c;f--;){var l=s[f];if(!(a?l in t:we.call(t,l)))return!1}var y=i.get(e);if(y&&i.get(t))return y==t;var p=!0;i.set(e,t),i.set(t,e);for(var h=a;++f<c;){l=s[f];var d=e[l],g=t[l];if(n)var m=a?n(g,d,l,t,e,i):n(d,g,l,e,t,i);if(!(void 0===m?d===g||o(d,g,r,n,i):m)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(p=!1)}return i.delete(e),i.delete(t),p}(e,t,r,n,a,s)}(e,t,r,n,d,a))}function g(e){if(!x(e)||function(e){return!!je&&je in e}(e))return!1;return(k(e)?Oe:ne).test(_(e))}function m(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||me;return e===r}(e))return Pe(e);var t=[];for(var r in Object(e))we.call(e,r)&&"constructor"!=r&&t.push(r);return t}function b(e,t,o,i,a,s){var c=o&I,f=e.length,l=t.length;if(f!=l&&!(c&&l>f))return!1;var y=s.get(e);if(y&&s.get(t))return y==t;var p=-1,h=!0,d=o&P?new u:void 0;for(s.set(e,t),s.set(t,e);++p<f;){var g=e[p],m=t[p];if(i)var b=c?i(m,g,p,t,e,s):i(g,m,p,e,t,s);if(void 0!==b){if(b)continue;h=!1;break}if(d){if(!r(t,function(e,t){if(!n(d,t)&&(g===e||a(g,e,o,i,s)))return d.push(t)})){h=!1;break}}else if(g!==m&&!a(g,m,o,i,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function v(e){return function(e,t,r){var n=t(e);return Ue(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,T,He)}function w(e,t){var r=e.__data__;return function(e){var t=void 0===e?"undefined":Lt(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function j(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return g(r)?r:void 0}function _(e){if(null!=e){try{return ve.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function O(e,t){return e===t||e!=e&&t!=t}function k(e){if(!x(e))return!1;var t=p(e);return t==L||t==$||t==J||t==q}function S(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=V}function x(e){var t=void 0===e?"undefined":Lt(e);return null!=e&&("object"==t||"function"==t)}function A(e){return null!=e&&"object"==(void 0===e?"undefined":Lt(e))}function T(e){return function(e){return null!=e&&S(e.length)&&!k(e)}(e)?l(e):m(e)}var E=200,N="__lodash_hash_undefined__",I=1,P=2,V=9007199254740991,W="[object Arguments]",M="[object Array]",J="[object AsyncFunction]",F="[object Boolean]",K="[object Date]",C="[object Error]",L="[object Function]",$="[object GeneratorFunction]",z="[object Map]",R="[object Number]",D="[object Null]",B="[object Object]",H="[object Promise]",q="[object Proxy]",Z="[object RegExp]",G="[object Set]",Q="[object String]",X="[object Symbol]",Y="[object Undefined]",ee="[object WeakMap]",te="[object ArrayBuffer]",re="[object DataView]",ne=/^\[object .+?Constructor\]$/,oe=/^(?:0|[1-9]\d*)$/,ie={};ie["[object Float32Array]"]=ie["[object Float64Array]"]=ie["[object Int8Array]"]=ie["[object Int16Array]"]=ie["[object Int32Array]"]=ie["[object Uint8Array]"]=ie["[object Uint8ClampedArray]"]=ie["[object Uint16Array]"]=ie["[object Uint32Array]"]=!0,ie[W]=ie[M]=ie[te]=ie[F]=ie[re]=ie[K]=ie[C]=ie[L]=ie[z]=ie[R]=ie[B]=ie[Z]=ie[G]=ie[Q]=ie[ee]=!1;var ae="object"==Lt(U)&&U&&U.Object===Object&&U,se="object"==("undefined"==typeof self?"undefined":Lt(self))&&self&&self.Object===Object&&self,ce=ae||se||Function("return this")(),ue=t&&!t.nodeType&&t,fe=ue&&e&&!e.nodeType&&e,le=fe&&fe.exports===ue,ye=le&&ae.process,pe=function(){try{return ye&&ye.binding&&ye.binding("util")}catch(e){}}(),he=pe&&pe.isTypedArray,de=Array.prototype,ge=Function.prototype,me=Object.prototype,be=ce["__core-js_shared__"],ve=ge.toString,we=me.hasOwnProperty,je=function(){var e=/[^.]+$/.exec(be&&be.keys&&be.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_e=me.toString,Oe=RegExp("^"+ve.call(we).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ke=le?ce.Buffer:void 0,Se=ce.Symbol,xe=ce.Uint8Array,Ae=me.propertyIsEnumerable,Te=de.splice,Ee=Se?Se.toStringTag:void 0,Ne=Object.getOwnPropertySymbols,Ie=ke?ke.isBuffer:void 0,Pe=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),Ve=j(ce,"DataView"),We=j(ce,"Map"),Me=j(ce,"Promise"),Je=j(ce,"Set"),Fe=j(ce,"WeakMap"),Ke=j(Object,"create"),Ce=_(Ve),Le=_(We),$e=_(Me),ze=_(Je),Re=_(Fe),De=Se?Se.prototype:void 0,Be=De?De.valueOf:void 0;a.prototype.clear=function(){this.__data__=Ke?Ke(null):{},this.size=0},a.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},a.prototype.get=function(e){var t=this.__data__;if(Ke){var r=t[e];return r===N?void 0:r}return we.call(t,e)?t[e]:void 0},a.prototype.has=function(e){var t=this.__data__;return Ke?void 0!==t[e]:we.call(t,e)},a.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ke&&void 0===t?N:t,this},s.prototype.clear=function(){this.__data__=[],this.size=0},s.prototype.delete=function(e){var t=this.__data__,r=y(t,e);return!(r<0||(r==t.length-1?t.pop():Te.call(t,r,1),--this.size,0))},s.prototype.get=function(e){var t=this.__data__,r=y(t,e);return r<0?void 0:t[r][1]},s.prototype.has=function(e){return y(this.__data__,e)>-1},s.prototype.set=function(e,t){var r=this.__data__,n=y(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},c.prototype.clear=function(){this.size=0,this.__data__={hash:new a,map:new(We||s),string:new a}},c.prototype.delete=function(e){var t=w(this,e).delete(e);return this.size-=t?1:0,t},c.prototype.get=function(e){return w(this,e).get(e)},c.prototype.has=function(e){return w(this,e).has(e)},c.prototype.set=function(e,t){var r=w(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},u.prototype.add=u.prototype.push=function(e){return this.__data__.set(e,N),this},u.prototype.has=function(e){return this.__data__.has(e)},f.prototype.clear=function(){this.__data__=new s,this.size=0},f.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},f.prototype.get=function(e){return this.__data__.get(e)},f.prototype.has=function(e){return this.__data__.has(e)},f.prototype.set=function(e,t){var r=this.__data__;if(r instanceof s){var n=r.__data__;if(!We||n.length<E-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new c(n)}return r.set(e,t),this.size=r.size,this};var He=Ne?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}(Ne(e),function(t){return Ae.call(e,t)}))}:function(){return[]},qe=p;(Ve&&qe(new Ve(new ArrayBuffer(1)))!=re||We&&qe(new We)!=z||Me&&qe(Me.resolve())!=H||Je&&qe(new Je)!=G||Fe&&qe(new Fe)!=ee)&&(qe=function(e){var t=p(e),r=t==B?e.constructor:void 0,n=r?_(r):"";if(n)switch(n){case Ce:return re;case Le:return z;case $e:return H;case ze:return G;case Re:return ee}return t});var Ze=h(function(){return arguments}())?h:function(e){return A(e)&&we.call(e,"callee")&&!Ae.call(e,"callee")},Ue=Array.isArray,Ge=Ie||function(){return!1},Qe=he?function(e){return function(t){return e(t)}}(he):function(e){return A(e)&&S(e.length)&&!!ie[p(e)]};e.exports=function(e,t){return d(e,t)}}),zt=function(e,t,r){function n(e){return null!=e}function o(e){return"boolean"===Ve(e)}function i(e){return"string"===Ve(e)}function a(e){return"Object"===Ve(e)}var s=["any","anything","every","everything","all","whatever","whatevs"],c=Array.isArray;if(0===arguments.length)throw new Error("check-types-mini/checkTypes(): Missing all arguments!");if(1===arguments.length)throw new Error("check-types-mini/checkTypes(): Missing second argument!");var u=a(t)?t:{},f={ignoreKeys:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini/checkTypes()",optsVarName:"opts"},l=void 0;if(l=n(r)&&a(r)?Object.assign({},f,r):Object.assign({},f),!i(l.msg))throw new Error("check-types-mini/checkTypes(): opts.msg must be string! Currently it's: "+Ve(l.msg)+", equal to "+JSON.stringify(l.msg,null,4));if(l.msg=l.msg.trim(),":"===l.msg[l.msg.length-1]&&(l.msg=l.msg.slice(0,l.msg.length-1)),!i(l.optsVarName))throw new Error("check-types-mini/checkTypes(): opts.optsVarName must be string! Currently it's: "+Ve(l.optsVarName)+", equal to "+JSON.stringify(l.optsVarName,null,4));if(l.ignoreKeys=st(l.ignoreKeys),l.acceptArraysIgnore=st(l.acceptArraysIgnore),!c(l.ignoreKeys))throw new TypeError("check-types-mini/checkTypes(): opts.ignoreKeys should be an array, currently it's: "+Ve(l.ignoreKeys));if(!o(l.acceptArrays))throw new TypeError("check-types-mini/checkTypes(): opts.acceptArrays should be a Boolean, currently it's: "+Ve(l.acceptArrays));if(!c(l.acceptArraysIgnore))throw new TypeError("check-types-mini/checkTypes(): opts.acceptArraysIgnore should be an array, currently it's: "+Ve(l.acceptArraysIgnore));if(!o(l.enforceStrictKeyset))throw new TypeError("check-types-mini/checkTypes(): opts.enforceStrictKeyset should be a Boolean, currently it's: "+Ve(l.enforceStrictKeyset));if(Object.keys(l.schema).forEach(function(e){c(l.schema[e])||(l.schema[e]=[l.schema[e]]),l.schema[e]=l.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),l.enforceStrictKeyset)if(n(l.schema)&&Object.keys(l.schema).length>0){if(0!==Me(Object.keys(e),Object.keys(u).concat(Object.keys(l.schema))).length)throw new TypeError(l.msg+": "+l.optsVarName+".enforceStrictKeyset is on and the following keys are not covered by schema and/or reference objects: "+JSON.stringify(Me(Object.keys(e),Object.keys(u).concat(Object.keys(l.schema))),null,4))}else{if(!(n(u)&&Object.keys(u).length>0))throw new TypeError(l.msg+": Both "+l.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==Me(Object.keys(e),Object.keys(u)).length)throw new TypeError(l.msg+": The input object has keys that are not covered by reference object: "+JSON.stringify(Me(Object.keys(e),Object.keys(u)),null,4));if(0!==Me(Object.keys(u),Object.keys(e)).length)throw new TypeError(l.msg+": The reference object has keys that are not present in the input object: "+JSON.stringify(Me(Object.keys(u),Object.keys(e)),null,4))}Object.keys(e).forEach(function(t){if(n(l.schema)&&Object.prototype.hasOwnProperty.call(l.schema,t)){if(l.schema[t]=st(l.schema[t]).map(String).map(function(e){return e.toLowerCase()}),!it(l.schema[t],s).length&&!Ie(l.schema[t],Ve(e[t]).toLowerCase())){if(!c(e[t])||!l.acceptArrays)throw new TypeError(l.msg+": "+l.optsVarName+"."+t+" was customised to "+JSON.stringify(e[t],null,4)+" which is not among the allowed types in schema ("+l.schema[t]+") but "+Ve(e[t]));for(var r=0,o=e[t].length;r<o;r++)if(!Ie(l.schema[t],Ve(e[t][r]).toLowerCase()))throw new TypeError(l.msg+": "+l.optsVarName+"."+t+" is of type "+Ve(e[t][r]).toLowerCase()+", but only the following are allowed in "+l.optsVarName+".schema: "+l.schema[t])}}else if(n(u)&&Object.prototype.hasOwnProperty.call(u,t)&&Ve(e[t])!==Ve(u[t])&&!Ie(l.ignoreKeys,t)){if(!l.acceptArrays||!c(e[t])||Ie(l.acceptArraysIgnore,t))throw new TypeError(l.msg+": "+l.optsVarName+"."+t+" was customised to "+JSON.stringify(e[t],null,4)+" which is not "+Ve(u[t])+" but "+Ve(e[t]));if(!e[t].every(function(e){return Ve(e)===Ve(u[t])}))throw new TypeError(l.msg+": "+l.optsVarName+"."+t+" was customised to be array, but not all of its elements are "+Ve(u[t])+"-type")}})},Rt=Array.isArray,Dt=!1,Bt={find:function(e,t){if(!M(t.key)&&!M(t.val))throw new Error("ast-monkey/index.js/find(): Please provide opts.key or opts.val");return zt(t,null,{schema:{key:["null","string"],val:"any",only:["undefined","null","string"]}}),"string"==typeof t.only&&t.only.length>0?t.only=lt(t.only,{msg:"ast-monkey/find():",optsVarName:"opts.only"}):t.only="any",F(e,Object.assign({},t,{mode:"find"}))},get:function(e,t){if(!W(t.index))throw new Error("ast-monkey/index.js/get(): Please provide opts.index");if("string"==typeof t.index){if(!pt(parseFloat(t.index,10),{includeZero:!0}))throw new Error("ast-monkey/index.js/get(): opts.index must be a natural number. It was given as: "+t.index);t.index=parseInt(t.index,10)}if(zt(t,null,{schema:{index:"number"}}),!pt(t.index,{includeZero:!0}))throw new Error("ast-monkey/index.js/get(): opts.index must be a natural number. It was given as: "+t.index);return F(e,Object.assign({},t,{mode:"get"}))},set:function(e,t){if(!W(t.key)&&!M(t.val))throw new Error("ast-monkey/index.js/set(): Please provide opts.val");if(!W(t.index))throw new Error("ast-monkey/index.js/set(): Please provide opts.index");if("string"==typeof t.index){if(!pt(parseFloat(t.index,10),{includeZero:!0}))throw new Error("ast-monkey/index.js/set(): opts.index must be a natural number. It was given as: "+t.index);t.index=parseInt(t.index,10)}else if(!pt(t.index,{includeZero:!0}))throw new Error("ast-monkey/index.js/get(): opts.index must be a natural number. It was given as: "+t.index);return W(t.key)&&!M(t.val)&&(t.val=t.key),zt(t,null,{schema:{key:[null,"string"],val:"any",index:"number"}}),F(e,Object.assign({},t,{mode:"set"}))},drop:function(e,t){if(!W(t.index))throw new Error("ast-monkey/index.js/drop(): Please provide opts.index");if("string"==typeof t.index){if(!pt(parseFloat(t.index,10),{includeZero:!0}))throw new Error("ast-monkey/index.js/drop(): opts.index must be a natural number. It was given as: "+t.index);t.index=parseInt(t.index,10)}if(!pt(t.index,{includeZero:!0}))throw new Error("ast-monkey/index.js/get(): opts.index must be a natural number. It was given as: "+t.index);return zt(t,null,{schema:{index:"number"}}),F(e,Object.assign({},t,{mode:"drop"}))},info:function(e){return F(e,{mode:"info"})},del:function(e,t){if(!W(t.key)&&!M(t.val))throw new Error("ast-monkey/index.js/del(): Please provide opts.key or opts.val");return zt(t,null,{schema:{key:[null,"string"],val:"any",only:["undefined","null","string"]}}),"string"==typeof t.only&&t.only.length>0?t.only=lt(t.only,{msg:"ast-monkey/del():",optsVarName:"opts.only"}):t.only="any",F(e,Object.assign({},t,{mode:"del"}))},arrayFirstOnly:function(e){return F(e,{mode:"arrayFirstOnly"})},traverse:J},Ht=function(e){function t(e){return"string"==typeof e}var r=!0;return!!((0,Array.isArray)(e)||se(e)||t(e))&&(t(e)?0===Ct(e).length:(e=Bt.traverse(e,function(e,n,o){var i=void 0!==n?n:e;return t(i)&&""!==Ct(i)&&(r=!1),i}),r))},qt=/[|\\{}()[\]^$+*?.]/g,Zt=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(qt,"\\$&")},Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt=t(function(e){function t(e,t){var n=e+t;if(r.has(n))return r.get(n);var o=!1;"!"===e[0]&&(o=!0,e=e.slice(1)),e=Zt(e).replace(/\\\*/g,".*"),o&&t&&(e="(?!"+e+")");var i=new RegExp("^"+e+"$","i");return i.negated=o,r.set(n,i),i}var r=new Map;e.exports=function(e,r){if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Expected two arrays, got "+(void 0===e?"undefined":Ut(e))+" "+(void 0===r?"undefined":Ut(r)));if(0===r.length)return e;var n="!"===r[0][0];r=r.map(function(e){return t(e,!1)});var o=[],i=!0,a=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){for(var f=c.value,l=n,y=0;y<r.length;y++)r[y].test(f)&&(l=!r[y].negated);l&&o.push(f)}}catch(e){a=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}return o},e.exports.isMatch=function(e,r){return t(r,!0).test(e)}}),Qt=(Gt.isMatch,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),Xt=Array.isArray,Yt=function(e){return null!=e},er=K,tr=C,rr=function(e){return K(e)?0===Object.keys(e).length:!(!Xt(e)&&!C(e))&&0===e.length},nr=function(e){return K(e)||C(e)||L(e)||$(e)||Xt(e)||z(e)},or="function"==typeof Symbol&&"symbol"===Qt(Symbol.iterator)?function(e){return void 0===e?"undefined":Qt(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":Qt(e)},ir=Yt,ar=er,sr=tr,cr=rr,ur=nr,fr=Array.isArray,lr=Array.isArray,yr=!1;e.find=function(e,t){if(!B(t.key)&&!B(t.val))throw new Error("ast-monkey/index.js/find(): Please provide opts.key or opts.val");return T(t,null,{schema:{key:["null","string"],val:"any",only:["undefined","null","string"]}}),"string"==typeof t.only&&t.only.length>0?t.only=lt(t.only,{msg:"ast-monkey/find():",optsVarName:"opts.only"}):t.only="any",Z(e,Object.assign({},t,{mode:"find"}))},e.get=function(e,t){if(!D(t.index))throw new Error("ast-monkey/index.js/get(): Please provide opts.index");if("string"==typeof t.index){if(!pt(parseFloat(t.index,10),{includeZero:!0}))throw new Error("ast-monkey/index.js/get(): opts.index must be a natural number. It was given as: "+t.index);t.index=parseInt(t.index,10)}if(T(t,null,{schema:{index:"number"}}),!pt(t.index,{includeZero:!0}))throw new Error("ast-monkey/index.js/get(): opts.index must be a natural number. It was given as: "+t.index);return Z(e,Object.assign({},t,{mode:"get"}))},e.set=function(e,t){if(!D(t.key)&&!B(t.val))throw new Error("ast-monkey/index.js/set(): Please provide opts.val");if(!D(t.index))throw new Error("ast-monkey/index.js/set(): Please provide opts.index");if("string"==typeof t.index){if(!pt(parseFloat(t.index,10),{includeZero:!0}))throw new Error("ast-monkey/index.js/set(): opts.index must be a natural number. It was given as: "+t.index);t.index=parseInt(t.index,10)}else if(!pt(t.index,{includeZero:!0}))throw new Error("ast-monkey/index.js/get(): opts.index must be a natural number. It was given as: "+t.index);return D(t.key)&&!B(t.val)&&(t.val=t.key),T(t,null,{schema:{key:[null,"string"],val:"any",index:"number"}}),Z(e,Object.assign({},t,{mode:"set"}))},e.drop=function(e,t){if(!D(t.index))throw new Error("ast-monkey/index.js/drop(): Please provide opts.index");if("string"==typeof t.index){if(!pt(parseFloat(t.index,10),{includeZero:!0}))throw new Error("ast-monkey/index.js/drop(): opts.index must be a natural number. It was given as: "+t.index);t.index=parseInt(t.index,10)}if(!pt(t.index,{includeZero:!0}))throw new Error("ast-monkey/index.js/get(): opts.index must be a natural number. It was given as: "+t.index);return T(t,null,{schema:{index:"number"}}),Z(e,Object.assign({},t,{mode:"drop"}))},e.info=function(e){return Z(e,{mode:"info"})},e.del=function(e,t){if(!D(t.key)&&!B(t.val))throw new Error("ast-monkey/index.js/del(): Please provide opts.key or opts.val");return T(t,null,{schema:{key:[null,"string"],val:"any",only:["undefined","null","string"]}}),"string"==typeof t.only&&t.only.length>0?t.only=lt(t.only,{msg:"ast-monkey/del():",optsVarName:"opts.only"}):t.only="any",Z(e,Object.assign({},t,{mode:"del"}))},e.arrayFirstOnly=function(e){return Z(e,{mode:"arrayFirstOnly"})},e.traverse=q,Object.defineProperty(e,"__esModule",{value:!0})});
