!function(n,u){"object"==typeof exports&&"undefined"!=typeof module?module.exports=u():"function"==typeof define&&define.amd?define(u):(n=n||self).csvSort=u()}(this,function(){"use strict";function n(u){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(u)}var u=function(n,u){if(u){if("object"!=typeof u)throw new TypeError(String(u)+" is not an object. Expected an object that has boolean `includeZero` property.");if("includeZero"in u){if("boolean"!=typeof u.includeZero)throw new TypeError(String(u.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(u.includeZero&&0===n)return!0}}return Number.isSafeInteger(n)&&n>=1},f=function(n,u){if("string"!=typeof n)return!1;if(u&&"includeZero"in u){if("boolean"!=typeof u.includeZero)throw new TypeError(String(u.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(u.includeZero)return/^(-?0|[1-9]\d*)(\.0+)?$/.test(n)}return/^[1-9]\d*(\.0+)?$/.test(n)},t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(n,u){return n(u={exports:{}},u.exports),u.exports}var e=c(function(n,u){(u=n.exports=function(n){return n+u.suffix(+n)}).suffix=function(n){return n%=100,1===Math.floor(n/10)?"th":n%10==1?"st":n%10==2?"nd":n%10==3?"rd":"th"}}),h=(e.suffix,c(function(n,u){var f,c,e,h,g,v,o,b,r,_,d,$,j,i,I,M,U,H,W,Z;n.exports=(f="function"==typeof Promise,c="object"==typeof self?self:t,e="undefined"!=typeof Symbol,h="undefined"!=typeof Map,g="undefined"!=typeof Set,v="undefined"!=typeof WeakMap,o="undefined"!=typeof WeakSet,b="undefined"!=typeof DataView,r=e&&void 0!==Symbol.iterator,_=e&&void 0!==Symbol.toStringTag,d=g&&"function"==typeof Set.prototype.entries,$=h&&"function"==typeof Map.prototype.entries,j=d&&Object.getPrototypeOf((new Set).entries()),i=$&&Object.getPrototypeOf((new Map).entries()),I=r&&"function"==typeof Array.prototype[Symbol.iterator],M=I&&Object.getPrototypeOf([][Symbol.iterator]()),U=r&&"function"==typeof String.prototype[Symbol.iterator],H=U&&Object.getPrototypeOf(""[Symbol.iterator]()),W=8,Z=-1,function(n){var u=typeof n;if("object"!==u)return u;if(null===n)return"null";if(n===c)return"global";if(Array.isArray(n)&&(!1===_||!(Symbol.toStringTag in n)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&n===window.location)return"Location";if("object"==typeof window.document&&n===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&n===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&n===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&n instanceof window.HTMLElement){if("BLOCKQUOTE"===n.tagName)return"HTMLQuoteElement";if("TD"===n.tagName)return"HTMLTableDataCellElement";if("TH"===n.tagName)return"HTMLTableHeaderCellElement"}}var t=_&&n[Symbol.toStringTag];if("string"==typeof t)return t;var e=Object.getPrototypeOf(n);return e===RegExp.prototype?"RegExp":e===Date.prototype?"Date":f&&e===Promise.prototype?"Promise":g&&e===Set.prototype?"Set":h&&e===Map.prototype?"Map":o&&e===WeakSet.prototype?"WeakSet":v&&e===WeakMap.prototype?"WeakMap":b&&e===DataView.prototype?"DataView":h&&e===i?"Map Iterator":g&&e===j?"Set Iterator":I&&e===M?"Array Iterator":U&&e===H?"String Iterator":null===e?"Object":Object.prototype.toString.call(n).slice(W,Z)})}));function g(n,u,f){if(u!=u)return function(n,u,f,t){for(var c=n.length,e=f+(t?1:-1);t?e--:++e<c;)if(u(n[e],e,n))return e;return-1}(n,o,f);for(var t=f-1,c=n.length;++t<c;)if(n[t]===u)return t;return-1}function v(n,u,f,t){for(var c=f-1,e=n.length;++c<e;)if(t(n[c],u))return c;return-1}function o(n){return n!=n}var b=Array.prototype.splice;function r(n,u,f,t){var c,e=t?v:g,h=-1,o=u.length,r=n;for(n===u&&(u=function(n,u){var f=-1,t=n.length;u||(u=Array(t));for(;++f<t;)u[f]=n[f];return u}(u)),f&&(r=function(n,u){for(var f=-1,t=n?n.length:0,c=Array(t);++f<t;)c[f]=u(n[f],f,n);return c}(n,(c=f,function(n){return c(n)})));++h<o;)for(var _=0,d=u[h],$=f?f(d):d;(_=e(r,$,_,t))>-1;)r!==n&&b.call(r,_,1),b.call(n,_,1);return n}var _=function(n,u){return n&&n.length&&u&&u.length?r(n,u):n},d=c(function(n,u){var f=200,c="__lodash_hash_undefined__",e=9007199254740991,h="[object Arguments]",g="[object Boolean]",v="[object Date]",o="[object Function]",b="[object GeneratorFunction]",r="[object Map]",_="[object Number]",d="[object Object]",$="[object RegExp]",j="[object Set]",i="[object String]",I="[object Symbol]",M="[object ArrayBuffer]",U="[object DataView]",H="[object Float32Array]",W="[object Float64Array]",Z="[object Int8Array]",P="[object Int16Array]",q="[object Int32Array]",J="[object Uint8Array]",D="[object Uint8ClampedArray]",N="[object Uint16Array]",T="[object Uint32Array]",Q=/\w*$/,V=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,z={};z[h]=z["[object Array]"]=z[M]=z[U]=z[g]=z[v]=z[H]=z[W]=z[Z]=z[P]=z[q]=z[r]=z[_]=z[d]=z[$]=z[j]=z[i]=z[I]=z[J]=z[D]=z[N]=z[T]=!0,z["[object Error]"]=z[o]=z["[object WeakMap]"]=!1;var X="object"==typeof t&&t&&t.Object===Object&&t,G="object"==typeof self&&self&&self.Object===Object&&self,k=X||G||Function("return this")(),y=u&&!u.nodeType&&u,F=y&&n&&!n.nodeType&&n,R=F&&F.exports===y;function B(n,u){return n.set(u[0],u[1]),n}function L(n,u){return n.add(u),n}function x(n,u,f,t){var c=-1,e=n?n.length:0;for(t&&e&&(f=n[++c]);++c<e;)f=u(f,n[c],c,n);return f}function K(n){var u=!1;if(null!=n&&"function"!=typeof n.toString)try{u=!!(n+"")}catch(n){}return u}function O(n){var u=-1,f=Array(n.size);return n.forEach(function(n,t){f[++u]=[t,n]}),f}function A(n,u){return function(f){return n(u(f))}}function C(n){var u=-1,f=Array(n.size);return n.forEach(function(n){f[++u]=n}),f}var l,p=Array.prototype,w=Function.prototype,a=Object.prototype,E=k["__core-js_shared__"],S=(l=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",s=w.toString,m=a.hasOwnProperty,nn=a.toString,un=RegExp("^"+s.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fn=R?k.Buffer:void 0,tn=k.Symbol,cn=k.Uint8Array,en=A(Object.getPrototypeOf,Object),hn=Object.create,gn=a.propertyIsEnumerable,vn=p.splice,on=Object.getOwnPropertySymbols,bn=fn?fn.isBuffer:void 0,rn=A(Object.keys,Object),_n=Rn(k,"DataView"),dn=Rn(k,"Map"),$n=Rn(k,"Promise"),jn=Rn(k,"Set"),In=Rn(k,"WeakMap"),Mn=Rn(Object,"create"),Un=On(_n),Hn=On(dn),Wn=On($n),Zn=On(jn),Pn=On(In),qn=tn?tn.prototype:void 0,Jn=qn?qn.valueOf:void 0;function Dn(n){var u=-1,f=n?n.length:0;for(this.clear();++u<f;){var t=n[u];this.set(t[0],t[1])}}function Nn(n){var u=-1,f=n?n.length:0;for(this.clear();++u<f;){var t=n[u];this.set(t[0],t[1])}}function Tn(n){var u=-1,f=n?n.length:0;for(this.clear();++u<f;){var t=n[u];this.set(t[0],t[1])}}function Qn(n){this.__data__=new Nn(n)}function Vn(n,u){var f=Cn(n)||function(n){return function(n){return function(n){return!!n&&"object"==typeof n}(n)&&ln(n)}(n)&&m.call(n,"callee")&&(!gn.call(n,"callee")||nn.call(n)==h)}(n)?function(n,u){for(var f=-1,t=Array(n);++f<n;)t[f]=u(f);return t}(n.length,String):[],t=f.length,c=!!t;for(var e in n)!u&&!m.call(n,e)||c&&("length"==e||xn(e,t))||f.push(e);return f}function Yn(n,u,f){var t=n[u];m.call(n,u)&&An(t,f)&&(void 0!==f||u in n)||(n[u]=f)}function zn(n,u){for(var f=n.length;f--;)if(An(n[f][0],u))return f;return-1}function Xn(n,u,f,t,c,e,V){var Y;if(t&&(Y=e?t(n,c,e,V):t(n)),void 0!==Y)return Y;if(!an(n))return n;var X=Cn(n);if(X){if(Y=function(n){var u=n.length,f=n.constructor(u);u&&"string"==typeof n[0]&&m.call(n,"index")&&(f.index=n.index,f.input=n.input);return f}(n),!u)return function(n,u){var f=-1,t=n.length;u||(u=Array(t));for(;++f<t;)u[f]=n[f];return u}(n,Y)}else{var G=Ln(n),k=G==o||G==b;if(pn(n))return function(n,u){if(u)return n.slice();var f=new n.constructor(n.length);return n.copy(f),f}(n,u);if(G==d||G==h||k&&!e){if(K(n))return e?n:{};if(Y=function(n){return"function"!=typeof n.constructor||Kn(n)?{}:(u=en(n),an(u)?hn(u):{});var u}(k?{}:n),!u)return function(n,u){return yn(n,Bn(n),u)}(n,function(n,u){return n&&yn(u,En(u),n)}(Y,n))}else{if(!z[G])return e?n:{};Y=function(n,u,f,t){var c=n.constructor;switch(u){case M:return kn(n);case g:case v:return new c(+n);case U:return function(n,u){var f=u?kn(n.buffer):n.buffer;return new n.constructor(f,n.byteOffset,n.byteLength)}(n,t);case H:case W:case Z:case P:case q:case J:case D:case N:case T:return function(n,u){var f=u?kn(n.buffer):n.buffer;return new n.constructor(f,n.byteOffset,n.length)}(n,t);case r:return function(n,u,f){return x(u?f(O(n),!0):O(n),B,new n.constructor)}(n,t,f);case _:case i:return new c(n);case $:return(o=new(h=n).constructor(h.source,Q.exec(h))).lastIndex=h.lastIndex,o;case j:return function(n,u,f){return x(u?f(C(n),!0):C(n),L,new n.constructor)}(n,t,f);case I:return e=n,Jn?Object(Jn.call(e)):{}}var e;var h,o}(n,G,Xn,u)}}V||(V=new Qn);var y=V.get(n);if(y)return y;if(V.set(n,Y),!X)var F=f?function(n){return function(n,u,f){var t=u(n);return Cn(n)?t:function(n,u){for(var f=-1,t=u.length,c=n.length;++f<t;)n[c+f]=u[f];return n}(t,f(n))}(n,En,Bn)}(n):En(n);return function(n,u){for(var f=-1,t=n?n.length:0;++f<t&&!1!==u(n[f],f,n););}(F||n,function(c,e){F&&(c=n[e=c]),Yn(Y,e,Xn(c,u,f,t,e,n,V))}),Y}function Gn(n){return!(!an(n)||(u=n,S&&S in u))&&(wn(n)||K(n)?un:V).test(On(n));var u}function kn(n){var u=new n.constructor(n.byteLength);return new cn(u).set(new cn(n)),u}function yn(n,u,f,t){f||(f={});for(var c=-1,e=u.length;++c<e;){var h=u[c],g=t?t(f[h],n[h],h,f,n):void 0;Yn(f,h,void 0===g?n[h]:g)}return f}function Fn(n,u){var f,t,c=n.__data__;return("string"==(t=typeof(f=u))||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==f:null===f)?c["string"==typeof u?"string":"hash"]:c.map}function Rn(n,u){var f=function(n,u){return null==n?void 0:n[u]}(n,u);return Gn(f)?f:void 0}Dn.prototype.clear=function(){this.__data__=Mn?Mn(null):{}},Dn.prototype.delete=function(n){return this.has(n)&&delete this.__data__[n]},Dn.prototype.get=function(n){var u=this.__data__;if(Mn){var f=u[n];return f===c?void 0:f}return m.call(u,n)?u[n]:void 0},Dn.prototype.has=function(n){var u=this.__data__;return Mn?void 0!==u[n]:m.call(u,n)},Dn.prototype.set=function(n,u){return this.__data__[n]=Mn&&void 0===u?c:u,this},Nn.prototype.clear=function(){this.__data__=[]},Nn.prototype.delete=function(n){var u=this.__data__,f=zn(u,n);return!(f<0||(f==u.length-1?u.pop():vn.call(u,f,1),0))},Nn.prototype.get=function(n){var u=this.__data__,f=zn(u,n);return f<0?void 0:u[f][1]},Nn.prototype.has=function(n){return zn(this.__data__,n)>-1},Nn.prototype.set=function(n,u){var f=this.__data__,t=zn(f,n);return t<0?f.push([n,u]):f[t][1]=u,this},Tn.prototype.clear=function(){this.__data__={hash:new Dn,map:new(dn||Nn),string:new Dn}},Tn.prototype.delete=function(n){return Fn(this,n).delete(n)},Tn.prototype.get=function(n){return Fn(this,n).get(n)},Tn.prototype.has=function(n){return Fn(this,n).has(n)},Tn.prototype.set=function(n,u){return Fn(this,n).set(n,u),this},Qn.prototype.clear=function(){this.__data__=new Nn},Qn.prototype.delete=function(n){return this.__data__.delete(n)},Qn.prototype.get=function(n){return this.__data__.get(n)},Qn.prototype.has=function(n){return this.__data__.has(n)},Qn.prototype.set=function(n,u){var t=this.__data__;if(t instanceof Nn){var c=t.__data__;if(!dn||c.length<f-1)return c.push([n,u]),this;t=this.__data__=new Tn(c)}return t.set(n,u),this};var Bn=on?A(on,Object):function(){return[]},Ln=function(n){return nn.call(n)};function xn(n,u){return!!(u=null==u?e:u)&&("number"==typeof n||Y.test(n))&&n>-1&&n%1==0&&n<u}function Kn(n){var u=n&&n.constructor;return n===("function"==typeof u&&u.prototype||a)}function On(n){if(null!=n){try{return s.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function An(n,u){return n===u||n!=n&&u!=u}(_n&&Ln(new _n(new ArrayBuffer(1)))!=U||dn&&Ln(new dn)!=r||$n&&"[object Promise]"!=Ln($n.resolve())||jn&&Ln(new jn)!=j||In&&"[object WeakMap]"!=Ln(new In))&&(Ln=function(n){var u=nn.call(n),f=u==d?n.constructor:void 0,t=f?On(f):void 0;if(t)switch(t){case Un:return U;case Hn:return r;case Wn:return"[object Promise]";case Zn:return j;case Pn:return"[object WeakMap]"}return u});var Cn=Array.isArray;function ln(n){return null!=n&&function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=e}(n.length)&&!wn(n)}var pn=bn||function(){return!1};function wn(n){var u=an(n)?nn.call(n):"";return u==o||u==b}function an(n){var u=typeof n;return!!n&&("object"==u||"function"==u)}function En(n){return ln(n)?Vn(n):function(n){if(!Kn(n))return rn(n);var u=[];for(var f in Object(n))m.call(n,f)&&"constructor"!=f&&u.push(f);return u}(n)}n.exports=function(n){return Xn(n,!0,!0)}}),$="[object Object]";var j,i,I=Function.prototype,M=Object.prototype,U=I.toString,H=M.hasOwnProperty,W=U.call(Object),Z=M.toString,P=(j=Object.getPrototypeOf,i=Object,function(n){return j(i(n))});var q=function(n){if(!function(n){return!!n&&"object"==typeof n}(n)||Z.call(n)!=$||function(n){var u=!1;if(null!=n&&"function"!=typeof n.toString)try{u=!!(n+"")}catch(n){}return u}(n))return!1;var u=P(n);if(null===u)return!0;var f=H.call(u,"constructor")&&u.constructor;return"function"==typeof f&&f instanceof f&&U.call(f)==W};const J=Array.isArray;function D(n){return"string"==typeof n&&n.length>0&&"."===n[0]?n.slice(1):n}function N(n,u){return function n(u,f,t){const c=d(u);let e,h,g,v,o;if((t=Object.assign({depth:-1,path:""},t)).depth+=1,J(c))for(e=0,h=c.length;e<h;e++){const u=`${t.path}.${e}`;void 0!==c[e]?(t.parent=d(c),g=n(f(c[e],void 0,Object.assign({},t,{path:D(u)})),f,Object.assign({},t,{path:D(u)})),Number.isNaN(g)&&e<c.length?(c.splice(e,1),e-=1):c[e]=g):c.splice(e,1)}else if(q(c))for(e=0,h=(v=Object.keys(c)).length;e<h;e++){o=v[e];const u=`${t.path}.${o}`;0===t.depth&&null!=o&&(t.topmostKey=o),t.parent=d(c),g=n(f(o,c[o],Object.assign({},t,{path:D(u)})),f,Object.assign({},t,{path:D(u)})),Number.isNaN(g)?delete c[o]:c[o]=g}return c}(n,u,{})}var T="__lodash_hash_undefined__",Q=9007199254740991,V="[object Function]",Y="[object GeneratorFunction]",z=/^\[object .+?Constructor\]$/,X="object"==typeof t&&t&&t.Object===Object&&t,G="object"==typeof self&&self&&self.Object===Object&&self,k=X||G||Function("return this")();function y(n,u){return!!(n?n.length:0)&&function(n,u,f){if(u!=u)return function(n,u,f,t){var c=n.length,e=f+(t?1:-1);for(;t?e--:++e<c;)if(u(n[e],e,n))return e;return-1}(n,B,f);var t=f-1,c=n.length;for(;++t<c;)if(n[t]===u)return t;return-1}(n,u,0)>-1}function F(n,u,f){for(var t=-1,c=n?n.length:0;++t<c;)if(f(u,n[t]))return!0;return!1}function R(n,u){for(var f=-1,t=n?n.length:0,c=Array(t);++f<t;)c[f]=u(n[f],f,n);return c}function B(n){return n!=n}function L(n){return function(u){return n(u)}}function x(n,u){return n.has(u)}var K,O=Array.prototype,A=Function.prototype,C=Object.prototype,l=k["__core-js_shared__"],p=(K=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"",w=A.toString,a=C.hasOwnProperty,E=C.toString,S=RegExp("^"+w.call(a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),s=O.splice,m=Math.max,nn=Math.min,un=rn(k,"Map"),fn=rn(Object,"create");function tn(n){var u=-1,f=n?n.length:0;for(this.clear();++u<f;){var t=n[u];this.set(t[0],t[1])}}function cn(n){var u=-1,f=n?n.length:0;for(this.clear();++u<f;){var t=n[u];this.set(t[0],t[1])}}function en(n){var u=-1,f=n?n.length:0;for(this.clear();++u<f;){var t=n[u];this.set(t[0],t[1])}}function hn(n){var u=-1,f=n?n.length:0;for(this.__data__=new en;++u<f;)this.add(n[u])}function gn(n,u){for(var f,t,c=n.length;c--;)if((f=n[c][0])===(t=u)||f!=f&&t!=t)return c;return-1}function vn(n){return!(!dn(n)||(u=n,p&&p in u))&&(_n(n)||function(n){var u=!1;if(null!=n&&"function"!=typeof n.toString)try{u=!!(n+"")}catch(n){}return u}(n)?S:z).test(function(n){if(null!=n){try{return w.call(n)}catch(n){}try{return n+""}catch(n){}}return""}(n));var u}function on(n){return function(n){return function(n){return!!n&&"object"==typeof n}(n)&&function(n){return null!=n&&function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=Q}(n.length)&&!_n(n)}(n)}(n)?n:[]}function bn(n,u){var f,t,c=n.__data__;return("string"==(t=typeof(f=u))||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==f:null===f)?c["string"==typeof u?"string":"hash"]:c.map}function rn(n,u){var f=function(n,u){return null==n?void 0:n[u]}(n,u);return vn(f)?f:void 0}function _n(n){var u=dn(n)?E.call(n):"";return u==V||u==Y}function dn(n){var u=typeof n;return!!n&&("object"==u||"function"==u)}tn.prototype.clear=function(){this.__data__=fn?fn(null):{}},tn.prototype.delete=function(n){return this.has(n)&&delete this.__data__[n]},tn.prototype.get=function(n){var u=this.__data__;if(fn){var f=u[n];return f===T?void 0:f}return a.call(u,n)?u[n]:void 0},tn.prototype.has=function(n){var u=this.__data__;return fn?void 0!==u[n]:a.call(u,n)},tn.prototype.set=function(n,u){return this.__data__[n]=fn&&void 0===u?T:u,this},cn.prototype.clear=function(){this.__data__=[]},cn.prototype.delete=function(n){var u=this.__data__,f=gn(u,n);return!(f<0||(f==u.length-1?u.pop():s.call(u,f,1),0))},cn.prototype.get=function(n){var u=this.__data__,f=gn(u,n);return f<0?void 0:u[f][1]},cn.prototype.has=function(n){return gn(this.__data__,n)>-1},cn.prototype.set=function(n,u){var f=this.__data__,t=gn(f,n);return t<0?f.push([n,u]):f[t][1]=u,this},en.prototype.clear=function(){this.__data__={hash:new tn,map:new(un||cn),string:new tn}},en.prototype.delete=function(n){return bn(this,n).delete(n)},en.prototype.get=function(n){return bn(this,n).get(n)},en.prototype.has=function(n){return bn(this,n).has(n)},en.prototype.set=function(n,u){return bn(this,n).set(n,u),this},hn.prototype.add=hn.prototype.push=function(n){return this.__data__.set(n,T),this},hn.prototype.has=function(n){return this.__data__.has(n)};var $n=function(n,u){return u=m(void 0===u?n.length-1:u,0),function(){for(var f=arguments,t=-1,c=m(f.length-u,0),e=Array(c);++t<c;)e[t]=f[u+t];t=-1;for(var h=Array(u+1);++t<u;)h[t]=f[t];return h[u]=e,function(n,u,f){switch(f.length){case 0:return n.call(u);case 1:return n.call(u,f[0]);case 2:return n.call(u,f[0],f[1]);case 3:return n.call(u,f[0],f[1],f[2])}return n.apply(u,f)}(n,this,h)}}(function(n){var u=R(n,on);return u.length&&u[0]===n[0]?function(n,u,f){for(var t=f?F:y,c=n[0].length,e=n.length,h=e,g=Array(e),v=1/0,o=[];h--;){var b=n[h];h&&u&&(b=R(b,L(u))),v=nn(b.length,v),g[h]=!f&&(u||c>=120&&b.length>=120)?new hn(h&&b):void 0}b=n[0];var r=-1,_=g[0];n:for(;++r<c&&o.length<v;){var d=b[r],$=u?u(d):d;if(d=f||0!==d?d:0,!(_?x(_,$):t(o,$,f))){for(h=e;--h;){var j=g[h];if(!(j?x(j,$):t(n[h],$,f)))continue n}_&&_.push($),o.push(d)}}return o}(u):[]});function jn(n){return"string"==typeof n?n.length>0?[n]:[]:n}var In=c(function(n){n.exports=function(){var n=Object.prototype.toString;function u(n,u){return null!=n&&Object.prototype.hasOwnProperty.call(n,u)}function f(n){if(!n)return!0;if(c(n)&&0===n.length)return!0;if("string"!=typeof n){for(var f in n)if(u(n,f))return!1;return!0}return!1}function t(u){return n.call(u)}var c=Array.isArray||function(u){return"[object Array]"===n.call(u)};function e(n){var u=parseInt(n);return u.toString()===n?u:n}function h(n){n=n||{};var h=function(n){return Object.keys(h).reduce(function(u,f){return"create"===f?u:("function"==typeof h[f]&&(u[f]=h[f].bind(h,n)),u)},{})};function g(f,t){return n.includeInheritedProps||"number"==typeof t&&Array.isArray(f)||u(f,t)}function v(n,u){if(g(n,u))return n[u]}function o(n,u,f,t){if("number"==typeof u&&(u=[u]),!u||0===u.length)return n;if("string"==typeof u)return o(n,u.split(".").map(e),f,t);var c=u[0],h=v(n,c);return 1===u.length?(void 0!==h&&t||(n[c]=f),h):(void 0===h&&("number"==typeof u[1]?n[c]=[]:n[c]={}),o(n[c],u.slice(1),f,t))}return h.has=function(f,t){if("number"==typeof t?t=[t]:"string"==typeof t&&(t=t.split(".")),!t||0===t.length)return!!f;for(var h=0;h<t.length;h++){var g=e(t[h]);if(!("number"==typeof g&&c(f)&&g<f.length||(n.includeInheritedProps?g in Object(f):u(f,g))))return!1;f=f[g]}return!0},h.ensureExists=function(n,u,f){return o(n,u,f,!0)},h.set=function(n,u,f,t){return o(n,u,f,t)},h.insert=function(n,u,f,t){var e=h.get(n,u);t=~~t,c(e)||(e=[],h.set(n,u,e)),e.splice(t,0,f)},h.empty=function(n,u){var e,v;if(!f(u)&&null!=n&&(e=h.get(n,u))){if("string"==typeof e)return h.set(n,u,"");if(function(n){return"boolean"==typeof n||"[object Boolean]"===t(n)}(e))return h.set(n,u,!1);if("number"==typeof e)return h.set(n,u,0);if(c(e))e.length=0;else{if(!function(n){return"object"==typeof n&&"[object Object]"===t(n)}(e))return h.set(n,u,null);for(v in e)g(e,v)&&delete e[v]}}},h.push=function(n,u){var f=h.get(n,u);c(f)||(f=[],h.set(n,u,f)),f.push.apply(f,Array.prototype.slice.call(arguments,2))},h.coalesce=function(n,u,f){for(var t,c=0,e=u.length;c<e;c++)if(void 0!==(t=h.get(n,u[c])))return t;return f},h.get=function(n,u,f){if("number"==typeof u&&(u=[u]),!u||0===u.length)return n;if(null==n)return f;if("string"==typeof u)return h.get(n,u.split("."),f);var t=e(u[0]),c=v(n,t);return void 0===c?f:1===u.length?c:h.get(n[t],u.slice(1),f)},h.del=function(n,u){if("number"==typeof u&&(u=[u]),null==n)return n;if(f(u))return n;if("string"==typeof u)return h.del(n,u.split("."));var t=e(u[0]);return g(n,t)?1!==u.length?h.del(n[t],u.slice(1)):(c(n)?n.splice(t,1):delete n[t],n):n},h}var g=h();return g.create=h,g.withInheritedProps=h({includeInheritedProps:!0}),g}()}),Mn=function(n){var u=n%100;if(u>=10&&u<=20)return"th";var f=n%10;return 1===f?"st":2===f?"nd":3===f?"rd":"th"};function Un(n){if("number"!=typeof n)throw new TypeError("Expected Number, got "+typeof n+" "+n);return n+Mn(n)}Un.indicator=Mn;var Hn=Un,Wn=/[|\\{}()[\]^$+*?.]/g,Zn=function(n){if("string"!=typeof n)throw new TypeError("Expected a string");return n.replace(Wn,"\\$&")};const Pn=new Map;function qn(n,u){const f=Object.assign({caseSensitive:!1},u),t=n+JSON.stringify(f);if(Pn.has(t))return Pn.get(t);const c="!"===n[0];c&&(n=n.slice(1)),n=Zn(n).replace(/\\\*/g,".*");const e=new RegExp(`^${n}$`,f.caseSensitive?"":"i");return e.negated=c,Pn.set(t,e),e}var Jn=(n,u,f)=>{if(!Array.isArray(n)||!Array.isArray(u))throw new TypeError(`Expected two arrays, got ${typeof n} ${typeof u}`);if(0===u.length)return n;const t="!"===u[0][0];u=u.map(n=>qn(n,f));const c=[];for(const f of n){let n=t;for(const t of u)t.test(f)&&(n=!t.negated);n&&c.push(f)}return c};function Dn(n,u,f){return function n(u,f,t,c=!0){function e(n){return null!=n}function g(n){return"Object"===h(n)}function v(n,u){return u=jn(u),Array.from(n).filter(n=>!u.some(u=>Jn.isMatch(n,u,{caseSensitive:!0})))}function o(n){if(n.includes(".")){const u=n.split(".");return u.pop(),u.join(".")}return n}const b=["any","anything","every","everything","all","whatever","whatevs"],r=Array.isArray;if(!e(u))throw new Error("check-types-mini: [THROW_ID_01] First argument is missing!");const d={ignoreKeys:[],ignorePaths:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"};let $;if($=e(t)&&g(t)?Object.assign({},d,t):Object.assign({},d),e($.ignoreKeys)&&$.ignoreKeys?$.ignoreKeys=jn($.ignoreKeys):$.ignoreKeys=[],e($.ignorePaths)&&$.ignorePaths?$.ignorePaths=jn($.ignorePaths):$.ignorePaths=[],e($.acceptArraysIgnore)&&$.acceptArraysIgnore?$.acceptArraysIgnore=jn($.acceptArraysIgnore):$.acceptArraysIgnore=[],$.msg="string"==typeof $.msg?$.msg.trim():$.msg,":"===$.msg[$.msg.length-1]&&($.msg=$.msg.slice(0,$.msg.length-1).trim()),$.schema&&(Object.keys($.schema).forEach(n=>{if(g($.schema[n])){const u={};N($.schema[n],(f,t,c)=>{const e=void 0!==t?t:f;return r(e)||g(e)||(u[`${n}.${c.path}`]=e),e}),delete $.schema[n],$.schema=Object.assign($.schema,u)}}),Object.keys($.schema).forEach(n=>{r($.schema[n])||($.schema[n]=[$.schema[n]]),$.schema[n]=$.schema[n].map(String).map(n=>n.toLowerCase()).map(n=>n.trim())})),e(f)||(f={}),c&&n($,d,{enforceStrictKeyset:!1},!1),$.enforceStrictKeyset)if(e($.schema)&&Object.keys($.schema).length>0){if(0!==v(_(Object.keys(u),Object.keys(f).concat(Object.keys($.schema))),$.ignoreKeys).length){const n=_(Object.keys(u),Object.keys(f).concat(Object.keys($.schema)));throw new TypeError(`${$.msg}: ${$.optsVarName}.enforceStrictKeyset is on and the following key${n.length>1?"s":""} ${n.length>1?"are":"is"} not covered by schema and/or reference objects: ${n.join(", ")}`)}}else{if(!(e(f)&&Object.keys(f).length>0))throw new TypeError(`${$.msg}: Both ${$.optsVarName}.schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!`);if(0!==v(_(Object.keys(u),Object.keys(f)),$.ignoreKeys).length){const n=_(Object.keys(u),Object.keys(f));throw new TypeError(`${$.msg}: The input object has key${n.length>1?"s":""} which ${n.length>1?"are":"is"} not covered by the reference object: ${n.join(", ")}`)}if(0!==v(_(Object.keys(f),Object.keys(u)),$.ignoreKeys).length){const n=_(Object.keys(f),Object.keys(u));throw new TypeError(`${$.msg}: The reference object has key${n.length>1?"s":""} which ${n.length>1?"are":"is"} not present in the input object: ${n.join(", ")}`)}}const j=[];N(u,(n,u,t)=>{const c=void 0!==u?u:n;if(r(j)&&j.length&&j.some(n=>t.path.startsWith(n)))return c;if(!(!$.enforceStrictKeyset||!g(c)&&!r(c)&&r(t.parent)||e($.schema)&&g($.schema)&&(!g($.schema)||Object.keys($.schema).length&&(r(t.parent)||Object.prototype.hasOwnProperty.call($.schema,t.path))&&(!r(t.parent)||In.has($.schema,o(t.path))))||e(f)&&g(f)&&(!g(f)||Object.keys(f).length&&($.acceptArrays||In.has(f,t.path))&&(!$.acceptArrays||(r(t.parent)||In.has(f,t.path))&&(!r(t.parent)||In.has(f,o(t.path)))))))throw new TypeError(`${$.msg}: ${$.optsVarName}.${t.path} is neither covered by reference object (second input argument), nor ${$.optsVarName}.schema! To stop this error, turn off ${$.optsVarName}.enforceStrictKeyset or provide some type reference (2nd argument or ${$.optsVarName}.schema).`);if(g($.schema)&&Object.keys($.schema).length&&Object.prototype.hasOwnProperty.call($.schema,t.path)){const n=jn($.schema[t.path]).map(String).map(n=>n.toLowerCase());if(In.set($.schema,t.path,n),$n(n,b).length)j.push(t.path);else if(!0!==c&&!1!==c&&!n.includes(h(c).toLowerCase())||(!0===c||!1===c)&&!n.includes(String(c))&&!n.includes("boolean")){if(!r(c)||!$.acceptArrays)throw new TypeError(`${$.msg}: ${$.optsVarName}.${t.path} was customised to ${"string"!==h(c)?'"':""}${JSON.stringify(c,null,0)}${"string"!==h(c)?'"':""} (type: ${h(c).toLowerCase()}) which is not among the allowed types in schema (which is equal to ${JSON.stringify(n,null,0)})`);for(let u=0,f=c.length;u<f;u++)if(!n.includes(h(c[u]).toLowerCase()))throw new TypeError(`${$.msg}: ${$.optsVarName}.${t.path}.${u}, the ${Hn(u+1)} element (equal to ${JSON.stringify(c[u],null,0)}) is of a type ${h(c[u]).toLowerCase()}, but only the following are allowed by the ${$.optsVarName}.schema: ${n.join(", ")}`)}}else if(e(f)&&Object.keys(f).length&&In.has(f,t.path)&&h(c)!==h(In.get(f,t.path))&&(!$.ignoreKeys||!$.ignoreKeys.some(u=>Jn.isMatch(n,u)))&&(!$.ignorePaths||!$.ignorePaths.some(n=>Jn.isMatch(t.path,n)))){const u=In.get(f,t.path);if(!$.acceptArrays||!r(c)||$.acceptArraysIgnore.includes(n))throw new TypeError(`${$.msg}: ${$.optsVarName}.${t.path} was customised to ${"string"===h(c).toLowerCase()?"":'"'}${JSON.stringify(c,null,0)}${"string"===h(c).toLowerCase()?"":'"'} which is not ${h(u).toLowerCase()} but ${h(c).toLowerCase()}`);if(!c.every(u=>h(u).toLowerCase()===h(f[n]).toLowerCase()))throw new TypeError(`${$.msg}: ${$.optsVarName}.${t.path} was customised to be array, but not all of its elements are ${h(f[n]).toLowerCase()}-type`)}return c})}(n,u,f)}Jn.isMatch=((n,u,f)=>{const t=qn(u,f),c=t.test(n);return t.negated?!c:c});const Nn=Array.isArray;function Tn(n,f){if(!Nn(n))throw new TypeError(`ranges-sort: [THROW_ID_01] Input must be an array, consisting of range arrays! Currently its type is: ${typeof n}, equal to: ${JSON.stringify(n,null,4)}`);if(0===n.length)return n;const t={strictlyTwoElementsInRangeArrays:!1,progressFn:null},c=Object.assign({},t,f);let h,g;if(Dn(c,t,{msg:"ranges-sort: [THROW_ID_02*]",schema:{progressFn:["function","false","null"]}}),c.strictlyTwoElementsInRangeArrays&&!n.every((n,u)=>2===n.length||(h=u,g=n.length,!1)))throw new TypeError(`ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ${e(h)} range (${JSON.stringify(n[h],null,4)}) has not two but ${g} elements!`);if(!n.every((n,f)=>!(!u(n[0],{includeZero:!0})||!u(n[1],{includeZero:!0}))||(h=f,!1)))throw new TypeError(`ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ${e(h)} range (${JSON.stringify(n[h],null,4)}) does not consist of only natural numbers!`);const v=n.length*n.length;let o=0;return Array.from(n).sort((n,u)=>(c.progressFn&&(o++,c.progressFn(Math.floor(100*o/v))),n[0]===u[0]?n[1]<u[1]?-1:n[1]>u[1]?1:0:n[0]<u[0]?-1:1))}function Qn(n,u){if(!Array.isArray(n))return n;if(u&&"function"!=typeof u)throw new Error(`ranges-merge: [THROW_ID_01] the second input argument must be a function! It was given of a type: "${typeof u}", equal to ${JSON.stringify(u,null,4)}`);const f=d(n).filter(n=>void 0!==n[2]||n[0]!==n[1]);let t,c,e;const h=(t=u?Tn(f,{progressFn:n=>{(e=Math.floor(n/5))!==c&&(c=e,u(e))}}):Tn(f)).length-1;for(let n=h;n>0;n--)u&&(e=Math.floor(78*(1-n/h))+21)!==c&&e>c&&(c=e,u(e)),(t[n][0]<=t[n-1][0]||t[n][0]<=t[n-1][1])&&(t[n-1][0]=Math.min(t[n][0],t[n-1][0]),t[n-1][1]=Math.max(t[n][1],t[n-1][1]),void 0!==t[n][2]&&(t[n-1][0]>=t[n][0]||t[n-1][1]<=t[n][1])&&null!==t[n-1][2]&&(null===t[n][2]&&null!==t[n-1][2]?t[n-1][2]=null:void 0!==t[n-1][2]?t[n-1][2]+=t[n][2]:t[n-1][2]=t[n][2]),t.splice(n,1),n=t.length);return t}const Vn=Array.isArray;function Yn(n,u){let f;if(f=u&&"number"==typeof u?u:1,"string"==typeof n){if(0===n.length)return"";if(""===n.trim()){const u=(n.match(/\n/g)||[]).length;return u?"\n".repeat(Math.min(u,f)):" "}let u="";if(""===n[0].trim()){u=" ";let t=0;for(let u=0,f=n.length;u<f&&("\n"===n[u]&&t++,0===n[u].trim().length);u++);t&&(u="\n".repeat(Math.min(t,f)))}let t="";if(""===n.slice(-1).trim()){t=" ";let u=0;for(let f=n.length;f--&&("\n"===n[f]&&u++,0===n[f].trim().length););u&&(t="\n".repeat(Math.min(u,f)))}return u+n.trim()+t}return n}function zn(n){return null!=n}const Xn=Array.isArray;function Gn(n){return"string"==typeof n}function kn(n){return f(n,{includeZero:!0})?parseInt(n,10):n}class yn{constructor(n){const u={limitToBeAddedWhitespace:!1,limitLinebreaksCount:1},f=Object.assign({},u,n);Dn(f,u,{msg:"string-slices-array-push: [THROW_ID_02*]"}),this.opts=f}add(n=function(n){throw new Error(`string-slices-array-push/Slices/add(): [THROW_ID_01] Missing ${e(n)} input parameter!`)}(1),t,c,...h){if(h.length>0)throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_03] Please don't overload the add() method. From the 4th input argument onwards we see these redundant arguments: ${JSON.stringify(h,null,4)}`);if(null===n&&void 0===t&&void 0===c)return;const g=f(n,{includeZero:!0})?parseInt(n,10):n,v=f(t,{includeZero:!0})?parseInt(t,10):t;if(Xn(n)&&!zn(t)){let f,t;if(n.length>0){if(!n.every((n,u)=>!!Xn(n)||(f=u,t=n,!1)))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_07] first argument was given as array but it contains not only range arrays. For example, at index ${f} we have ${typeof t}-type value:\n${JSON.stringify(t,null,4)}.`);n.forEach((n,f)=>{if(!u(kn(n[0]),{includeZero:!0}))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_06] The ${e(f)} ranges array's starting range index, an element at its zero'th index, is not a natural number! It's equal to: ${n[0]}.`);if(!u(kn(n[1]),{includeZero:!0}))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_05] The ${e(f)} ranges array's ending range index, an element at its first index, is not a natural number! It's equal to: ${n[1]}.`);if(zn(n[2])&&!Gn(n[2]))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_04] The ${e(f)} ranges array's "to add" value is not string but ${typeof n[2]}! It's equal to: ${n[2]}.`);this.add(...n)})}}else{if(!u(g,{includeZero:!0})||!u(v,{includeZero:!0}))throw u(g,{includeZero:!0})?new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it's of a type "${typeof v}" equal to: ${JSON.stringify(v,null,4)}`):new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it's of a type "${typeof g}" equal to: ${JSON.stringify(g,null,4)}`);if(zn(c)&&!Gn(c))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but ${typeof c}, equal to:\n${JSON.stringify(c,null,4)}`);if(zn(this.slices)&&Xn(this.last())&&g===this.last()[1]){if(this.last()[1]=v,null!==this.last()[2]&&zn(c)){let n=zn(this.last()[2])&&this.last()[2].length>0?this.last()[2]+c:c;this.opts.limitToBeAddedWhitespace&&(n=Yn(n,this.opts.limitLinebreaksCount)),Gn(n)&&!n.length||(this.last()[2]=n)}}else this.slices||(this.slices=[]),this.slices.push(void 0===c||Gn(c)&&!c.length?[g,v]:[g,v,this.opts.limitToBeAddedWhitespace?Yn(c,this.opts.limitLinebreaksCount):c])}}push(n,u,f,...t){this.add(n,u,f,...t)}current(){return null!=this.slices?(this.slices=Qn(this.slices),this.opts.limitToBeAddedWhitespace?this.slices.map(n=>zn(n[2])?[n[0],n[1],Yn(n[2],this.opts.limitLinebreaksCount)]:n):this.slices):null}wipe(){this.slices=void 0}last(){return void 0!==this.slices&&Array.isArray(this.slices)?this.slices[this.slices.length-1]:null}}var Fn=c(function(n,u){!function(f){function t(n,u){return u instanceof Object||(u={trim:!0}),"number"==typeof n&&!isNaN(n)||(n=(n||"").toString(),"trim"in u&&!u.trim?!/\s/.test(n):!!(n=n.trim())&&!isNaN(n))}n.exports&&(u=n.exports=t),u.isNumeric=t}()}),Rn=(Fn.isNumeric,1/0),Bn="[object Symbol]",Ln=/^\s+|\s+$/g,xn="[\\ud800-\\udfff]",Kn="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",On="\\ud83c[\\udffb-\\udfff]",An="[^\\ud800-\\udfff]",Cn="(?:\\ud83c[\\udde6-\\uddff]){2}",ln="[\\ud800-\\udbff][\\udc00-\\udfff]",pn="(?:"+Kn+"|"+On+")"+"?",wn="[\\ufe0e\\ufe0f]?"+pn+("(?:\\u200d(?:"+[An,Cn,ln].join("|")+")[\\ufe0e\\ufe0f]?"+pn+")*"),an="(?:"+[An+Kn+"?",Kn,Cn,ln,xn].join("|")+")",En=RegExp(On+"(?="+On+")|"+an+wn,"g"),Sn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),sn="object"==typeof t&&t&&t.Object===Object&&t,mn="object"==typeof self&&self&&self.Object===Object&&self,nu=sn||mn||Function("return this")();function uu(n,u,f){if(u!=u)return function(n,u,f,t){for(var c=n.length,e=f+(t?1:-1);t?e--:++e<c;)if(u(n[e],e,n))return e;return-1}(n,fu,f);for(var t=f-1,c=n.length;++t<c;)if(n[t]===u)return t;return-1}function fu(n){return n!=n}function tu(n){return function(n){return Sn.test(n)}(n)?function(n){return n.match(En)||[]}(n):function(n){return n.split("")}(n)}var cu=Object.prototype.toString,eu=nu.Symbol,hu=eu?eu.prototype:void 0,gu=hu?hu.toString:void 0;function vu(n){if("string"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&cu.call(n)==Bn}(n))return gu?gu.call(n):"";var u=n+"";return"0"==u&&1/n==-Rn?"-0":u}function ou(n,u,f){var t=n.length;return f=void 0===f?t:f,!u&&f>=t?n:function(n,u,f){var t=-1,c=n.length;u<0&&(u=-u>c?0:c+u),(f=f>c?c:f)<0&&(f+=c),c=u>f?0:f-u>>>0,u>>>=0;for(var e=Array(c);++t<c;)e[t]=n[t+u];return e}(n,u,f)}var bu=function(n,u,f){var t;if((n=null==(t=n)?"":vu(t))&&(f||void 0===u))return n.replace(Ln,"");if(!n||!(u=vu(u)))return n;var c=tu(n),e=tu(u);return ou(c,function(n,u){for(var f=-1,t=n.length;++f<t&&uu(u,n[f],0)>-1;);return f}(c,e),function(n,u){for(var f=n.length;f--&&uu(u,n[f],0)>-1;);return f}(c,e)+1).join("")};function ru(n,t){let c=!0;const h=[".",",","'"," "];let g;if("string"!=typeof n)throw new TypeError(`string-remove-thousand-separators/remSep(): [THROW_ID_01] Input must be string! Currently it's: ${typeof n}, equal to:\n${JSON.stringify(n,null,4)}`);if(null!=t&&!q(t))throw new TypeError(`string-remove-thousand-separators/remSep(): [THROW_ID_02] Options object must be a plain object! Currently it's: ${typeof t}, equal to:\n${JSON.stringify(t,null,4)}`);const v={removeThousandSeparatorsFromNumbers:!0,padSingleDecimalPlaceNumbers:!0,forceUKStyle:!1},o=Object.assign({},v,t);Dn(o,v,{msg:"string-remove-thousand-separators/remSep(): [THROW_ID_03*]"});const b=bu(n.trim(),'"');if(""===b)return b;const r=new yn;for(let n=0,u=b.length;n<u;n++){if(o.removeThousandSeparatorsFromNumbers&&""===b[n].trim()&&r.add(n,n+1),o.removeThousandSeparatorsFromNumbers&&"'"===b[n]&&(r.add(n,n+1),"'"===b[n+1])){c=!1;break}if(h.includes(b[n])){if(void 0!==b[n+1]&&Fn(b[n+1]))if(void 0!==b[n+2]){if(!Fn(b[n+2])){c=!1;break}if(void 0!==b[n+3]){if(!Fn(b[n+3])){c=!1;break}if(void 0!==b[n+4]&&Fn(b[n+4])){c=!1;break}if(o.removeThousandSeparatorsFromNumbers&&r.add(n,n+1),g){if(b[n]!==g){c=!1;break}}else g=b[n]}else o.removeThousandSeparatorsFromNumbers&&o.forceUKStyle&&","===b[n]&&r.add(n,n+1,".")}else o.forceUKStyle&&","===b[n]&&r.add(n,n+1,"."),o.padSingleDecimalPlaceNumbers&&r.add(n+2,n+2,"0")}else if(!Fn(b[n])){c=!1;break}}return c&&r.current()?function(n,t,c){let h=0,g=0;if(0===arguments.length)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if("string"!=typeof n)throw new TypeError(`ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ${typeof n}, equal to: ${JSON.stringify(n,null,4)}`);if(null===t)return n;if(!Vn(t))throw new TypeError(`ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ${typeof t}, equal to: ${JSON.stringify(t,null,4)}`);if(c&&"function"!=typeof c)throw new TypeError(`ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ${typeof c}, equal to: ${JSON.stringify(c,null,4)}`);Vn(t)&&(u(t[0],{includeZero:!0})||f(t[0],{includeZero:!0}))&&(u(t[1],{includeZero:!0})||f(t[1],{includeZero:!0}))&&(t=[t]);const v=t.length;let o=0;t.forEach((n,b)=>{if(c&&(h=Math.floor(o/v*10))!==g&&(g=h,c(h)),!Vn(n))throw new TypeError(`ranges-apply: [THROW_ID_05] ranges array, second input arg., has ${e(b)} element not an array: ${JSON.stringify(n,null,4)}, which is ${typeof n}`);if(!u(n[0],{includeZero:!0})){if(!f(n[0],{includeZero:!0}))throw new TypeError(`ranges-apply: [THROW_ID_06] ranges array, second input arg. has ${e(b)} element, array [${n[0]},${n[1]}]. That array has first element not an integer, but ${typeof n[0]}, equal to: ${JSON.stringify(n[0],null,4)}. Computer doesn't like this.`);t[b][0]=Number.parseInt(t[b][0],10)}if(!u(n[1],{includeZero:!0})){if(!f(n[1],{includeZero:!0}))throw new TypeError(`ranges-apply: [THROW_ID_07] ranges array, second input arg. has ${e(b)} element, array [${n[0]},${n[1]}]. That array has second element not an integer, but ${typeof n[1]}, equal to: ${JSON.stringify(n[1],null,4)}. Computer doesn't like this.`);t[b][1]=Number.parseInt(t[b][1],10)}o++});const b=Qn(t,n=>{c&&(h=10+Math.floor(n/10))!==g&&(g=h,c(h))}),r=b.length;if(r>0){const u=n.slice(b[r-1][1]);n=b.reduce((u,f,t,e)=>{c&&(h=20+Math.floor(t/r*80))!==g&&(g=h,c(h));const v=0===t?0:e[t-1][1],o=e[t][0];return u+n.slice(v,o)+(function(n){return null!=n}(e[t][2])?e[t][2]:"")},""),n+=u}return n}(b,r.current()):b}function _u(n,u,f){if(u!=u)return function(n,u,f,t){for(var c=n.length,e=f+(t?1:-1);t?e--:++e<c;)if(u(n[e],e,n))return e;return-1}(n,$u,f);for(var t=f-1,c=n.length;++t<c;)if(n[t]===u)return t;return-1}function du(n,u,f,t){for(var c=f-1,e=n.length;++c<e;)if(t(n[c],u))return c;return-1}function $u(n){return n!=n}var ju=Array.prototype.splice,iu=Math.max;function Iu(n,u,f,t){var c,e=t?du:_u,h=-1,g=u.length,v=n;for(n===u&&(u=function(n,u){var f=-1,t=n.length;u||(u=Array(t));for(;++f<t;)u[f]=n[f];return u}(u)),f&&(v=function(n,u){for(var f=-1,t=n?n.length:0,c=Array(t);++f<t;)c[f]=u(n[f],f,n);return c}(n,(c=f,function(n){return c(n)})));++h<g;)for(var o=0,b=u[h],r=f?f(b):b;(o=e(v,r,o,t))>-1;)v!==n&&ju.call(v,o,1),ju.call(n,o,1);return n}var Mu=function(n,u){return u=iu(void 0===u?n.length-1:u,0),function(){for(var f=arguments,t=-1,c=iu(f.length-u,0),e=Array(c);++t<c;)e[t]=f[u+t];t=-1;for(var h=Array(u+1);++t<u;)h[t]=f[t];return h[u]=e,function(n,u,f){switch(f.length){case 0:return n.call(u);case 1:return n.call(u,f[0]);case 2:return n.call(u,f[0],f[1]);case 3:return n.call(u,f[0],f[1],f[2])}return n.apply(u,f)}(n,this,h)}}(function(n,u){return n&&n.length&&u&&u.length?Iu(n,u):n}),Uu=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Hu=Math.ceil,Wu=Math.floor,Zu="[BigNumber Error] ",Pu=Zu+"Number primitive has more than 15 significant digits: ",qu=1e14,Ju=14,Du=9007199254740991,Nu=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Tu=1e7,Qu=1e9;function Vu(n){var u=0|n;return n>0||n===u?u:u-1}function Yu(n){for(var u,f,t=1,c=n.length,e=n[0]+"";t<c;){for(u=n[t++]+"",f=Ju-u.length;f--;u="0"+u);e+=u}for(c=e.length;48===e.charCodeAt(--c););return e.slice(0,c+1||1)}function zu(n,u){var f,t,c=n.c,e=u.c,h=n.s,g=u.s,v=n.e,o=u.e;if(!h||!g)return null;if(f=c&&!c[0],t=e&&!e[0],f||t)return f?t?0:-g:h;if(h!=g)return h;if(f=h<0,t=v==o,!c||!e)return t?0:!c^f?1:-1;if(!t)return v>o^f?1:-1;for(g=(v=c.length)<(o=e.length)?v:o,h=0;h<g;h++)if(c[h]!=e[h])return c[h]>e[h]^f?1:-1;return v==o?0:v>o^f?1:-1}function Xu(n,u,f,t){if(n<u||n>f||n!==(n<0?Hu(n):Wu(n)))throw Error(Zu+(t||"Argument")+("number"==typeof n?n<u||n>f?" out of range: ":" not an integer: ":" not a primitive number: ")+String(n))}function Gu(n){var u=n.c.length-1;return Vu(n.e/Ju)==u&&n.c[u]%2!=0}function ku(n,u){return(n.length>1?n.charAt(0)+"."+n.slice(1):n)+(u<0?"e":"e+")+u}function yu(n,u,f){var t,c;if(u<0){for(c=f+".";++u;c+=f);n=c+n}else if(++u>(t=n.length)){for(c=f,u-=t;--u;c+=f);n+=c}else u<t&&(n=n.slice(0,u)+"."+n.slice(u));return n}var Fu=function n(u){var f,t,c,e,h,g,v,o,b,r=q.prototype={constructor:q,toString:null,valueOf:null},_=new q(1),d=20,$=4,j=-7,i=21,I=-1e7,M=1e7,U=!1,H=1,W=0,Z={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},P="0123456789abcdefghijklmnopqrstuvwxyz";function q(n,u){var f,e,h,g,v,o,b,r,_=this;if(!(_ instanceof q))return new q(n,u);if(null==u){if(n instanceof q)return _.s=n.s,_.e=n.e,void(_.c=(n=n.c)?n.slice():n);if((o="number"==typeof n)&&0*n==0){if(_.s=1/n<0?(n=-n,-1):1,n===~~n){for(g=0,v=n;v>=10;v/=10,g++);return _.e=g,void(_.c=[n])}r=String(n)}else{if(r=String(n),!Uu.test(r))return c(_,r,o);_.s=45==r.charCodeAt(0)?(r=r.slice(1),-1):1}(g=r.indexOf("."))>-1&&(r=r.replace(".","")),(v=r.search(/e/i))>0?(g<0&&(g=v),g+=+r.slice(v+1),r=r.substring(0,v)):g<0&&(g=r.length)}else{if(Xu(u,2,P.length,"Base"),r=String(n),10==u)return T(_=new q(n instanceof q?n:r),d+_.e+1,$);if(o="number"==typeof n){if(0*n!=0)return c(_,r,o,u);if(_.s=1/n<0?(r=r.slice(1),-1):1,q.DEBUG&&r.replace(/^0\.0*|\./,"").length>15)throw Error(Pu+n);o=!1}else _.s=45===r.charCodeAt(0)?(r=r.slice(1),-1):1;for(f=P.slice(0,u),g=v=0,b=r.length;v<b;v++)if(f.indexOf(e=r.charAt(v))<0){if("."==e){if(v>g){g=b;continue}}else if(!h&&(r==r.toUpperCase()&&(r=r.toLowerCase())||r==r.toLowerCase()&&(r=r.toUpperCase()))){h=!0,v=-1,g=0;continue}return c(_,String(n),o,u)}(g=(r=t(r,u,10,_.s)).indexOf("."))>-1?r=r.replace(".",""):g=r.length}for(v=0;48===r.charCodeAt(v);v++);for(b=r.length;48===r.charCodeAt(--b););if(r=r.slice(v,++b)){if(b-=v,o&&q.DEBUG&&b>15&&(n>Du||n!==Wu(n)))throw Error(Pu+_.s*n);if((g=g-v-1)>M)_.c=_.e=null;else if(g<I)_.c=[_.e=0];else{if(_.e=g,_.c=[],v=(g+1)%Ju,g<0&&(v+=Ju),v<b){for(v&&_.c.push(+r.slice(0,v)),b-=Ju;v<b;)_.c.push(+r.slice(v,v+=Ju));r=r.slice(v),v=Ju-r.length}else v-=b;for(;v--;r+="0");_.c.push(+r)}}else _.c=[_.e=0]}function J(n,u,f,t){var c,e,h,g,v;if(null==f?f=$:Xu(f,0,8),!n.c)return n.toString();if(c=n.c[0],h=n.e,null==u)v=Yu(n.c),v=1==t||2==t&&h<=j?ku(v,h):yu(v,h,"0");else if(e=(n=T(new q(n),u,f)).e,g=(v=Yu(n.c)).length,1==t||2==t&&(u<=e||e<=j)){for(;g<u;v+="0",g++);v=ku(v,e)}else if(u-=h,v=yu(v,e,"0"),e+1>g){if(--u>0)for(v+=".";u--;v+="0");}else if((u+=e-g)>0)for(e+1==g&&(v+=".");u--;v+="0");return n.s<0&&c?"-"+v:v}function D(n,u){for(var f,t=1,c=new q(n[0]);t<n.length;t++){if(!(f=new q(n[t])).s){c=f;break}u.call(c,f)&&(c=f)}return c}function N(n,u,f){for(var t=1,c=u.length;!u[--c];u.pop());for(c=u[0];c>=10;c/=10,t++);return(f=t+f*Ju-1)>M?n.c=n.e=null:f<I?n.c=[n.e=0]:(n.e=f,n.c=u),n}function T(n,u,f,t){var c,e,h,g,v,o,b,r=n.c,_=Nu;if(r){n:{for(c=1,g=r[0];g>=10;g/=10,c++);if((e=u-c)<0)e+=Ju,h=u,b=(v=r[o=0])/_[c-h-1]%10|0;else if((o=Hu((e+1)/Ju))>=r.length){if(!t)break n;for(;r.length<=o;r.push(0));v=b=0,c=1,h=(e%=Ju)-Ju+1}else{for(v=g=r[o],c=1;g>=10;g/=10,c++);b=(h=(e%=Ju)-Ju+c)<0?0:v/_[c-h-1]%10|0}if(t=t||u<0||null!=r[o+1]||(h<0?v:v%_[c-h-1]),t=f<4?(b||t)&&(0==f||f==(n.s<0?3:2)):b>5||5==b&&(4==f||t||6==f&&(e>0?h>0?v/_[c-h]:0:r[o-1])%10&1||f==(n.s<0?8:7)),u<1||!r[0])return r.length=0,t?(u-=n.e+1,r[0]=_[(Ju-u%Ju)%Ju],n.e=-u||0):r[0]=n.e=0,n;if(0==e?(r.length=o,g=1,o--):(r.length=o+1,g=_[Ju-e],r[o]=h>0?Wu(v/_[c-h]%_[h])*g:0),t)for(;;){if(0==o){for(e=1,h=r[0];h>=10;h/=10,e++);for(h=r[0]+=g,g=1;h>=10;h/=10,g++);e!=g&&(n.e++,r[0]==qu&&(r[0]=1));break}if(r[o]+=g,r[o]!=qu)break;r[o--]=0,g=1}for(e=r.length;0===r[--e];r.pop());}n.e>M?n.c=n.e=null:n.e<I&&(n.c=[n.e=0])}return n}function Q(n){var u,f=n.e;return null===f?n.toString():(u=Yu(n.c),u=f<=j||f>=i?ku(u,f):yu(u,f,"0"),n.s<0?"-"+u:u)}return q.clone=n,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(n){var u,f;if(null!=n){if("object"!=typeof n)throw Error(Zu+"Object expected: "+n);if(n.hasOwnProperty(u="DECIMAL_PLACES")&&(Xu(f=n[u],0,Qu,u),d=f),n.hasOwnProperty(u="ROUNDING_MODE")&&(Xu(f=n[u],0,8,u),$=f),n.hasOwnProperty(u="EXPONENTIAL_AT")&&((f=n[u])&&f.pop?(Xu(f[0],-Qu,0,u),Xu(f[1],0,Qu,u),j=f[0],i=f[1]):(Xu(f,-Qu,Qu,u),j=-(i=f<0?-f:f))),n.hasOwnProperty(u="RANGE"))if((f=n[u])&&f.pop)Xu(f[0],-Qu,-1,u),Xu(f[1],1,Qu,u),I=f[0],M=f[1];else{if(Xu(f,-Qu,Qu,u),!f)throw Error(Zu+u+" cannot be zero: "+f);I=-(M=f<0?-f:f)}if(n.hasOwnProperty(u="CRYPTO")){if((f=n[u])!==!!f)throw Error(Zu+u+" not true or false: "+f);if(f){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!f,Error(Zu+"crypto unavailable");U=f}else U=f}if(n.hasOwnProperty(u="MODULO_MODE")&&(Xu(f=n[u],0,9,u),H=f),n.hasOwnProperty(u="POW_PRECISION")&&(Xu(f=n[u],0,Qu,u),W=f),n.hasOwnProperty(u="FORMAT")){if("object"!=typeof(f=n[u]))throw Error(Zu+u+" not an object: "+f);Z=f}if(n.hasOwnProperty(u="ALPHABET")){if("string"!=typeof(f=n[u])||/^.$|[+-.\s]|(.).*\1/.test(f))throw Error(Zu+u+" invalid: "+f);P=f}}return{DECIMAL_PLACES:d,ROUNDING_MODE:$,EXPONENTIAL_AT:[j,i],RANGE:[I,M],CRYPTO:U,MODULO_MODE:H,POW_PRECISION:W,FORMAT:Z,ALPHABET:P}},q.isBigNumber=function(n){return"[object BigNumber]"==Object.prototype.toString.call(n)},q.maximum=q.max=function(){return D(arguments,r.lt)},q.minimum=q.min=function(){return D(arguments,r.gt)},q.random=(e=9007199254740992*Math.random()&2097151?function(){return Wu(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(n){var u,f,t,c,h,g=0,v=[],o=new q(_);if(null==n?n=d:Xu(n,0,Qu),c=Hu(n/Ju),U)if(crypto.getRandomValues){for(u=crypto.getRandomValues(new Uint32Array(c*=2));g<c;)(h=131072*u[g]+(u[g+1]>>>11))>=9e15?(f=crypto.getRandomValues(new Uint32Array(2)),u[g]=f[0],u[g+1]=f[1]):(v.push(h%1e14),g+=2);g=c/2}else{if(!crypto.randomBytes)throw U=!1,Error(Zu+"crypto unavailable");for(u=crypto.randomBytes(c*=7);g<c;)(h=281474976710656*(31&u[g])+1099511627776*u[g+1]+4294967296*u[g+2]+16777216*u[g+3]+(u[g+4]<<16)+(u[g+5]<<8)+u[g+6])>=9e15?crypto.randomBytes(7).copy(u,g):(v.push(h%1e14),g+=7);g=c/7}if(!U)for(;g<c;)(h=e())<9e15&&(v[g++]=h%1e14);for(c=v[--g],n%=Ju,c&&n&&(h=Nu[Ju-n],v[g]=Wu(c/h)*h);0===v[g];v.pop(),g--);if(g<0)v=[t=0];else{for(t=-1;0===v[0];v.splice(0,1),t-=Ju);for(g=1,h=v[0];h>=10;h/=10,g++);g<Ju&&(t-=Ju-g)}return o.e=t,o.c=v,o}),q.sum=function(){for(var n=1,u=arguments,f=new q(u[0]);n<u.length;)f=f.plus(u[n++]);return f},t=function(){function n(n,u,f,t){for(var c,e,h=[0],g=0,v=n.length;g<v;){for(e=h.length;e--;h[e]*=u);for(h[0]+=t.indexOf(n.charAt(g++)),c=0;c<h.length;c++)h[c]>f-1&&(null==h[c+1]&&(h[c+1]=0),h[c+1]+=h[c]/f|0,h[c]%=f)}return h.reverse()}return function(u,t,c,e,h){var g,v,o,b,r,_,j,i,I=u.indexOf("."),M=d,U=$;for(I>=0&&(b=W,W=0,u=u.replace(".",""),_=(i=new q(t)).pow(u.length-I),W=b,i.c=n(yu(Yu(_.c),_.e,"0"),10,c,"0123456789"),i.e=i.c.length),o=b=(j=n(u,t,c,h?(g=P,"0123456789"):(g="0123456789",P))).length;0==j[--b];j.pop());if(!j[0])return g.charAt(0);if(I<0?--o:(_.c=j,_.e=o,_.s=e,j=(_=f(_,i,M,U,c)).c,r=_.r,o=_.e),I=j[v=o+M+1],b=c/2,r=r||v<0||null!=j[v+1],r=U<4?(null!=I||r)&&(0==U||U==(_.s<0?3:2)):I>b||I==b&&(4==U||r||6==U&&1&j[v-1]||U==(_.s<0?8:7)),v<1||!j[0])u=r?yu(g.charAt(1),-M,g.charAt(0)):g.charAt(0);else{if(j.length=v,r)for(--c;++j[--v]>c;)j[v]=0,v||(++o,j=[1].concat(j));for(b=j.length;!j[--b];);for(I=0,u="";I<=b;u+=g.charAt(j[I++]));u=yu(u,o,g.charAt(0))}return u}}(),f=function(){function n(n,u,f){var t,c,e,h,g=0,v=n.length,o=u%Tu,b=u/Tu|0;for(n=n.slice();v--;)g=((c=o*(e=n[v]%Tu)+(t=b*e+(h=n[v]/Tu|0)*o)%Tu*Tu+g)/f|0)+(t/Tu|0)+b*h,n[v]=c%f;return g&&(n=[g].concat(n)),n}function u(n,u,f,t){var c,e;if(f!=t)e=f>t?1:-1;else for(c=e=0;c<f;c++)if(n[c]!=u[c]){e=n[c]>u[c]?1:-1;break}return e}function f(n,u,f,t){for(var c=0;f--;)n[f]-=c,c=n[f]<u[f]?1:0,n[f]=c*t+n[f]-u[f];for(;!n[0]&&n.length>1;n.splice(0,1));}return function(t,c,e,h,g){var v,o,b,r,_,d,$,j,i,I,M,U,H,W,Z,P,J,D=t.s==c.s?1:-1,N=t.c,Q=c.c;if(!(N&&N[0]&&Q&&Q[0]))return new q(t.s&&c.s&&(N?!Q||N[0]!=Q[0]:Q)?N&&0==N[0]||!Q?0*D:D/0:NaN);for(i=(j=new q(D)).c=[],D=e+(o=t.e-c.e)+1,g||(g=qu,o=Vu(t.e/Ju)-Vu(c.e/Ju),D=D/Ju|0),b=0;Q[b]==(N[b]||0);b++);if(Q[b]>(N[b]||0)&&o--,D<0)i.push(1),r=!0;else{for(W=N.length,P=Q.length,b=0,D+=2,(_=Wu(g/(Q[0]+1)))>1&&(Q=n(Q,_,g),N=n(N,_,g),P=Q.length,W=N.length),H=P,M=(I=N.slice(0,P)).length;M<P;I[M++]=0);J=Q.slice(),J=[0].concat(J),Z=Q[0],Q[1]>=g/2&&Z++;do{if(_=0,(v=u(Q,I,P,M))<0){if(U=I[0],P!=M&&(U=U*g+(I[1]||0)),(_=Wu(U/Z))>1)for(_>=g&&(_=g-1),$=(d=n(Q,_,g)).length,M=I.length;1==u(d,I,$,M);)_--,f(d,P<$?J:Q,$,g),$=d.length,v=1;else 0==_&&(v=_=1),$=(d=Q.slice()).length;if($<M&&(d=[0].concat(d)),f(I,d,M,g),M=I.length,-1==v)for(;u(Q,I,P,M)<1;)_++,f(I,P<M?J:Q,M,g),M=I.length}else 0===v&&(_++,I=[0]);i[b++]=_,I[0]?I[M++]=N[H]||0:(I=[N[H]],M=1)}while((H++<W||null!=I[0])&&D--);r=null!=I[0],i[0]||i.splice(0,1)}if(g==qu){for(b=1,D=i[0];D>=10;D/=10,b++);T(j,e+(j.e=b+o*Ju-1)+1,h,r)}else j.e=o,j.r=+r;return j}}(),h=/^(-?)0([xbo])(?=\w[\w.]*$)/i,g=/^([^.]+)\.$/,v=/^\.([^.]+)$/,o=/^-?(Infinity|NaN)$/,b=/^\s*\+(?=[\w.])|^\s+|\s+$/g,c=function(n,u,f,t){var c,e=f?u:u.replace(b,"");if(o.test(e))n.s=isNaN(e)?null:e<0?-1:1,n.c=n.e=null;else{if(!f&&(e=e.replace(h,function(n,u,f){return c="x"==(f=f.toLowerCase())?16:"b"==f?2:8,t&&t!=c?n:u}),t&&(c=t,e=e.replace(g,"$1").replace(v,"0.$1")),u!=e))return new q(e,c);if(q.DEBUG)throw Error(Zu+"Not a"+(t?" base "+t:"")+" number: "+u);n.c=n.e=n.s=null}},r.absoluteValue=r.abs=function(){var n=new q(this);return n.s<0&&(n.s=1),n},r.comparedTo=function(n,u){return zu(this,new q(n,u))},r.decimalPlaces=r.dp=function(n,u){var f,t,c,e=this;if(null!=n)return Xu(n,0,Qu),null==u?u=$:Xu(u,0,8),T(new q(e),n+e.e+1,u);if(!(f=e.c))return null;if(t=((c=f.length-1)-Vu(this.e/Ju))*Ju,c=f[c])for(;c%10==0;c/=10,t--);return t<0&&(t=0),t},r.dividedBy=r.div=function(n,u){return f(this,new q(n,u),d,$)},r.dividedToIntegerBy=r.idiv=function(n,u){return f(this,new q(n,u),0,1)},r.exponentiatedBy=r.pow=function(n,u){var f,t,c,e,h,g,v,o,b=this;if((n=new q(n)).c&&!n.isInteger())throw Error(Zu+"Exponent not an integer: "+Q(n));if(null!=u&&(u=new q(u)),h=n.e>14,!b.c||!b.c[0]||1==b.c[0]&&!b.e&&1==b.c.length||!n.c||!n.c[0])return o=new q(Math.pow(+Q(b),h?2-Gu(n):+Q(n))),u?o.mod(u):o;if(g=n.s<0,u){if(u.c?!u.c[0]:!u.s)return new q(NaN);(t=!g&&b.isInteger()&&u.isInteger())&&(b=b.mod(u))}else{if(n.e>9&&(b.e>0||b.e<-1||(0==b.e?b.c[0]>1||h&&b.c[1]>=24e7:b.c[0]<8e13||h&&b.c[0]<=9999975e7)))return e=b.s<0&&Gu(n)?-0:0,b.e>-1&&(e=1/e),new q(g?1/e:e);W&&(e=Hu(W/Ju+2))}for(h?(f=new q(.5),g&&(n.s=1),v=Gu(n)):v=(c=Math.abs(+Q(n)))%2,o=new q(_);;){if(v){if(!(o=o.times(b)).c)break;e?o.c.length>e&&(o.c.length=e):t&&(o=o.mod(u))}if(c){if(0===(c=Wu(c/2)))break;v=c%2}else if(T(n=n.times(f),n.e+1,1),n.e>14)v=Gu(n);else{if(0==(c=+Q(n)))break;v=c%2}b=b.times(b),e?b.c&&b.c.length>e&&(b.c.length=e):t&&(b=b.mod(u))}return t?o:(g&&(o=_.div(o)),u?o.mod(u):e?T(o,W,$,void 0):o)},r.integerValue=function(n){var u=new q(this);return null==n?n=$:Xu(n,0,8),T(u,u.e+1,n)},r.isEqualTo=r.eq=function(n,u){return 0===zu(this,new q(n,u))},r.isFinite=function(){return!!this.c},r.isGreaterThan=r.gt=function(n,u){return zu(this,new q(n,u))>0},r.isGreaterThanOrEqualTo=r.gte=function(n,u){return 1===(u=zu(this,new q(n,u)))||0===u},r.isInteger=function(){return!!this.c&&Vu(this.e/Ju)>this.c.length-2},r.isLessThan=r.lt=function(n,u){return zu(this,new q(n,u))<0},r.isLessThanOrEqualTo=r.lte=function(n,u){return-1===(u=zu(this,new q(n,u)))||0===u},r.isNaN=function(){return!this.s},r.isNegative=function(){return this.s<0},r.isPositive=function(){return this.s>0},r.isZero=function(){return!!this.c&&0==this.c[0]},r.minus=function(n,u){var f,t,c,e,h=this,g=h.s;if(u=(n=new q(n,u)).s,!g||!u)return new q(NaN);if(g!=u)return n.s=-u,h.plus(n);var v=h.e/Ju,o=n.e/Ju,b=h.c,r=n.c;if(!v||!o){if(!b||!r)return b?(n.s=-u,n):new q(r?h:NaN);if(!b[0]||!r[0])return r[0]?(n.s=-u,n):new q(b[0]?h:3==$?-0:0)}if(v=Vu(v),o=Vu(o),b=b.slice(),g=v-o){for((e=g<0)?(g=-g,c=b):(o=v,c=r),c.reverse(),u=g;u--;c.push(0));c.reverse()}else for(t=(e=(g=b.length)<(u=r.length))?g:u,g=u=0;u<t;u++)if(b[u]!=r[u]){e=b[u]<r[u];break}if(e&&(c=b,b=r,r=c,n.s=-n.s),(u=(t=r.length)-(f=b.length))>0)for(;u--;b[f++]=0);for(u=qu-1;t>g;){if(b[--t]<r[t]){for(f=t;f&&!b[--f];b[f]=u);--b[f],b[t]+=qu}b[t]-=r[t]}for(;0==b[0];b.splice(0,1),--o);return b[0]?N(n,b,o):(n.s=3==$?-1:1,n.c=[n.e=0],n)},r.modulo=r.mod=function(n,u){var t,c,e=this;return n=new q(n,u),!e.c||!n.s||n.c&&!n.c[0]?new q(NaN):!n.c||e.c&&!e.c[0]?new q(e):(9==H?(c=n.s,n.s=1,t=f(e,n,0,3),n.s=c,t.s*=c):t=f(e,n,0,H),(n=e.minus(t.times(n))).c[0]||1!=H||(n.s=e.s),n)},r.multipliedBy=r.times=function(n,u){var f,t,c,e,h,g,v,o,b,r,_,d,$,j,i,I=this,M=I.c,U=(n=new q(n,u)).c;if(!(M&&U&&M[0]&&U[0]))return!I.s||!n.s||M&&!M[0]&&!U||U&&!U[0]&&!M?n.c=n.e=n.s=null:(n.s*=I.s,M&&U?(n.c=[0],n.e=0):n.c=n.e=null),n;for(t=Vu(I.e/Ju)+Vu(n.e/Ju),n.s*=I.s,(v=M.length)<(r=U.length)&&($=M,M=U,U=$,c=v,v=r,r=c),c=v+r,$=[];c--;$.push(0));for(j=qu,i=Tu,c=r;--c>=0;){for(f=0,_=U[c]%i,d=U[c]/i|0,e=c+(h=v);e>c;)f=((o=_*(o=M[--h]%i)+(g=d*o+(b=M[h]/i|0)*_)%i*i+$[e]+f)/j|0)+(g/i|0)+d*b,$[e--]=o%j;$[e]=f}return f?++t:$.splice(0,1),N(n,$,t)},r.negated=function(){var n=new q(this);return n.s=-n.s||null,n},r.plus=function(n,u){var f,t=this,c=t.s;if(u=(n=new q(n,u)).s,!c||!u)return new q(NaN);if(c!=u)return n.s=-u,t.minus(n);var e=t.e/Ju,h=n.e/Ju,g=t.c,v=n.c;if(!e||!h){if(!g||!v)return new q(c/0);if(!g[0]||!v[0])return v[0]?n:new q(g[0]?t:0*c)}if(e=Vu(e),h=Vu(h),g=g.slice(),c=e-h){for(c>0?(h=e,f=v):(c=-c,f=g),f.reverse();c--;f.push(0));f.reverse()}for((c=g.length)-(u=v.length)<0&&(f=v,v=g,g=f,u=c),c=0;u;)c=(g[--u]=g[u]+v[u]+c)/qu|0,g[u]=qu===g[u]?0:g[u]%qu;return c&&(g=[c].concat(g),++h),N(n,g,h)},r.precision=r.sd=function(n,u){var f,t,c,e=this;if(null!=n&&n!==!!n)return Xu(n,1,Qu),null==u?u=$:Xu(u,0,8),T(new q(e),n,u);if(!(f=e.c))return null;if(t=(c=f.length-1)*Ju+1,c=f[c]){for(;c%10==0;c/=10,t--);for(c=f[0];c>=10;c/=10,t++);}return n&&e.e+1>t&&(t=e.e+1),t},r.shiftedBy=function(n){return Xu(n,-Du,Du),this.times("1e"+n)},r.squareRoot=r.sqrt=function(){var n,u,t,c,e,h=this,g=h.c,v=h.s,o=h.e,b=d+4,r=new q("0.5");if(1!==v||!g||!g[0])return new q(!v||v<0&&(!g||g[0])?NaN:g?h:1/0);if(0==(v=Math.sqrt(+Q(h)))||v==1/0?(((u=Yu(g)).length+o)%2==0&&(u+="0"),v=Math.sqrt(+u),o=Vu((o+1)/2)-(o<0||o%2),t=new q(u=v==1/0?"1e"+o:(u=v.toExponential()).slice(0,u.indexOf("e")+1)+o)):t=new q(v+""),t.c[0])for((v=(o=t.e)+b)<3&&(v=0);;)if(e=t,t=r.times(e.plus(f(h,e,b,1))),Yu(e.c).slice(0,v)===(u=Yu(t.c)).slice(0,v)){if(t.e<o&&--v,"9999"!=(u=u.slice(v-3,v+1))&&(c||"4999"!=u)){+u&&(+u.slice(1)||"5"!=u.charAt(0))||(T(t,t.e+d+2,1),n=!t.times(t).eq(h));break}if(!c&&(T(e,e.e+d+2,0),e.times(e).eq(h))){t=e;break}b+=4,v+=4,c=1}return T(t,t.e+d+1,$,n)},r.toExponential=function(n,u){return null!=n&&(Xu(n,0,Qu),n++),J(this,n,u,1)},r.toFixed=function(n,u){return null!=n&&(Xu(n,0,Qu),n=n+this.e+1),J(this,n,u)},r.toFormat=function(n,u,f){var t,c=this;if(null==f)null!=n&&u&&"object"==typeof u?(f=u,u=null):n&&"object"==typeof n?(f=n,n=u=null):f=Z;else if("object"!=typeof f)throw Error(Zu+"Argument not an object: "+f);if(t=c.toFixed(n,u),c.c){var e,h=t.split("."),g=+f.groupSize,v=+f.secondaryGroupSize,o=f.groupSeparator||"",b=h[0],r=h[1],_=c.s<0,d=_?b.slice(1):b,$=d.length;if(v&&(e=g,g=v,v=e,$-=e),g>0&&$>0){for(e=$%g||g,b=d.substr(0,e);e<$;e+=g)b+=o+d.substr(e,g);v>0&&(b+=o+d.slice(e)),_&&(b="-"+b)}t=r?b+(f.decimalSeparator||"")+((v=+f.fractionGroupSize)?r.replace(new RegExp("\\d{"+v+"}\\B","g"),"$&"+(f.fractionGroupSeparator||"")):r):b}return(f.prefix||"")+t+(f.suffix||"")},r.toFraction=function(n){var u,t,c,e,h,g,v,o,b,r,d,j,i=this,I=i.c;if(null!=n&&(!(v=new q(n)).isInteger()&&(v.c||1!==v.s)||v.lt(_)))throw Error(Zu+"Argument "+(v.isInteger()?"out of range: ":"not an integer: ")+Q(v));if(!I)return new q(i);for(u=new q(_),b=t=new q(_),c=o=new q(_),j=Yu(I),h=u.e=j.length-i.e-1,u.c[0]=Nu[(g=h%Ju)<0?Ju+g:g],n=!n||v.comparedTo(u)>0?h>0?u:b:v,g=M,M=1/0,v=new q(j),o.c[0]=0;r=f(v,u,0,1),1!=(e=t.plus(r.times(c))).comparedTo(n);)t=c,c=e,b=o.plus(r.times(e=b)),o=e,u=v.minus(r.times(e=u)),v=e;return e=f(n.minus(t),c,0,1),o=o.plus(e.times(b)),t=t.plus(e.times(c)),o.s=b.s=i.s,d=f(b,c,h*=2,$).minus(i).abs().comparedTo(f(o,t,h,$).minus(i).abs())<1?[b,c]:[o,t],M=g,d},r.toNumber=function(){return+Q(this)},r.toPrecision=function(n,u){return null!=n&&Xu(n,1,Qu),J(this,n,u,2)},r.toString=function(n){var u,f=this,c=f.s,e=f.e;return null===e?c?(u="Infinity",c<0&&(u="-"+u)):u="NaN":(u=Yu(f.c),null==n?u=e<=j||e>=i?ku(u,e):yu(u,e,"0"):(Xu(n,2,P.length,"Base"),u=t(yu(u,e,"0"),10,n,c,!0)),c<0&&f.c[0]&&(u="-"+u)),u},r.valueOf=r.toJSON=r[Symbol.for("nodejs.util.inspect.custom")]=function(){return Q(this)},r[Symbol.toStringTag]="BigNumber",null!=u&&q.set(u),q}(),Ru=["د.إ","؋","L","֏","ƒ","Kz","$","ƒ","₼","KM","৳","лв",".د.ب","FBu","$b","R$","฿","Nu.","P","p.","BZ$","FC","CHF","¥","₡","₱","Kč","Fdj","kr","RD$","دج","kr","Nfk","Br","Ξ","€","₾","₵","GH₵","D","FG","Q","L","kn","G","Ft","Rp","₪","₹","ع.د","﷼","kr","J$","JD","¥","KSh","лв","៛","CF","₩","₩","KD","лв","₭","₨","M","Ł","Lt","Ls","LD","MAD","lei","Ar","ден","K","₮","MOP$","UM","₨","Rf","MK","RM","MT","₦","C$","kr","₨","﷼","B/.","S/.","K","₱","₨","zł","Gs","﷼","￥","lei","Дин.","₽","R₣","﷼","₨","ج.س.","kr","£","Le","S","Db","E","฿","SM","T","د.ت","T$","₤","₺","TT$","NT$","TSh","₴","USh","$U","лв","Bs","₫","VT","WS$","FCFA","Ƀ","CFA","₣","﷼","R","Z$"];function Bu(u){if("string"!=typeof u)throw new Error("csv-sort/util/findtype(): input must be string! Currently it's: ".concat(n(u)));return Fn(u)?"numeric":Ru.some(function(n){return Fn(u.replace(n,"").replace(/[,.]/g,""))})?"numeric":0===u.trim().length?"empty":"text"}var Lu=Array.isArray;function xu(n){return null!=n}return function(u){var f,t=null,c=null;if("string"==typeof u){if(0===u.length)return[[""]];f=function(n,u){let f=0,t=0,c=[];const e=[];let h=!1,g=!0;if(void 0!==u&&!q(u))throw new Error(`csv-split-easy/split(): [THROW_ID_02] Options object must be a plain object! Currently it's of a type ${typeof u} equal to:\n${JSON.stringify(u,null,4)}`);const v={removeThousandSeparatorsFromNumbers:!0,padSingleDecimalPlaceNumbers:!0,forceUKStyle:!1},o=Object.assign({},v,u);if(Dn(o,v,{msg:"csv-split-easy/split(): [THROW_ID_03*]"}),"string"!=typeof n)throw new TypeError(`csv-split-easy/split(): [THROW_ID_04] input must be string! Currently it's: ${typeof n}, equal to: ${JSON.stringify(n,null,4)}`);if(""===n)return[[""]];for(let u=0,v=(n=n.trim()).length;u<v;u++){if(g&&'"'!==n[u]&&","!==n[u]&&""!==n[u].trim()&&(g=!1),'"'===n[u])if(h&&'"'===n[u+1])u+=1;else if(h){h=!1;const t=n.slice(f,u);""!==t.trim()&&(g=!1);const e=/""/.test(t)?t.replace(/""/g,'"'):ru(t,{removeThousandSeparatorsFromNumbers:o.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:o.padSingleDecimalPlaceNumbers,forceUKStyle:o.forceUKStyle});c.push(e)}else h=!0,f=u+1;else if(h||","!==n[u])if("\n"===n[u]||"\r"===n[u]){if(!t){if(t=u,!h&&'"'!==n[u-1]){const t=n.slice(f,u);""!==t.trim()&&(g=!1),c.push(ru(t,{removeThousandSeparatorsFromNumbers:o.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:o.padSingleDecimalPlaceNumbers,forceUKStyle:o.forceUKStyle}))}g?c=[]:e.push(c),g=!0,c=[]}f=u+1}else t&&(t=0,f=u);else{if('"'!==n[u-1]&&!h){const t=n.slice(f,u);""!==t.trim()&&(g=!1),c.push(ru(t,{removeThousandSeparatorsFromNumbers:o.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:o.padSingleDecimalPlaceNumbers,forceUKStyle:o.forceUKStyle}))}f=u+1,t&&(t=0)}if(u+1===v){if('"'!==n[u]){const t=n.slice(f,u+1);""!==t.trim()&&(g=!1),c.push(ru(t,{removeThousandSeparatorsFromNumbers:o.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:o.padSingleDecimalPlaceNumbers,forceUKStyle:o.forceUKStyle}))}g?c=[]:e.push(c),g=!0}}return 0===e.length?[[""]]:e}(u)}else{if(!Lu(u))throw new TypeError("csv-sort/csvSort(): [THROW_ID_02] The input is of a wrong type! We accept either string of array of arrays. We got instead: ".concat(n(u),", equal to:\n").concat(JSON.stringify(u,null,4)));var e,h;if(!u.every(function(n,u){return Lu(n)||(e=n,h=u),Lu(n)}))throw new TypeError("csv-sort/csvSort(): [THROW_ID_01] the input is array as expected, but not all of its children are arrays! For example, the ".concat(Hn(h)," element is not array but: ").concat(n(e),", equal to:\n").concat(JSON.stringify(e,null,4)))}for(var g=null,v=!1,o=!0,b=[],r=null,_=f.length-1;_>=0;_--)if(g){0===_&&(v=f[_].every(function(n){return"text"===Bu(n)||"empty"===Bu(n)})),v||g.length===f[_].length||(o=!1);for(var d=null,$=0,j=f[_].length;$<j;$++)if(null===d&&"empty"===Bu(f[_][$].trim())&&(d=$),null!==d&&"empty"!==Bu(f[_][$].trim())&&(d=null),Bu(f[_][$].trim())!==g[$]&&!v){var i=Bu(f[_][$].trim());if(Lu(g[$]))g[$].includes(i)||g[$].push(Bu(f[_][$].trim()));else if(g[$]!==i){var I=g[$];g[$]=[],g[$].push(I),g[$].push(i)}}null!==r&&null!==d&&d>r&&(!v||v&&0!==_)&&(r=d)}else if(1!==f[_].length||""!==f[_][0]){g=[];for(var M=0,U=f[_].length;M<U;M++)g.push(Bu(f[_][M].trim())),null===r&&"empty"===Bu(f[_][M].trim())&&(r=M),null!==r&&"empty"!==Bu(f[_][M].trim())&&(r=null)}r||(r=g.length);for(var H=0,W=0,Z=g.length;W<Z&&"empty"===g[W];W++)H=W;0!==H&&(f=f.map(function(n){return n.slice(H+1,r)}),g=g.slice(H+1,r));var P,J=[];g.forEach(function(n,u){"numeric"===n&&J.push(u)});var D=v?1:0;if(1===J.length)P=J[0];else{if(0===J.length)throw new Error('csv-sort/csvSort(): [THROW_ID_03] Your CSV file does not contain numeric-only columns and computer was not able to detect the "Balance" column!');for(var N=Array.from(J),T=[],Q=0,V=N.length;Q<V;Q++){for(var Y=N[Q],z=void 0,X=!0,G=void 0,k=!0,y=D,F=f.length;y<F&&(X&&(xu(z)&&z===f[y][Y]?(T.push(Y),X=!1):z=f[y][Y]),k&&(xu(G)?f[y][Y]!==G&&(k=!1):G=f[y][Y]),X);y++);k&&b.push(Y)}if(1===(N=Mu.apply(void 0,[N].concat(T))).length)P=N[0];else if(0===N.length)throw new Error('csv-sort/csvSort(): [THROW_ID_04] The computer can\'t find the "Balance" column! It saw some numeric-only columns, but they all seem to have certain rows with the same values as rows right below/above them!')}if(!P)throw new Error("csv-sort/csvSort(): [THROW_ID_05] Sadly computer couldn't find its way in this CSV and had to stop working on it.");var R=Mu.apply(void 0,[Array.from(g.reduce(function(n,u,f){return("string"==typeof u&&"numeric"===u||Lu(u)&&u.includes("numeric"))&&n.push(f),n},[])),P].concat(b)),B=[];B.push(f[f.length-1].slice(0,r));for(var L=[],x=v?1:0,K=f.length-2;K>=x;K--)for(var O=f.length-2;O>=x;O--)if(!L.includes(O)){for(var A=!1,C=0,l=R.length;C<l;C++){var p=null;""!==f[O][R[C]]&&(p=new Fu(f[O][R[C]]));var w=null;""!==f[O][P]&&(w=new Fu(f[O][P]));var a=null;""!==B[0][P]&&(a=new Fu(B[0][P]));var E=null;""!==B[B.length-1][R[C]]&&(E=new Fu(B[B.length-1][R[C]]));var S=null;if(""!==B[B.length-1][P]&&(S=new Fu(B[B.length-1][P])),p&&w.plus(p).eq(a)){B.unshift(f[O].slice(0,r)),L.push(O),A=!0;break}if(p&&w.minus(p).eq(a)){B.unshift(f[O].slice(0,r)),L.push(O),A=!0;break}if(E&&S.plus(E).eq(w)){B.push(f[O].slice(0,r)),L.push(O),A=!0;break}if(E&&S.minus(E).eq(w)){B.push(f[O].slice(0,r)),L.push(O),A=!0;break}}if(A){A=!1;break}}return v&&(o&&f[0].length>g.length&&(f[0].length=g.length),B.unshift(f[0].slice(0,r))),f.length-(v?2:1)!==L.length&&(t="Not all rows were recognised!",c="alert"),{res:B,msgContent:t,msgType:c}}});
