!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.csvSort=t()}(this,function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(t,r){if(r){if("object"!==(void 0===r?"undefined":e(r)))throw new TypeError(String(r)+" is not an object. Expected an object that has boolean `includeZero` property.");if("includeZero"in r){if("boolean"!=typeof r.includeZero)throw new TypeError(String(r.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(r.includeZero&&0===t)return!0}}return Number.isSafeInteger(t)&&t>=1},r=function(e,t){if("string"!=typeof e)return!1;if(t&&"includeZero"in t){if("boolean"!=typeof t.includeZero)throw new TypeError(String(t.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(t.includeZero)return/^(-?0|[1-9]\d*)(\.0+)?$/.test(e)}return/^[1-9]\d*(\.0+)?$/.test(e)},n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e,t){return e(t={exports:{}},t.exports),t.exports}var i=o(function(e,t){(t=e.exports=function(e){return e+t.suffix(+e)}).suffix=function(e){return 1===Math.floor(e/10)?"th":e%10==1?"st":e%10==2?"nd":e%10==3?"rd":"th"}}),u=(i.suffix,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),s="function"==typeof Symbol&&"symbol"===u(Symbol.iterator)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":u(e)},a=Array.isArray;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=o(function(e,t){var r,o,i,u,s,a,f,c,y,p,h,m,d,g,b,v,w,S,O,_;e.exports=(r="function"==typeof Promise,o="object"===("undefined"==typeof self?"undefined":l(self))?self:n,i="undefined"!=typeof Symbol,u="undefined"!=typeof Map,s="undefined"!=typeof Set,a="undefined"!=typeof WeakMap,f="undefined"!=typeof WeakSet,c="undefined"!=typeof DataView,y=i&&void 0!==Symbol.iterator,p=i&&void 0!==Symbol.toStringTag,h=s&&"function"==typeof Set.prototype.entries,m=u&&"function"==typeof Map.prototype.entries,d=h&&Object.getPrototypeOf((new Set).entries()),g=m&&Object.getPrototypeOf((new Map).entries()),b=y&&"function"==typeof Array.prototype[Symbol.iterator],v=b&&Object.getPrototypeOf([][Symbol.iterator]()),w=y&&"function"==typeof String.prototype[Symbol.iterator],S=w&&Object.getPrototypeOf(""[Symbol.iterator]()),O=8,_=-1,function(e){var t=void 0===e?"undefined":l(e);if("object"!==t)return t;if(null===e)return"null";if(e===o)return"global";if(Array.isArray(e)&&(!1===p||!(Symbol.toStringTag in e)))return"Array";if("object"===("undefined"==typeof window?"undefined":l(window))){if("object"===l(window.location)&&e===window.location)return"Location";if("object"===l(window.document)&&e===window.document)return"Document";if("object"===l(window.navigator)){if("object"===l(window.navigator.mimeTypes)&&e===window.navigator.mimeTypes)return"MimeTypeArray";if("object"===l(window.navigator.plugins)&&e===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"===l(window.HTMLElement))&&e instanceof window.HTMLElement){if("BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if("TD"===e.tagName)return"HTMLTableDataCellElement";if("TH"===e.tagName)return"HTMLTableHeaderCellElement"}}var n=p&&e[Symbol.toStringTag];if("string"==typeof n)return n;var i=Object.getPrototypeOf(e);return i===RegExp.prototype?"RegExp":i===Date.prototype?"Date":r&&i===Promise.prototype?"Promise":s&&i===Set.prototype?"Set":u&&i===Map.prototype?"Map":f&&i===WeakSet.prototype?"WeakSet":a&&i===WeakMap.prototype?"WeakMap":c&&i===DataView.prototype?"DataView":u&&i===g?"Map Iterator":s&&i===d?"Set Iterator":b&&i===v?"Array Iterator":w&&i===S?"String Iterator":null===i?"Object":Object.prototype.toString.call(e).slice(O,_)})}),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=1/0,p=9007199254740991,h=1.7976931348623157e308,m=NaN,d="[object Arguments]",g="[object Function]",b="[object GeneratorFunction]",v="[object String]",w="[object Symbol]",S=/^\s+|\s+$/g,O=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,T=/^0o[0-7]+$/i,N=/^(?:0|[1-9]\d*)$/,A=parseInt;function j(e){return e!=e}function E(e,t){return function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(t,function(t){return e[t]})}var k,D,I=Object.prototype,R=I.hasOwnProperty,P=I.toString,M=I.propertyIsEnumerable,x=(k=Object.keys,D=Object,function(e){return k(D(e))}),C=Math.max;function F(e,t){var r=L(e)||function(e){return function(e){return K(e)&&$(e)}(e)&&R.call(e,"callee")&&(!M.call(e,"callee")||P.call(e)==d)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var i in e)!t&&!R.call(e,i)||o&&("length"==i||W(i,n))||r.push(i);return r}function H(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||I,t!==n)return x(e);var t,r,n,o=[];for(var i in Object(e))R.call(e,i)&&"constructor"!=i&&o.push(i);return o}function W(e,t){return!!(t=null==t?p:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}var L=Array.isArray;function $(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}(e.length)&&!function(e){var t=B(e)?P.call(e):"";return t==g||t==b}(e)}function B(e){var t=void 0===e?"undefined":c(e);return!!e&&("object"==t||"function"==t)}function K(e){return!!e&&"object"==(void 0===e?"undefined":c(e))}var U=function(e,t,r,n){var o;e=$(e)?e:(o=e)?E(o,function(e){return $(e)?F(e):H(e)}(o)):[],r=r&&!n?function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==(void 0===e?"undefined":c(e))||K(e)&&P.call(e)==w}(e))return m;if(B(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=B(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(S,"");var r=_.test(e);return r||T.test(e)?A(e.slice(2),r?2:8):O.test(e)?m:+e}(e))===y||e===-y){var t=e<0?-1:1;return t*h}return e==e?e:0}(e),r=t%1;return t==t?r?t-r:t:0}(r):0;var i=e.length;return r<0&&(r=C(i+r,0)),function(e){return"string"==typeof e||!L(e)&&K(e)&&P.call(e)==v}(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,j,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t,r)>-1};function q(e,t,r){if(t!=t)return function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,V,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}function J(e,t,r,n){for(var o=r-1,i=e.length;++o<i;)if(n(e[o],t))return o;return-1}function V(e){return e!=e}var Z=Array.prototype.splice;function G(e,t,r,n){var o,i=n?J:q,u=-1,s=t.length,a=e;for(e===t&&(t=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(t)),r&&(a=function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(e,(o=r,function(e){return o(e)})));++u<s;)for(var l=0,f=t[u],c=r?r(f):f;(l=i(a,c,l,n))>-1;)a!==e&&Z.call(a,l,1),Z.call(e,l,1);return e}var z=function(e,t){return e&&e.length&&t&&t.length?G(e,t):e},Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y="__lodash_hash_undefined__",X=9007199254740991,ee="[object Function]",te="[object GeneratorFunction]",re=/^\[object .+?Constructor\]$/,ne="object"==Q(n)&&n&&n.Object===Object&&n,oe="object"==("undefined"==typeof self?"undefined":Q(self))&&self&&self.Object===Object&&self,ie=ne||oe||Function("return this")();function ue(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var o=e.length,i=r+(n?1:-1);for(;n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,le,r);var n=r-1,o=e.length;for(;++n<o;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function se(e,t,r){for(var n=-1,o=e?e.length:0;++n<o;)if(r(t,e[n]))return!0;return!1}function ae(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function le(e){return e!=e}function fe(e){return function(t){return e(t)}}function ce(e,t){return e.has(t)}var ye,pe=Array.prototype,he=Function.prototype,me=Object.prototype,de=ie["__core-js_shared__"],ge=(ye=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||""))?"Symbol(src)_1."+ye:"",be=he.toString,ve=me.hasOwnProperty,we=me.toString,Se=RegExp("^"+be.call(ve).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oe=pe.splice,_e=Math.max,Te=Math.min,Ne=xe(ie,"Map"),Ae=xe(Object,"create");function je(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ke(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function De(e){var t=-1,r=e?e.length:0;for(this.__data__=new ke;++t<r;)this.add(e[t])}function Ie(e,t){for(var r,n,o=e.length;o--;)if((r=e[o][0])===(n=t)||r!=r&&n!=n)return o;return-1}function Re(e){return!(!Fe(e)||ge&&ge in e)&&(Ce(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?Se:re).test(function(e){if(null!=e){try{return be.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function Pe(e){return function(e){return function(e){return!!e&&"object"==(void 0===e?"undefined":Q(e))}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=X}(e.length)&&!Ce(e)}(e)}(e)?e:[]}function Me(e,t){var r,n,o=e.__data__;return("string"==(n=void 0===(r=t)?"undefined":Q(r))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function xe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Re(r)?r:void 0}function Ce(e){var t=Fe(e)?we.call(e):"";return t==ee||t==te}function Fe(e){var t=void 0===e?"undefined":Q(e);return!!e&&("object"==t||"function"==t)}je.prototype.clear=function(){this.__data__=Ae?Ae(null):{}},je.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},je.prototype.get=function(e){var t=this.__data__;if(Ae){var r=t[e];return r===Y?void 0:r}return ve.call(t,e)?t[e]:void 0},je.prototype.has=function(e){var t=this.__data__;return Ae?void 0!==t[e]:ve.call(t,e)},je.prototype.set=function(e,t){return this.__data__[e]=Ae&&void 0===t?Y:t,this},Ee.prototype.clear=function(){this.__data__=[]},Ee.prototype.delete=function(e){var t=this.__data__,r=Ie(t,e);return!(r<0||(r==t.length-1?t.pop():Oe.call(t,r,1),0))},Ee.prototype.get=function(e){var t=this.__data__,r=Ie(t,e);return r<0?void 0:t[r][1]},Ee.prototype.has=function(e){return Ie(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var r=this.__data__,n=Ie(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},ke.prototype.clear=function(){this.__data__={hash:new je,map:new(Ne||Ee),string:new je}},ke.prototype.delete=function(e){return Me(this,e).delete(e)},ke.prototype.get=function(e){return Me(this,e).get(e)},ke.prototype.has=function(e){return Me(this,e).has(e)},ke.prototype.set=function(e,t){return Me(this,e).set(e,t),this},De.prototype.add=De.prototype.push=function(e){return this.__data__.set(e,Y),this},De.prototype.has=function(e){return this.__data__.has(e)};var He=function(e,t){return t=_e(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,o=_e(r.length-t,0),i=Array(o);++n<o;)i[n]=r[t+n];n=-1;for(var u=Array(t+1);++n<t;)u[n]=r[n];return u[t]=i,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,u)}}(function(e){var t=ae(e,Pe);return t.length&&t[0]===e[0]?function(e,t,r){for(var n=r?se:ue,o=e[0].length,i=e.length,u=i,s=Array(i),a=1/0,l=[];u--;){var f=e[u];u&&t&&(f=ae(f,fe(t))),a=Te(f.length,a),s[u]=!r&&(t||o>=120&&f.length>=120)?new De(u&&f):void 0}f=e[0];var c=-1,y=s[0];e:for(;++c<o&&l.length<a;){var p=f[c],h=t?t(p):p;if(p=r||0!==p?p:0,!(y?ce(y,h):n(l,h,r))){for(u=i;--u;){var m=s[u];if(!(m?ce(m,h):n(e[u],h,r)))continue e}y&&y.push(h),l.push(p)}}return l}(t):[]});function We(e){return"string"==typeof e?e.length>0?[e]:[]:e}function Le(e,t,r){function n(e){return null!=e}function o(e){return"boolean"===f(e)}function i(e){return"string"===f(e)}function u(e){return"Object"===f(e)}var s=["any","anything","every","everything","all","whatever","whatevs"],a=Array.isArray;if(0===arguments.length)throw new Error("check-types-mini/checkTypes(): Missing all arguments!");if(1===arguments.length)throw new Error("check-types-mini/checkTypes(): Missing second argument!");var l=u(t)?t:{},c={ignoreKeys:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini/checkTypes()",optsVarName:"opts"},y=void 0;if(!i((y=n(r)&&u(r)?Object.assign({},c,r):Object.assign({},c)).msg))throw new Error("check-types-mini/checkTypes(): opts.msg must be string! Currently it's: "+f(y.msg)+", equal to "+JSON.stringify(y.msg,null,4));if(y.msg=y.msg.trim(),":"===y.msg[y.msg.length-1]&&(y.msg=y.msg.slice(0,y.msg.length-1)),!i(y.optsVarName))throw new Error("check-types-mini/checkTypes(): opts.optsVarName must be string! Currently it's: "+f(y.optsVarName)+", equal to "+JSON.stringify(y.optsVarName,null,4));if(y.ignoreKeys=We(y.ignoreKeys),y.acceptArraysIgnore=We(y.acceptArraysIgnore),!a(y.ignoreKeys))throw new TypeError("check-types-mini/checkTypes(): opts.ignoreKeys should be an array, currently it's: "+f(y.ignoreKeys));if(!o(y.acceptArrays))throw new TypeError("check-types-mini/checkTypes(): opts.acceptArrays should be a Boolean, currently it's: "+f(y.acceptArrays));if(!a(y.acceptArraysIgnore))throw new TypeError("check-types-mini/checkTypes(): opts.acceptArraysIgnore should be an array, currently it's: "+f(y.acceptArraysIgnore));if(!o(y.enforceStrictKeyset))throw new TypeError("check-types-mini/checkTypes(): opts.enforceStrictKeyset should be a Boolean, currently it's: "+f(y.enforceStrictKeyset));if(Object.keys(y.schema).forEach(function(e){a(y.schema[e])||(y.schema[e]=[y.schema[e]]),y.schema[e]=y.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),y.enforceStrictKeyset)if(n(y.schema)&&Object.keys(y.schema).length>0){if(0!==z(Object.keys(e),Object.keys(l).concat(Object.keys(y.schema))).length)throw new TypeError(y.msg+": "+y.optsVarName+".enforceStrictKeyset is on and the following keys are not covered by schema and/or reference objects: "+JSON.stringify(z(Object.keys(e),Object.keys(l).concat(Object.keys(y.schema))),null,4))}else{if(!(n(l)&&Object.keys(l).length>0))throw new TypeError(y.msg+": Both "+y.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==z(Object.keys(e),Object.keys(l)).length)throw new TypeError(y.msg+": The input object has keys that are not covered by reference object: "+JSON.stringify(z(Object.keys(e),Object.keys(l)),null,4));if(0!==z(Object.keys(l),Object.keys(e)).length)throw new TypeError(y.msg+": The reference object has keys that are not present in the input object: "+JSON.stringify(z(Object.keys(l),Object.keys(e)),null,4))}Object.keys(e).forEach(function(t){if(n(y.schema)&&Object.prototype.hasOwnProperty.call(y.schema,t)){if(y.schema[t]=We(y.schema[t]).map(String).map(function(e){return e.toLowerCase()}),!He(y.schema[t],s).length&&!U(y.schema[t],f(e[t]).toLowerCase())){if(!a(e[t])||!y.acceptArrays)throw new TypeError(y.msg+": "+y.optsVarName+"."+t+" was customised to "+JSON.stringify(e[t],null,4)+" which is not among the allowed types in schema ("+y.schema[t]+") but "+f(e[t]));for(var r=0,o=e[t].length;r<o;r++)if(!U(y.schema[t],f(e[t][r]).toLowerCase()))throw new TypeError(y.msg+": "+y.optsVarName+"."+t+" is of type "+f(e[t][r]).toLowerCase()+", but only the following are allowed in "+y.optsVarName+".schema: "+y.schema[t])}}else if(n(l)&&Object.prototype.hasOwnProperty.call(l,t)&&f(e[t])!==f(l[t])&&!U(y.ignoreKeys,t)){if(!y.acceptArrays||!a(e[t])||U(y.acceptArraysIgnore,t))throw new TypeError(y.msg+": "+y.optsVarName+"."+t+" was customised to "+JSON.stringify(e[t],null,4)+" which is not "+f(l[t])+" but "+f(e[t]));if(!e[t].every(function(e){return f(e)===f(l[t])}))throw new TypeError(y.msg+": "+y.optsVarName+"."+t+" was customised to be array, but not all of its elements are "+f(l[t])+"-type")}})}var $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be="function"==typeof Symbol&&"symbol"===$e(Symbol.iterator)?function(e){return void 0===e?"undefined":$e(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":$e(e)},Ke=Array.isArray;function Ue(e){if(!Array.isArray(e))return e;for(var r=function(e,r){if(!Ke(e))throw new TypeError("ranges-sort: [THROW_ID_01] Input must be an array, consisting of range arrays! Currently its type is: "+(void 0===e?"undefined":Be(e))+", equal to: "+JSON.stringify(e,null,4));if(0===e.length)return e;var n={strictlyTwoElementsInRangeArrays:!1},o=Object.assign({},n,r);Le(o,n,{msg:"ranges-sort: [THROW_ID_02*]"});var u=void 0,s=void 0;if(o.strictlyTwoElementsInRangeArrays&&!e.every(function(e,t){return 2===e.length||(u=t,s=e.length,!1)}))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, "+i(u)+" range ("+JSON.stringify(e[u],null,4)+") has not two but "+s+" elements!");if(!e.every(function(e,r){return!(!t(e[0],{includeZero:!0})||!t(e[1],{includeZero:!0}))||(u=r,!1)}))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, "+i(u)+" range ("+JSON.stringify(e[u],null,4)+") does not consist of only natural numbers!");return Array.from(e).sort(function(e,t){return e[0]===t[0]?e[1]<t[1]?-1:e[1]>t[1]?1:0:e[0]<t[0]?-1:1})}(e),n=r.length-1;n>0;n--)(r[n][0]<=r[n-1][0]||r[n][0]<=r[n-1][1])&&(r[n-1][0]=Math.min(r[n][0],r[n-1][0]),r[n-1][1]=Math.max(r[n][1],r[n-1][1]),void 0!==r[n][2]&&(r[n-1][0]>=r[n][0]||r[n-1][1]<=r[n][1])&&null!==r[n-1][2]&&(null===r[n][2]&&null!==r[n-1][2]?r[n-1][2]=null:void 0!==r[n-1][2]?r[n-1][2]+=r[n][2]:r[n-1][2]=r[n][2]),r.splice(n,1),n=r.length);return r}function qe(e){if("string"==typeof e){if(0===e.length)return"";if(""===e.trim())return e.includes("\n")?"\n":" ";var t="";if(""===e[0].trim()){t=" ";for(var r=!1,n=0,o=e.length;n<o&&("\n"===e[n]&&(r=!0),""===e[n].trim());n++);r&&(t="\n")}var i="";if(""===e.slice(-1).trim()){i=" ";for(var u=!1,s=e.length;s--&&("\n"===e[s]&&(u=!0),""===e[s].trim()););u&&(i="\n")}return t+e.trim()+i}return e}var Je=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Ve(e){return null!=e}function Ze(e){throw new Error("string-slices-array-push/Slices/add(): [THROW_ID_01] Missing "+e+i(e)+" parameter!")}var Ge=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r={limitToBeAddedWhitespace:!1},n=Object.assign({},r,t);Le(n,r,{msg:"string-slices-array-push: [THROW_ID_00*]"}),this.opts=n}return Je(e,[{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze(1),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ze(2),o=arguments[2],i=r(e)?parseInt(e,10):e,u=r(n)?parseInt(n,10):n;if(!t(i,{includeZero:!0}))throw new TypeError('string-slices-array-push/Slices/add(): [THROW_ID_02] "from" value, first input argument, must be a natural number or zero! Currently it\'s equal to: '+JSON.stringify(i,null,4));if(!t(u,{includeZero:!0}))throw new TypeError('string-slices-array-push/Slices/add(): [THROW_ID_03] "to" value, second input argument, must be a natural number! Currently it\'s equal to: '+JSON.stringify(u,null,4));if(Ve(o)&&"string"!=typeof o&&null!==o)throw new TypeError('string-slices-array-push/Slices/add(): [THROW_ID_04] "addVal" value, third input argument, must be a string (or null)! Currently it\'s equal to: '+JSON.stringify(o,null,4));for(var s=arguments.length,a=Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];if(a.length>0)throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_05] Please don't overload the add() method. From the 4th input argument onwards we see these redundant arguments: "+JSON.stringify(a,null,4));if(void 0!==this.slices&&i===this.last()[1]){if(this.last()[1]=u,null!==this.last()[2]&&Ve(o)){var f=Ve(this.last()[2])&&this.last()[2].length>0?this.last()[2]+o:o;this.opts.limitToBeAddedWhitespace&&(f=qe(f)),this.last()[2]=f}}else this.slices||(this.slices=[]),this.slices.push(void 0!==o?[i,u,this.opts.limitToBeAddedWhitespace?qe(o):o]:[i,u])}},{key:"push",value:function(e,t,r){for(var n=arguments.length,o=Array(n>3?n-3:0),i=3;i<n;i++)o[i-3]=arguments[i];this.add.apply(this,[e,t,r].concat(o))}},{key:"current",value:function(){return null!=this.slices?(this.slices=Ue(this.slices),this.opts.limitToBeAddedWhitespace?this.slices.map(function(e){return Ve(e[2])?[e[0],e[1],qe(e[2])]:e}):this.slices):null}},{key:"wipe",value:function(){this.slices=void 0}},{key:"last",value:function(){return void 0!==this.slices&&Array.isArray(this.slices)?this.slices[this.slices.length-1]:null}}]),e}(),ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe="[object Object]";var Ye=Function.prototype,Xe=Object.prototype,et=Ye.toString,tt=Xe.hasOwnProperty,rt=et.call(Object),nt=Xe.toString,ot=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object);var it=function(e){if(!function(e){return!!e&&"object"==(void 0===e?"undefined":ze(e))}(e)||nt.call(e)!=Qe||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=ot(e);if(null===t)return!0;var r=tt.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&et.call(r)==rt},ut=o(function(e,t){!function(r){function n(e){return"number"==typeof e&&!isNaN(e)||!!(e=(e||"").toString().trim())&&!isNaN(e)}e.exports&&(t=e.exports=n),t.isNumeric=n}()}),st=(ut.isNumeric,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),at=1/0,lt="[object Symbol]",ft=/^\s+|\s+$/g,ct="[\\ud800-\\udfff]",yt="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",pt="\\ud83c[\\udffb-\\udfff]",ht="[^\\ud800-\\udfff]",mt="(?:\\ud83c[\\udde6-\\uddff]){2}",dt="[\\ud800-\\udbff][\\udc00-\\udfff]",gt="(?:"+yt+"|"+pt+")"+"?",bt="[\\ufe0e\\ufe0f]?"+gt+("(?:\\u200d(?:"+[ht,mt,dt].join("|")+")[\\ufe0e\\ufe0f]?"+gt+")*"),vt="(?:"+[ht+yt+"?",yt,mt,dt,ct].join("|")+")",wt=RegExp(pt+"(?="+pt+")|"+vt+bt,"g"),St=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Ot="object"==st(n)&&n&&n.Object===Object&&n,_t="object"==("undefined"==typeof self?"undefined":st(self))&&self&&self.Object===Object&&self,Tt=Ot||_t||Function("return this")();function Nt(e,t,r){if(t!=t)return function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,At,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}function At(e){return e!=e}function jt(e){return function(e){return St.test(e)}(e)?function(e){return e.match(wt)||[]}(e):function(e){return e.split("")}(e)}var Et=Object.prototype.toString,kt=Tt.Symbol,Dt=kt?kt.prototype:void 0,It=Dt?Dt.toString:void 0;function Rt(e){if("string"==typeof e)return e;if(function(e){return"symbol"==(void 0===e?"undefined":st(e))||function(e){return!!e&&"object"==(void 0===e?"undefined":st(e))}(e)&&Et.call(e)==lt}(e))return It?It.call(e):"";var t=e+"";return"0"==t&&1/e==-at?"-0":t}function Pt(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}(e,t,r)}var Mt=function(e,t,r){var n;if((e=null==(n=e)?"":Rt(n))&&(r||void 0===t))return e.replace(ft,"");if(!e||!(t=Rt(t)))return e;var o=jt(e),i=jt(t);return Pt(o,function(e,t){for(var r=-1,n=e.length;++r<n&&Nt(t,e[r],0)>-1;);return r}(o,i),function(e,t){for(var r=e.length;r--&&Nt(t,e[r],0)>-1;);return r}(o,i)+1).join("")},xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct="function"==typeof Symbol&&"symbol"===xt(Symbol.iterator)?function(e){return void 0===e?"undefined":xt(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":xt(e)};function Ft(e,n){var o=!0,u=[".",",","'"," "],l=void 0;if("string"!=typeof e)throw new TypeError("string-remove-thousand-separators/remSep(): [THROW_ID_01] Input must be string! Currently it's: "+(void 0===e?"undefined":Ct(e))+", equal to:\n"+JSON.stringify(e,null,4));if(void 0!==n&&null!==n&&!it(n))throw new TypeError("string-remove-thousand-separators/remSep(): [THROW_ID_02] Options object must be a plain object! Currently it's: "+(void 0===n?"undefined":Ct(n))+", equal to:\n"+JSON.stringify(n,null,4));var f={removeThousandSeparatorsFromNumbers:!0,padSingleDecimalPlaceNumbers:!0,forceUKStyle:!1},c=Object.assign({},f,n);Le(c,f,{msg:"string-remove-thousand-separators/remSep(): [THROW_ID_03*]"});var y=Mt(e.trim(),'"');if(""===y)return y;for(var p=new Ge,h=0,m=y.length;h<m;h++){if(c.removeThousandSeparatorsFromNumbers&&""===y[h].trim()&&p.add(h,h+1),c.removeThousandSeparatorsFromNumbers&&"'"===y[h]&&(p.add(h,h+1),"'"===y[h+1])){o=!1;break}if(u.includes(y[h])){if(void 0!==y[h+1]&&ut(y[h+1]))if(void 0!==y[h+2]){if(!ut(y[h+2])){o=!1;break}if(void 0!==y[h+3]){if(!ut(y[h+3])){o=!1;break}if(void 0!==y[h+4]&&ut(y[h+4])){o=!1;break}if(c.removeThousandSeparatorsFromNumbers&&p.add(h,h+1),l){if(y[h]!==l){o=!1;break}}else l=y[h]}else c.removeThousandSeparatorsFromNumbers&&c.forceUKStyle&&","===y[h]&&p.add(h,h+1,".")}else c.forceUKStyle&&","===y[h]&&p.add(h,h+1,"."),c.padSingleDecimalPlaceNumbers&&p.add(h+2,h+2,"0")}else if(!ut(y[h])){o=!1;break}}return o&&p.current()?function(e,n){if(0===arguments.length)throw new Error("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_01] inputs missing!");if("string"!=typeof e)throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_02] first input argument must be a string! Currently it's: "+(void 0===e?"undefined":s(e))+", equal to: "+e);if(!a(n))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_03] second input argument must be an array! Currently it's: "+(void 0===n?"undefined":s(n))+", equal to: "+n);if(n.forEach(function(e,o){if(!a(e))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_05] ranges array, second input arg., has "+o+i(o)+" element not an array: "+JSON.stringify(e,null,4)+", which is "+(void 0===e?"undefined":s(e)));if(!t(e[0],{includeZero:!0})){if(!r(e[0]))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_06] ranges array, second input arg. has "+o+i(o)+" element, array ["+e[0]+","+e[1]+"]. That array has first element not an integer, but "+s(e[0])+", equal to: "+JSON.stringify(e[0],null,4)+". Computer doesn't like this.");n[o][0]=Number.parseInt(n[o][0],10)}if(!t(e[1],{includeZero:!0})){if(!r(e[1]))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_07] ranges array, second input arg. has "+o+i(o)+" element, array ["+e[0]+","+e[1]+"]. That array has second element not an integer, but "+s(e[1])+", equal to: "+JSON.stringify(e[1],null,4)+". Computer doesn't like this.");n[o][1]=Number.parseInt(n[o][1],10)}}),n.length>0){var o=e.slice(n[n.length-1][1]);e=n.reduce(function(t,r,n,o){var i=0===n?0:o[n-1][1],u=o[n][0];return t+e.slice(i,u)+(null!=o[n][2]?o[n][2]:"")},""),e+=o}return e}(y,p.current()):y}var Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt="function"==typeof Symbol&&"symbol"===Ht(Symbol.iterator)?function(e){return void 0===e?"undefined":Ht(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":Ht(e)};function Lt(e,t,r){if(t!=t)return function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,Bt,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}function $t(e,t,r,n){for(var o=r-1,i=e.length;++o<i;)if(n(e[o],t))return o;return-1}function Bt(e){return e!=e}var Kt=Array.prototype.splice,Ut=Math.max;function qt(e,t,r,n){var o,i=n?$t:Lt,u=-1,s=t.length,a=e;for(e===t&&(t=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(t)),r&&(a=function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(e,(o=r,function(e){return o(e)})));++u<s;)for(var l=0,f=t[u],c=r?r(f):f;(l=i(a,c,l,n))>-1;)a!==e&&Kt.call(a,l,1),Kt.call(e,l,1);return e}var Jt=function(e,t){return t=Ut(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,o=Ut(r.length-t,0),i=Array(o);++n<o;)i[n]=r[t+n];n=-1;for(var u=Array(t+1);++n<t;)u[n]=r[n];return u[t]=i,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,u)}}(function(e,t){return e&&e.length&&t&&t.length?qt(e,t):e}),Vt=function(e){var t=e%100;if(t>=10&&t<=20)return"th";var r=e%10;return 1===r?"st":2===r?"nd":3===r?"rd":"th"},Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Gt(e){if("number"!=typeof e)throw new TypeError("Expected Number, got "+(void 0===e?"undefined":Zt(e))+" "+e);return e+Vt(e)}Gt.indicator=Vt;var zt=Gt,Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt=o(function(e){!function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,i=Math.floor,u="[BigNumber Error] ",s=u+"Number primitive has more than 15 significant digits: ",a=1e14,l=14,f=9007199254740991,c=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,p=1e9;function h(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,r,n=1,o=e.length,i=e[0]+"";n<o;){for(t=e[n++]+"",r=l-t.length;r--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function d(e,t){var r,n,o=e.c,i=t.c,u=e.s,s=t.s,a=e.e,l=t.e;if(!u||!s)return null;if(r=o&&!o[0],n=i&&!i[0],r||n)return r?n?0:-s:u;if(u!=s)return u;if(r=u<0,n=a==l,!o||!i)return n?0:!o^r?1:-1;if(!n)return a>l^r?1:-1;for(s=(a=o.length)<(l=i.length)?a:l,u=0;u<s;u++)if(o[u]!=i[u])return o[u]>i[u]^r?1:-1;return a==l?0:a>l^r?1:-1}function g(e,t,r,n){if(e<t||e>r||e!==(e<0?o(e):i(e)))throw Error(u+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+e)}function b(e){return"[object Array]"==Object.prototype.toString.call(e)}function v(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,r){var n,o;if(t<0){for(o=r+".";++t;o+=r);e=o+e}else if(++t>(n=e.length)){for(o=r,t-=n;--t;o+=r);e+=o}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}(r=function e(t){var r,S,O,_,T,N,A,j,E,k=B.prototype,D=new B(1),I=20,R=4,P=-7,M=21,x=-1e7,C=1e7,F=!1,H=1,W=0,L={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0},$="0123456789abcdefghijklmnopqrstuvwxyz";function B(e,t){var r,o,u,a,c,y,p,h=this;if(!(h instanceof B))return new B(e,t);if(null==t){if(e instanceof B)return h.s=e.s,h.e=e.e,void(h.c=(e=e.c)?e.slice():e);if((c="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,a=e;a>=10;a/=10,u++);return h.e=u,void(h.c=[e])}p=e+""}else{if(!n.test(p=e+""))return O(h,p,c);h.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}}else{if(g(t,2,$.length,"Base"),p=e+"",10==t)return J(h=new B(e instanceof B?e:p),I+h.e+1,R);if(c="number"==typeof e){if(0*e!=0)return O(h,p,c,t);if(h.s=1/e<0?(p=p.slice(1),-1):1,p.replace(/^0\.0*|\./,"").length>15)throw Error(s+e);c=!1}else h.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1,t>10&&t<37&&(p=p.toLowerCase());for(r=$.slice(0,t),u=a=0,y=p.length;a<y;a++)if(r.indexOf(o=p.charAt(a))<0){if("."==o&&a>u){u=y;continue}return O(h,e+"",c,t)}p=S(p,t,10,h.s)}for((u=p.indexOf("."))>-1&&(p=p.replace(".","")),(a=p.search(/e/i))>0?(u<0&&(u=a),u+=+p.slice(a+1),p=p.substring(0,a)):u<0&&(u=p.length),a=0;48===p.charCodeAt(a);a++);for(y=p.length;48===p.charCodeAt(--y););if(p=p.slice(a,y+1)){if(y=p.length,c&&y>15&&(e>f||e!==i(e)))throw Error(s+h.s*e);if((u=u-a-1)>C)h.c=h.e=null;else if(u<x)h.c=[h.e=0];else{if(h.e=u,h.c=[],a=(u+1)%l,u<0&&(a+=l),a<y){for(a&&h.c.push(+p.slice(0,a)),y-=l;a<y;)h.c.push(+p.slice(a,a+=l));p=p.slice(a),a=l-p.length}else a-=y;for(;a--;p+="0");h.c.push(+p)}}else h.c=[h.e=0]}function K(e,t,r,n){var o,i,u,s,a;if(null==r?r=R:g(r,0,8),!e.c)return e.toString();if(o=e.c[0],u=e.e,null==t)a=m(e.c),a=1==n||2==n&&u<=P?v(a,u):w(a,u,"0");else if(i=(e=J(new B(e),t,r)).e,s=(a=m(e.c)).length,1==n||2==n&&(t<=i||i<=P)){for(;s<t;a+="0",s++);a=v(a,i)}else if(t-=u,a=w(a,i,"0"),i+1>s){if(--t>0)for(a+=".";t--;a+="0");}else if((t+=i-s)>0)for(i+1==s&&(a+=".");t--;a+="0");return e.s<0&&o?"-"+a:a}function U(e,t){var r,n,o=0;for(b(e[0])&&(e=e[0]),r=new B(e[0]);++o<e.length;){if(!(n=new B(e[o])).s){r=n;break}t.call(r,n)&&(r=n)}return r}function q(e,t,r){for(var n=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,n++);return(r=n+r*l-1)>C?e.c=e.e=null:r<x?e.c=[e.e=0]:(e.e=r,e.c=t),e}function J(e,t,r,n){var u,s,f,y,p,h,m,d=e.c,g=c;if(d){e:{for(u=1,y=d[0];y>=10;y/=10,u++);if((s=t-u)<0)s+=l,f=t,m=(p=d[h=0])/g[u-f-1]%10|0;else if((h=o((s+1)/l))>=d.length){if(!n)break e;for(;d.length<=h;d.push(0));p=m=0,u=1,f=(s%=l)-l+1}else{for(p=y=d[h],u=1;y>=10;y/=10,u++);m=(f=(s%=l)-l+u)<0?0:p/g[u-f-1]%10|0}if(n=n||t<0||null!=d[h+1]||(f<0?p:p%g[u-f-1]),n=r<4?(m||n)&&(0==r||r==(e.s<0?3:2)):m>5||5==m&&(4==r||n||6==r&&(s>0?f>0?p/g[u-f]:0:d[h-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,n?(t-=e.e+1,d[0]=g[(l-t%l)%l],e.e=-t||0):d[0]=e.e=0,e;if(0==s?(d.length=h,y=1,h--):(d.length=h+1,y=g[l-s],d[h]=f>0?i(p/g[u-f]%g[f])*y:0),n)for(;;){if(0==h){for(s=1,f=d[0];f>=10;f/=10,s++);for(f=d[0]+=y,y=1;f>=10;f/=10,y++);s!=y&&(e.e++,d[0]==a&&(d[0]=1));break}if(d[h]+=y,d[h]!=a)break;d[h--]=0,y=1}for(s=d.length;0===d[--s];d.pop());}e.e>C?e.c=e.e=null:e.e<x&&(e.c=[e.e=0])}return e}return B.clone=e,B.ROUND_UP=0,B.ROUND_DOWN=1,B.ROUND_CEIL=2,B.ROUND_FLOOR=3,B.ROUND_HALF_UP=4,B.ROUND_HALF_DOWN=5,B.ROUND_HALF_EVEN=6,B.ROUND_HALF_CEIL=7,B.ROUND_HALF_FLOOR=8,B.EUCLID=9,B.config=B.set=function(e){var t,r;if(null!=e){if("object"!=(void 0===e?"undefined":Qt(e)))throw Error(u+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(g(r=e[t],0,p,t),I=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(g(r=e[t],0,8,t),R=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&(b(r=e[t])?(g(r[0],-p,0,t),g(r[1],0,p,t),P=r[0],M=r[1]):(g(r,-p,p,t),P=-(M=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if(b(r=e[t]))g(r[0],-p,-1,t),g(r[1],1,p,t),x=r[0],C=r[1];else{if(g(r,-p,p,t),!r)throw Error(u+t+" cannot be zero: "+r);x=-(C=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(u+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw F=!r,Error(u+"crypto unavailable");F=r}else F=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(g(r=e[t],0,9,t),H=r),e.hasOwnProperty(t="POW_PRECISION")&&(g(r=e[t],0,p,t),W=r),e.hasOwnProperty(t="FORMAT")){if("object"!=(void 0===(r=e[t])?"undefined":Qt(r)))throw Error(u+t+" not an object: "+r);L=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.$|\.|(.).*\1/.test(r))throw Error(u+t+" invalid: "+r);$=r}}return{DECIMAL_PLACES:I,ROUNDING_MODE:R,EXPONENTIAL_AT:[P,M],RANGE:[x,C],CRYPTO:F,MODULO_MODE:H,POW_PRECISION:W,FORMAT:L,ALPHABET:$}},B.isBigNumber=function(e){return e instanceof B||e&&!0===e._isBigNumber||!1},B.maximum=B.max=function(){return U(arguments,k.lt)},B.minimum=B.min=function(){return U(arguments,k.gt)},B.random=(_=9007199254740992*Math.random()&2097151?function(){return i(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,s,a,f=0,y=[],h=new B(D);if(null==e?e=I:g(e,0,p),s=o(e/l),F)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(s*=2));f<s;)(a=131072*t[f]+(t[f+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[f]=r[0],t[f+1]=r[1]):(y.push(a%1e14),f+=2);f=s/2}else{if(!crypto.randomBytes)throw F=!1,Error(u+"crypto unavailable");for(t=crypto.randomBytes(s*=7);f<s;)(a=281474976710656*(31&t[f])+1099511627776*t[f+1]+4294967296*t[f+2]+16777216*t[f+3]+(t[f+4]<<16)+(t[f+5]<<8)+t[f+6])>=9e15?crypto.randomBytes(7).copy(t,f):(y.push(a%1e14),f+=7);f=s/7}if(!F)for(;f<s;)(a=_())<9e15&&(y[f++]=a%1e14);for(s=y[--f],e%=l,s&&e&&(a=c[l-e],y[f]=i(s/a)*a);0===y[f];y.pop(),f--);if(f<0)y=[n=0];else{for(n=-1;0===y[0];y.splice(0,1),n-=l);for(f=1,a=y[0];a>=10;a/=10,f++);f<l&&(n-=l-f)}return h.e=n,h.c=y,h}),S=function(){function e(e,t,r,n){for(var o,i,u=[0],s=0,a=e.length;s<a;){for(i=u.length;i--;u[i]*=t);for(u[0]+=n.indexOf(e.charAt(s++)),o=0;o<u.length;o++)u[o]>r-1&&(null==u[o+1]&&(u[o+1]=0),u[o+1]+=u[o]/r|0,u[o]%=r)}return u.reverse()}return function(t,n,o,i,u){var s,a,l,f,c,y,p,h,d=t.indexOf("."),g=I,b=R;for(d>=0&&(f=W,W=0,t=t.replace(".",""),y=(h=new B(n)).pow(t.length-d),W=f,h.c=e(w(m(y.c),y.e,"0"),10,o,"0123456789"),h.e=h.c.length),l=f=(p=e(t,n,o,u?(s=$,"0123456789"):(s="0123456789",$))).length;0==p[--f];p.pop());if(!p[0])return s.charAt(0);if(d<0?--l:(y.c=p,y.e=l,y.s=i,p=(y=r(y,h,g,b,o)).c,c=y.r,l=y.e),d=p[a=l+g+1],f=o/2,c=c||a<0||null!=p[a+1],c=b<4?(null!=d||c)&&(0==b||b==(y.s<0?3:2)):d>f||d==f&&(4==b||c||6==b&&1&p[a-1]||b==(y.s<0?8:7)),a<1||!p[0])t=c?w(s.charAt(1),-g,s.charAt(0)):s.charAt(0);else{if(p.length=a,c)for(--o;++p[--a]>o;)p[a]=0,a||(++l,p=[1].concat(p));for(f=p.length;!p[--f];);for(d=0,t="";d<=f;t+=s.charAt(p[d++]));t=w(t,l,s.charAt(0))}return t}}(),r=function(){function e(e,t,r){var n,o,i,u,s=0,a=e.length,l=t%y,f=t/y|0;for(e=e.slice();a--;)s=((o=l*(i=e[a]%y)+(n=f*i+(u=e[a]/y|0)*l)%y*y+s)/r|0)+(n/y|0)+f*u,e[a]=o%r;return s&&(e=[s].concat(e)),e}function t(e,t,r,n){var o,i;if(r!=n)i=r>n?1:-1;else for(o=i=0;o<r;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function r(e,t,r,n){for(var o=0;r--;)e[r]-=o,o=e[r]<t[r]?1:0,e[r]=o*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,o,u,s,f){var c,y,p,m,d,g,b,v,w,S,O,_,T,N,A,j,E,k=n.s==o.s?1:-1,D=n.c,I=o.c;if(!(D&&D[0]&&I&&I[0]))return new B(n.s&&o.s&&(D?!I||D[0]!=I[0]:I)?D&&0==D[0]||!I?0*k:k/0:NaN);for(w=(v=new B(k)).c=[],k=u+(y=n.e-o.e)+1,f||(f=a,y=h(n.e/l)-h(o.e/l),k=k/l|0),p=0;I[p]==(D[p]||0);p++);if(I[p]>(D[p]||0)&&y--,k<0)w.push(1),m=!0;else{for(N=D.length,j=I.length,p=0,k+=2,(d=i(f/(I[0]+1)))>1&&(I=e(I,d,f),D=e(D,d,f),j=I.length,N=D.length),T=j,O=(S=D.slice(0,j)).length;O<j;S[O++]=0);E=I.slice(),E=[0].concat(E),A=I[0],I[1]>=f/2&&A++;do{if(d=0,(c=t(I,S,j,O))<0){if(_=S[0],j!=O&&(_=_*f+(S[1]||0)),(d=i(_/A))>1)for(d>=f&&(d=f-1),b=(g=e(I,d,f)).length,O=S.length;1==t(g,S,b,O);)d--,r(g,j<b?E:I,b,f),b=g.length,c=1;else 0==d&&(c=d=1),b=(g=I.slice()).length;if(b<O&&(g=[0].concat(g)),r(S,g,O,f),O=S.length,-1==c)for(;t(I,S,j,O)<1;)d++,r(S,j<O?E:I,O,f),O=S.length}else 0===c&&(d++,S=[0]);w[p++]=d,S[0]?S[O++]=D[T]||0:(S=[D[T]],O=1)}while((T++<N||null!=S[0])&&k--);m=null!=S[0],w[0]||w.splice(0,1)}if(f==a){for(p=1,k=w[0];k>=10;k/=10,p++);J(v,u+(v.e=p+y*l-1)+1,s,m)}else v.e=y,v.r=+m;return v}}(),T=/^(-?)0([xbo])(?=\w[\w.]*$)/i,N=/^([^.]+)\.$/,A=/^\.([^.]+)$/,j=/^-?(Infinity|NaN)$/,E=/^\s*\+(?=[\w.])|^\s+|\s+$/g,O=function(e,t,r,n){var o,i=r?t:t.replace(E,"");if(!j.test(i)){if(!r&&(i=i.replace(T,function(e,t,r){return o="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=o?e:t}),n&&(o=n,i=i.replace(N,"$1").replace(A,"0.$1")),t!=i))return new B(i,o);throw Error(u+"Not a"+(n?" base "+n:"")+" number: "+t)}e.s=isNaN(i)?null:i<0?-1:1,e.c=e.e=null},k.absoluteValue=k.abs=function(){var e=new B(this);return e.s<0&&(e.s=1),e},k.comparedTo=function(e,t){return d(this,new B(e,t))},k.decimalPlaces=k.dp=function(e,t){var r,n,o,i=this;if(null!=e)return g(e,0,p),null==t?t=R:g(t,0,8),J(new B(i),e+i.e+1,t);if(!(r=i.c))return null;if(n=((o=r.length-1)-h(this.e/l))*l,o=r[o])for(;o%10==0;o/=10,n--);return n<0&&(n=0),n},k.dividedBy=k.div=function(e,t){return r(this,new B(e,t),I,R)},k.dividedToIntegerBy=k.idiv=function(e,t){return r(this,new B(e,t),0,1)},k.isEqualTo=k.eq=function(e,t){return 0===d(this,new B(e,t))},k.integerValue=function(e){var t=new B(this);return null==e?e=R:g(e,0,8),J(t,t.e+1,e)},k.isGreaterThan=k.gt=function(e,t){return d(this,new B(e,t))>0},k.isGreaterThanOrEqualTo=k.gte=function(e,t){return 1===(t=d(this,new B(e,t)))||0===t},k.isFinite=function(){return!!this.c},k.isInteger=function(){return!!this.c&&h(this.e/l)>this.c.length-2},k.isNaN=function(){return!this.s},k.isNegative=function(){return this.s<0},k.isPositive=function(){return this.s>0},k.isZero=function(){return!!this.c&&0==this.c[0]},k.isLessThan=k.lt=function(e,t){return d(this,new B(e,t))<0},k.isLessThanOrEqualTo=k.lte=function(e,t){return-1===(t=d(this,new B(e,t)))||0===t},k.minus=function(e,t){var r,n,o,i,u=this,s=u.s;if(t=(e=new B(e,t)).s,!s||!t)return new B(NaN);if(s!=t)return e.s=-t,u.plus(e);var f=u.e/l,c=e.e/l,y=u.c,p=e.c;if(!f||!c){if(!y||!p)return y?(e.s=-t,e):new B(p?u:NaN);if(!y[0]||!p[0])return p[0]?(e.s=-t,e):new B(y[0]?u:3==R?-0:0)}if(f=h(f),c=h(c),y=y.slice(),s=f-c){for((i=s<0)?(s=-s,o=y):(c=f,o=p),o.reverse(),t=s;t--;o.push(0));o.reverse()}else for(n=(i=(s=y.length)<(t=p.length))?s:t,s=t=0;t<n;t++)if(y[t]!=p[t]){i=y[t]<p[t];break}if(i&&(o=y,y=p,p=o,e.s=-e.s),(t=(n=p.length)-(r=y.length))>0)for(;t--;y[r++]=0);for(t=a-1;n>s;){if(y[--n]<p[n]){for(r=n;r&&!y[--r];y[r]=t);--y[r],y[n]+=a}y[n]-=p[n]}for(;0==y[0];y.splice(0,1),--c);return y[0]?q(e,y,c):(e.s=3==R?-1:1,e.c=[e.e=0],e)},k.modulo=k.mod=function(e,t){var n,o,i=this;return e=new B(e,t),!i.c||!e.s||e.c&&!e.c[0]?new B(NaN):!e.c||i.c&&!i.c[0]?new B(i):(9==H?(o=e.s,e.s=1,n=r(i,e,0,3),e.s=o,n.s*=o):n=r(i,e,0,H),i.minus(n.times(e)))},k.multipliedBy=k.times=function(e,t){var r,n,o,i,u,s,f,c,p,m,d,g,b,v,w,S=this,O=S.c,_=(e=new B(e,t)).c;if(!(O&&_&&O[0]&&_[0]))return!S.s||!e.s||O&&!O[0]&&!_||_&&!_[0]&&!O?e.c=e.e=e.s=null:(e.s*=S.s,O&&_?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=h(S.e/l)+h(e.e/l),e.s*=S.s,(f=O.length)<(m=_.length)&&(b=O,O=_,_=b,o=f,f=m,m=o),o=f+m,b=[];o--;b.push(0));for(v=a,w=y,o=m;--o>=0;){for(r=0,d=_[o]%w,g=_[o]/w|0,i=o+(u=f);i>o;)r=((c=d*(c=O[--u]%w)+(s=g*c+(p=O[u]/w|0)*d)%w*w+b[i]+r)/v|0)+(s/w|0)+g*p,b[i--]=c%v;b[i]=r}return r?++n:b.splice(0,1),q(e,b,n)},k.negated=function(){var e=new B(this);return e.s=-e.s||null,e},k.plus=function(e,t){var r,n=this,o=n.s;if(t=(e=new B(e,t)).s,!o||!t)return new B(NaN);if(o!=t)return e.s=-t,n.minus(e);var i=n.e/l,u=e.e/l,s=n.c,f=e.c;if(!i||!u){if(!s||!f)return new B(o/0);if(!s[0]||!f[0])return f[0]?e:new B(s[0]?n:0*o)}if(i=h(i),u=h(u),s=s.slice(),o=i-u){for(o>0?(u=i,r=f):(o=-o,r=s),r.reverse();o--;r.push(0));r.reverse()}for((o=s.length)-(t=f.length)<0&&(r=f,f=s,s=r,t=o),o=0;t;)o=(s[--t]=s[t]+f[t]+o)/a|0,s[t]=a===s[t]?0:s[t]%a;return o&&(s=[o].concat(s),++u),q(e,s,u)},k.precision=k.sd=function(e,t){var r,n,o,i=this;if(null!=e&&e!==!!e)return g(e,1,p),null==t?t=R:g(t,0,8),J(new B(i),e,t);if(!(r=i.c))return null;if(n=(o=r.length-1)*l+1,o=r[o]){for(;o%10==0;o/=10,n--);for(o=r[0];o>=10;o/=10,n++);}return e&&i.e+1>n&&(n=i.e+1),n},k.shiftedBy=function(e){return g(e,-f,f),this.times("1e"+e)},k.squareRoot=k.sqrt=function(){var e,t,n,o,i,u=this,s=u.c,a=u.s,l=u.e,f=I+4,c=new B("0.5");if(1!==a||!s||!s[0])return new B(!a||a<0&&(!s||s[0])?NaN:s?u:1/0);if(0==(a=Math.sqrt(+u))||a==1/0?(((t=m(s)).length+l)%2==0&&(t+="0"),a=Math.sqrt(t),l=h((l+1)/2)-(l<0||l%2),n=new B(t=a==1/0?"1e"+l:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+l)):n=new B(a+""),n.c[0])for((a=(l=n.e)+f)<3&&(a=0);;)if(i=n,n=c.times(i.plus(r(u,i,f,1))),m(i.c).slice(0,a)===(t=m(n.c)).slice(0,a)){if(n.e<l&&--a,"9999"!=(t=t.slice(a-3,a+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(J(n,n.e+I+2,1),e=!n.times(n).eq(u));break}if(!o&&(J(i,i.e+I+2,0),i.times(i).eq(u))){n=i;break}f+=4,a+=4,o=1}return J(n,n.e+I+1,R,e)},k.toExponential=function(e,t){return null!=e&&(g(e,0,p),e++),K(this,e,t,1)},k.toFixed=function(e,t){return null!=e&&(g(e,0,p),e=e+this.e+1),K(this,e,t)},k.toFormat=function(e,t){var r=this.toFixed(e,t);if(this.c){var n,o=r.split("."),i=+L.groupSize,u=+L.secondaryGroupSize,s=L.groupSeparator,a=o[0],l=o[1],f=this.s<0,c=f?a.slice(1):a,y=c.length;if(u&&(n=i,i=u,u=n,y-=n),i>0&&y>0){for(n=y%i||i,a=c.substr(0,n);n<y;n+=i)a+=s+c.substr(n,i);u>0&&(a+=s+c.slice(n)),f&&(a="-"+a)}r=l?a+L.decimalSeparator+((u=+L.fractionGroupSize)?l.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+L.fractionGroupSeparator):l):a}return r},k.toFraction=function(e){var t,n,o,i,s,a,f,y,p,h,d,g,b=this,v=b.c;if(null!=e&&(!(y=new B(e)).isInteger()||y.lt(D)))throw Error(u+"Argument "+(y.isInteger()?"out of range: ":"not an integer: ")+e);if(!v)return b.toString();for(n=new B(D),h=o=new B(D),i=p=new B(D),g=m(v),a=n.e=g.length-b.e-1,n.c[0]=c[(f=a%l)<0?l+f:f],e=!e||y.comparedTo(n)>0?a>0?n:h:y,f=C,C=1/0,y=new B(g),p.c[0]=0;d=r(y,n,0,1),1!=(s=o.plus(d.times(i))).comparedTo(e);)o=i,i=s,h=p.plus(d.times(s=h)),p=s,n=y.minus(d.times(s=n)),y=s;return s=r(e.minus(o),i,0,1),p=p.plus(s.times(h)),o=o.plus(s.times(i)),p.s=h.s=b.s,t=r(h,i,a*=2,R).minus(b).abs().comparedTo(r(p,o,a,R).minus(b).abs())<1?[h.toString(),i.toString()]:[p.toString(),o.toString()],C=f,t},k.toNumber=function(){return+this},k.exponentiatedBy=k.pow=function(e,t){var r,n,u,s,a=this;for(g(e,-f,f),null!=t&&(t=new B(t)),t?e>1&&a.gt(D)&&a.isInteger()&&t.gt(D)&&t.isInteger()?a=a.mod(t):(s=t,t=null):W&&(n=o(W/l+2)),u=new B(D),r=i(e<0?-e:e);;){if(r%2){if(!(u=u.times(a)).c)break;n?u.c.length>n&&(u.c.length=n):t&&(u=u.mod(t))}if(!(r=i(r/2)))break;a=a.times(a),n?a.c&&a.c.length>n&&(a.c.length=n):t&&(a=a.mod(t))}return t?u:(e<0&&(u=D.div(u)),s?u.mod(s):n?J(u,W,R):u)},k.toPrecision=function(e,t){return null!=e&&g(e,1,p),K(this,e,t,2)},k.toString=function(e){var t,r=this,n=r.s,o=r.e;return null===o?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(t=m(r.c),null==e?t=o<=P||o>=M?v(t,o):w(t,o,"0"):(g(e,2,$.length,"Base"),t=S(w(t,o,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},k.valueOf=k.toJSON=function(){var e,t=this,r=t.e;return null===r?t.toString():(e=m(t.c),e=r<=P||r>=M?v(e,r):w(e,r,"0"),t.s<0?"-"+e:e)},k._isBigNumber=!0,null!=t&&B.set(t),B}()).default=r.BigNumber=r,e.exports?e.exports=r:(t||(t="undefined"!=typeof self?self:Function("return this")()),t.BigNumber=r)}(n)}),Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er=["د.إ","؋","L","֏","ƒ","Kz","$","ƒ","₼","KM","৳","лв",".د.ب","FBu","$b","R$","฿","Nu.","P","p.","BZ$","FC","CHF","¥","₡","₱","Kč","Fdj","kr","RD$","دج","kr","Nfk","Br","Ξ","€","₾","₵","GH₵","D","FG","Q","L","kn","G","Ft","Rp","₪","₹","ع.د","﷼","kr","J$","JD","¥","KSh","лв","៛","CF","₩","₩","KD","лв","₭","₨","M","Ł","Lt","Ls","LD","MAD","lei","Ar","ден","K","₮","MOP$","UM","₨","Rf","MK","RM","MT","₦","C$","kr","₨","﷼","B/.","S/.","K","₱","₨","zł","Gs","﷼","￥","lei","Дин.","₽","R₣","﷼","₨","ج.س.","kr","£","Le","S","Db","E","฿","SM","T","د.ت","T$","₤","₺","TT$","NT$","TSh","₴","USh","$U","лв","Bs","₫","VT","WS$","FCFA","Ƀ","CFA","₣","﷼","R","Z$"];function tr(e){if("string"!=typeof e)throw new Error("csv-sort/util/findtype(): input must be string! Currently it's: "+(void 0===e?"undefined":Xt(e)));return ut(e)?"numeric":er.some(function(t){return ut(e.replace(t,"").replace(/[,.]/g,""))})?"numeric":0===e.trim().length?"empty":"text"}var rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr=Array.isArray;return function(e){var t=void 0,r=null,n=null;if("string"==typeof e){if(0===e.length)return[[""]];t=function(e,t){var r=0,n=0,o=[],i=[],u=!1,s=!0;if(void 0!==t&&!it(t))throw new Error("csv-split-easy/split(): [THROW_ID_02] Options object must be a plain object! Currently it's of a type "+(void 0===t?"undefined":Wt(t))+" equal to:\n"+JSON.stringify(t,null,4));var a={removeThousandSeparatorsFromNumbers:!0,padSingleDecimalPlaceNumbers:!0,forceUKStyle:!1},l=Object.assign({},a,t);if(Le(l,a,{msg:"csv-split-easy/split(): [THROW_ID_03*]"}),"string"!=typeof e)throw new TypeError("csv-split-easy/split(): [THROW_ID_04] input must be string! Currently it's: "+(void 0===e?"undefined":Wt(e))+", equal to: "+JSON.stringify(e,null,4));if(""===e)return[[""]];for(var f=0,c=(e=e.trim()).length;f<c;f++){if(s&&'"'!==e[f]&&","!==e[f]&&""!==e[f].trim()&&(s=!1),'"'===e[f])if(u){u=!1;var y=e.slice(r,f);""!==y.trim()&&(s=!1),o.push(Ft(y,{removeThousandSeparatorsFromNumbers:l.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:l.padSingleDecimalPlaceNumbers,forceUKStyle:l.forceUKStyle}))}else u=!0,r=f+1;else if(u||","!==e[f])if("\n"===e[f]||"\r"===e[f]){if(!n){if(n=f,!u&&'"'!==e[f-1]){var p=e.slice(r,f);""!==p.trim()&&(s=!1),o.push(Ft(p,{removeThousandSeparatorsFromNumbers:l.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:l.padSingleDecimalPlaceNumbers,forceUKStyle:l.forceUKStyle}))}s?o=[]:i.push(o),s=!0,o=[]}r=f+1}else n&&(n=0,r=f);else{if('"'!==e[f-1]&&!u){var h=e.slice(r,f);""!==h.trim()&&(s=!1),o.push(Ft(h,{removeThousandSeparatorsFromNumbers:l.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:l.padSingleDecimalPlaceNumbers,forceUKStyle:l.forceUKStyle}))}r=f+1,n&&(n=0)}if(f+1===c){if('"'!==e[f]){var m=e.slice(r,f+1);""!==m.trim()&&(s=!1),o.push(Ft(m,{removeThousandSeparatorsFromNumbers:l.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:l.padSingleDecimalPlaceNumbers,forceUKStyle:l.forceUKStyle}))}s?o=[]:i.push(o),s=!0}}return 0===i.length?[[""]]:i}(e)}else{if(!nr(e))throw new TypeError("csv-sort/csvSort(): [THROW_ID_02] The input is of a wrong type! We accept either string of array of arrays. We got instead: "+(void 0===e?"undefined":rr(e))+", equal to:\n"+JSON.stringify(e,null,4));var o=void 0,i=void 0;if(!e.every(function(e,t){return nr(e)||(o=e,i=t),nr(e)}))throw new TypeError("csv-sort/csvSort(): [THROW_ID_01] the input is array as expected, but not all of its children are arrays! For example, the "+zt(i)+" element is not array but: "+(void 0===o?"undefined":rr(o))+", equal to:\n"+JSON.stringify(o,null,4))}for(var u=null,s=!1,a=!0,l=[],f=null,c=t.length-1;c>=0;c--)if(u){0===c&&(s=t[c].every(function(e){return"text"===tr(e)||"empty"===tr(e)})),s||u.length===t[c].length||(a=!1);for(var y=null,p=0,h=t[c].length;p<h;p++)if(null===y&&"empty"===tr(t[c][p].trim())&&(y=p),null!==y&&"empty"!==tr(t[c][p].trim())&&(y=null),tr(t[c][p].trim())!==u[p]&&!s){var m=tr(t[c][p].trim());if(nr(u[p]))u[p].includes(m)||u[p].push(tr(t[c][p].trim()));else if(u[p]!==m){var d=u[p];u[p]=[],u[p].push(d),u[p].push(m)}}null!==f&&null!==y&&y>f&&(!s||s&&0!==c)&&(f=y)}else if(1!==t[c].length||""!==t[c][0]){u=[];for(var g=0,b=t[c].length;g<b;g++)u.push(tr(t[c][g].trim())),null===f&&"empty"===tr(t[c][g].trim())&&(f=g),null!==f&&"empty"!==tr(t[c][g].trim())&&(f=null)}f||(f=u.length);for(var v=0,w=0,S=u.length;w<S&&"empty"===u[w];w++)v=w;0!==v&&(t=t.map(function(e){return e.slice(v+1,f)}),u=u.slice(v+1,f));var O=[],_=void 0;u.forEach(function(e,t){"numeric"===e&&O.push(t)});var T=s?1:0;if(1===O.length)_=O[0];else{if(0===O.length)throw new Error('csv-sort/csvSort(): [THROW_ID_03] Your CSV file does not contain numeric-only columns and computer was not able to detect the "Balance" column!');for(var N=Array.from(O),A=[],j=0,E=N.length;j<E;j++){for(var k=N[j],D=void 0,I=!0,R=void 0,P=!0,M=T,x=t.length;M<x&&(I&&(void 0===D?D=t[M][k]:D===t[M][k]?(A.push(k),I=!1):D=t[M][k]),P&&(void 0===R?R=t[M][k]:t[M][k]!==R&&(P=!1)),I);M++);P&&l.push(k)}if(1===(N=Jt.apply(void 0,[N].concat(A))).length)_=N[0];else if(0===N.length)throw new Error('csv-sort/csvSort(): [THROW_ID_04] The computer can\'t find the "Balance" column! It saw some numeric-only columns, but they all seem to have certain rows with the same values as rows right below/above them!')}if(!_)throw new Error("csv-sort/csvSort(): [THROW_ID_05] Sadly computer couldn't find its way in this CSV and had to stop working on it.");var C=Jt.apply(void 0,[Array.from(u.reduce(function(e,t,r){return("string"==typeof t&&"numeric"===t||nr(t)&&t.includes("numeric"))&&e.push(r),e},[])),_].concat(l)),F=[];F.push(t[t.length-1].slice(0,f));for(var H=[],W=s?1:0,L=t.length-2;L>=W;L--)for(var $=t.length-2;$>=W;$--)if(!H.includes($)){for(var B=!1,K=0,U=C.length;K<U;K++){var q=null;""!==t[$][C[K]]&&(q=new Yt(t[$][C[K]]));var J=null;""!==t[$][_]&&(J=new Yt(t[$][_]));var V=null;""!==F[0][_]&&(V=new Yt(F[0][_]));var Z=null;""!==F[F.length-1][C[K]]&&(Z=new Yt(F[F.length-1][C[K]]));var G=null;if(""!==F[F.length-1][_]&&(G=new Yt(F[F.length-1][_])),q&&J.plus(q).eq(V)){F.unshift(t[$].slice(0,f)),H.push($),B=!0;break}if(q&&J.minus(q).eq(V)){F.unshift(t[$].slice(0,f)),H.push($),B=!0;break}if(Z&&G.plus(Z).eq(J)){F.push(t[$].slice(0,f)),H.push($),B=!0;break}if(Z&&G.minus(Z).eq(J)){F.push(t[$].slice(0,f)),H.push($),B=!0;break}}if(B){B=!1;break}}return s&&(a&&t[0].length>u.length&&(t[0].length=u.length),F.unshift(t[0].slice(0,f))),t.length-(s?2:1)!==H.length&&(r="Not all rows were recognised!",n="alert"),{res:F,msgContent:r,msgType:n}}});
