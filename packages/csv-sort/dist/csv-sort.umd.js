!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e.csvSort=r()}(this,function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e,r){if(r){if("object"!==(void 0===r?"undefined":t(r)))throw new TypeError(String(r)+" is not an object. Expected an object that has boolean `includeZero` property.");if("includeZero"in r){if("boolean"!=typeof r.includeZero)throw new TypeError(String(r.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(r.includeZero&&0===e)return!0}}return Number.isSafeInteger(e)&&1<=e},h=function(e,r){if("string"!=typeof e)return!1;if(r&&"includeZero"in r){if("boolean"!=typeof r.includeZero)throw new TypeError(String(r.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(r.includeZero)return/^(-?0|[1-9]\d*)(\.0+)?$/.test(e)}return/^[1-9]\d*(\.0+)?$/.test(e)},v="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(e,r){return e(r={exports:{}},r.exports),r.exports}var p=e(function(e,r){(r=e.exports=function(e){return e+r.suffix(+e)}).suffix=function(e){return 1===Math.floor(e/10)?"th":e%10==1?"st":e%10==2?"nd":e%10==3?"rd":"th"}}),f=(p.suffix,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),m=Array.isArray;var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=e(function(e,r){var o,i,t,s,a,c,u,l,n,f,y,h,p,m,g,d,b,w;e.exports=(o="function"==typeof Promise,i="object"===("undefined"==typeof self?"undefined":O(self))?self:v,t="undefined"!=typeof Symbol,s="undefined"!=typeof Map,a="undefined"!=typeof Set,c="undefined"!=typeof WeakMap,u="undefined"!=typeof WeakSet,l="undefined"!=typeof DataView,n=t&&void 0!==Symbol.iterator,f=t&&void 0!==Symbol.toStringTag,y=a&&"function"==typeof Set.prototype.entries,h=s&&"function"==typeof Map.prototype.entries,p=y&&Object.getPrototypeOf((new Set).entries()),m=h&&Object.getPrototypeOf((new Map).entries()),g=n&&"function"==typeof Array.prototype[Symbol.iterator],d=g&&Object.getPrototypeOf([][Symbol.iterator]()),b=n&&"function"==typeof String.prototype[Symbol.iterator],w=b&&Object.getPrototypeOf(""[Symbol.iterator]()),function(e){var r=void 0===e?"undefined":O(e);if("object"!==r)return r;if(null===e)return"null";if(e===i)return"global";if(Array.isArray(e)&&(!1===f||!(Symbol.toStringTag in e)))return"Array";if("object"===("undefined"==typeof window?"undefined":O(window))&&null!==window){if("object"===O(window.location)&&e===window.location)return"Location";if("object"===O(window.document)&&e===window.document)return"Document";if("object"===O(window.navigator)){if("object"===O(window.navigator.mimeTypes)&&e===window.navigator.mimeTypes)return"MimeTypeArray";if("object"===O(window.navigator.plugins)&&e===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"===O(window.HTMLElement))&&e instanceof window.HTMLElement){if("BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if("TD"===e.tagName)return"HTMLTableDataCellElement";if("TH"===e.tagName)return"HTMLTableHeaderCellElement"}}var t=f&&e[Symbol.toStringTag];if("string"==typeof t)return t;var n=Object.getPrototypeOf(e);return n===RegExp.prototype?"RegExp":n===Date.prototype?"Date":o&&n===Promise.prototype?"Promise":a&&n===Set.prototype?"Set":s&&n===Map.prototype?"Map":u&&n===WeakSet.prototype?"WeakSet":c&&n===WeakMap.prototype?"WeakMap":l&&n===DataView.prototype?"DataView":s&&n===m?"Map Iterator":a&&n===p?"Set Iterator":g&&n===d?"Array Iterator":b&&n===w?"String Iterator":null===n?"Object":Object.prototype.toString.call(e).slice(8,-1)})});function g(e,r,t){if(r!=r)return function(e,r,t,n){for(var o=e.length,i=t+(n?1:-1);n?i--:++i<o;)if(r(e[i],i,e))return i;return-1}(e,i,t);for(var n=t-1,o=e.length;++n<o;)if(e[n]===r)return n;return-1}function b(e,r,t,n){for(var o=t-1,i=e.length;++o<i;)if(n(e[o],r))return o;return-1}function i(e){return e!=e}var w=Array.prototype.splice;function n(e,r,t,n){var o,i=n?b:g,s=-1,a=r.length,c=e;for(e===r&&(r=function(e,r){var t=-1,n=e.length;r||(r=Array(n));for(;++t<n;)r[t]=e[t];return r}(r)),t&&(c=function(e,r){for(var t=-1,n=e?e.length:0,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}(e,(o=t,function(e){return o(e)})));++s<a;)for(var u=0,l=r[s],f=t?t(l):l;-1<(u=i(c,f,u,n));)c!==e&&w.call(c,u,1),w.call(e,u,1);return e}var S=function(e,r){return e&&e.length&&r&&r.length?n(e,r):e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="__lodash_hash_undefined__",a=9007199254740991,c="[object Function]",u="[object GeneratorFunction]",l=/^\[object .+?Constructor\]$/,r="object"==s(v)&&v&&v.Object===Object&&v,_="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,T=r||_||Function("return this")();function N(e,r){return!!(e?e.length:0)&&-1<function(e,r,t){if(r!=r)return function(e,r,t,n){var o=e.length,i=t+(n?1:-1);for(;n?i--:++i<o;)if(r(e[i],i,e))return i;return-1}(e,k,t);var n=t-1,o=e.length;for(;++n<o;)if(e[n]===r)return n;return-1}(e,r,0)}function j(e,r,t){for(var n=-1,o=e?e.length:0;++n<o;)if(t(r,e[n]))return!0;return!1}function E(e,r){for(var t=-1,n=e?e.length:0,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}function k(e){return e!=e}function A(r){return function(e){return r(e)}}function I(e,r){return e.has(r)}var D,R,W,H=Array.prototype,K=Function.prototype,C=Object.prototype,P=T["__core-js_shared__"],V=(D=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",M=K.toString,L=C.hasOwnProperty,x=C.toString,J=RegExp("^"+M.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=H.splice,F=Math.max,q=Math.min,U=te(T,"Map"),$=te(Object,"create");function Z(e){var r=-1,t=e?e.length:0;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}function G(e){var r=-1,t=e?e.length:0;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}function z(e){var r=-1,t=e?e.length:0;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}function Q(e){var r=-1,t=e?e.length:0;for(this.__data__=new z;++r<t;)this.add(e[r])}function Y(e,r){for(var t,n,o=e.length;o--;)if((t=e[o][0])===(n=r)||t!=t&&n!=n)return o;return-1}function X(e){return!(!oe(e)||(r=e,V&&V in r))&&(ne(e)||function(e){var r=!1;if(null!=e&&"function"!=typeof e.toString)try{r=!!(e+"")}catch(e){}return r}(e)?J:l).test(function(e){if(null!=e){try{return M.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var r}function ee(e){return(o=r=e)&&"object"==(void 0===o?"undefined":s(o))&&(null!=(t=r)&&("number"==typeof(n=t.length)&&-1<n&&n%1==0&&n<=a)&&!ne(t))?e:[];var r,t,n,o}function re(e,r){var t,n,o=e.__data__;return("string"==(n=void 0===(t=r)?"undefined":s(t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?o["string"==typeof r?"string":"hash"]:o.map}function te(e,r){var t,n,o=(n=r,null==(t=e)?void 0:t[n]);return X(o)?o:void 0}function ne(e){var r=oe(e)?x.call(e):"";return r==c||r==u}function oe(e){var r=void 0===e?"undefined":s(e);return!!e&&("object"==r||"function"==r)}Z.prototype.clear=function(){this.__data__=$?$(null):{}},Z.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Z.prototype.get=function(e){var r=this.__data__;if($){var t=r[e];return t===o?void 0:t}return L.call(r,e)?r[e]:void 0},Z.prototype.has=function(e){var r=this.__data__;return $?void 0!==r[e]:L.call(r,e)},Z.prototype.set=function(e,r){return this.__data__[e]=$&&void 0===r?o:r,this},G.prototype.clear=function(){this.__data__=[]},G.prototype.delete=function(e){var r=this.__data__,t=Y(r,e);return!(t<0||(t==r.length-1?r.pop():B.call(r,t,1),0))},G.prototype.get=function(e){var r=this.__data__,t=Y(r,e);return t<0?void 0:r[t][1]},G.prototype.has=function(e){return-1<Y(this.__data__,e)},G.prototype.set=function(e,r){var t=this.__data__,n=Y(t,e);return n<0?t.push([e,r]):t[n][1]=r,this},z.prototype.clear=function(){this.__data__={hash:new Z,map:new(U||G),string:new Z}},z.prototype.delete=function(e){return re(this,e).delete(e)},z.prototype.get=function(e){return re(this,e).get(e)},z.prototype.has=function(e){return re(this,e).has(e)},z.prototype.set=function(e,r){return re(this,e).set(e,r),this},Q.prototype.add=Q.prototype.push=function(e){return this.__data__.set(e,o),this},Q.prototype.has=function(e){return this.__data__.has(e)};var ie=(R=function(e){var r=E(e,ee);return r.length&&r[0]===e[0]?function(e,r,t){for(var n=t?j:N,o=e[0].length,i=e.length,s=i,a=Array(i),c=1/0,u=[];s--;){var l=e[s];s&&r&&(l=E(l,A(r))),c=q(l.length,c),a[s]=!t&&(r||120<=o&&120<=l.length)?new Q(s&&l):void 0}l=e[0];var f=-1,y=a[0];e:for(;++f<o&&u.length<c;){var h=l[f],p=r?r(h):h;if(h=t||0!==h?h:0,!(y?I(y,p):n(u,p,t))){for(s=i;--s;){var m=a[s];if(!(m?I(m,p):n(e[s],p,t)))continue e}y&&y.push(p),u.push(h)}}return u}(r):[]},W=F(void 0===W?R.length-1:W,0),function(){for(var e=arguments,r=-1,t=F(e.length-W,0),n=Array(t);++r<t;)n[r]=e[W+r];r=-1;for(var o=Array(W+1);++r<W;)o[r]=e[r];return o[W]=n,function(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}(R,this,o)});function se(e){return"string"==typeof e?0<e.length?[e]:[]:e}var ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce=Array.isArray;function ue(e,r){if(!ce(e))throw new TypeError("ranges-sort: [THROW_ID_01] Input must be an array, consisting of range arrays! Currently its type is: "+(void 0===e?"undefined":ae(e))+", equal to: "+JSON.stringify(e,null,4));if(0===e.length)return e;var t={strictlyTwoElementsInRangeArrays:!1},n=Object.assign({},t,r);!function(n,e,r){function o(e){return null!=e}function t(e){return"boolean"===d(e)}function i(e){return"string"===d(e)}function s(e){return"Object"===d(e)}var a=["any","anything","every","everything","all","whatever","whatevs"],c=Array.isArray;if(0===arguments.length)throw new Error("check-types-mini: [THROW_ID_01] Missing all arguments!");if(1===arguments.length)throw new Error("check-types-mini: [THROW_ID_02] Missing second argument!");var u=s(e)?e:{},l={ignoreKeys:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},f=void 0;if(!i((f=o(r)&&s(r)?Object.assign({},l,r):Object.assign({},l)).msg))throw new Error("check-types-mini: [THROW_ID_03] opts.msg must be string! Currently it's: "+d(f.msg)+", equal to "+JSON.stringify(f.msg,null,4));if(f.msg=f.msg.trim(),":"===f.msg[f.msg.length-1]&&(f.msg=f.msg.slice(0,f.msg.length-1)),!i(f.optsVarName))throw new Error("check-types-mini: [THROW_ID_04] opts.optsVarName must be string! Currently it's: "+d(f.optsVarName)+", equal to "+JSON.stringify(f.optsVarName,null,4));if(f.ignoreKeys=se(f.ignoreKeys),f.acceptArraysIgnore=se(f.acceptArraysIgnore),!c(f.ignoreKeys))throw new TypeError("check-types-mini: [THROW_ID_05] opts.ignoreKeys should be an array, currently it's: "+d(f.ignoreKeys));if(!t(f.acceptArrays))throw new TypeError("check-types-mini: [THROW_ID_06] opts.acceptArrays should be a Boolean, currently it's: "+d(f.acceptArrays));if(!c(f.acceptArraysIgnore))throw new TypeError("check-types-mini: [THROW_ID_07] opts.acceptArraysIgnore should be an array, currently it's: "+d(f.acceptArraysIgnore));if(!t(f.enforceStrictKeyset))throw new TypeError("check-types-mini: [THROW_ID_08] opts.enforceStrictKeyset should be a Boolean, currently it's: "+d(f.enforceStrictKeyset));if(Object.keys(f.schema).forEach(function(e){c(f.schema[e])||(f.schema[e]=[f.schema[e]]),f.schema[e]=f.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),f.enforceStrictKeyset)if(o(f.schema)&&0<Object.keys(f.schema).length){if(0!==S(Object.keys(n),Object.keys(u).concat(Object.keys(f.schema))).length)throw new TypeError(f.msg+": "+f.optsVarName+".enforceStrictKeyset is on and the following keys are not covered by schema and/or reference objects: "+JSON.stringify(S(Object.keys(n),Object.keys(u).concat(Object.keys(f.schema))),null,4))}else{if(!(o(u)&&0<Object.keys(u).length))throw new TypeError(f.msg+": Both "+f.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==S(Object.keys(n),Object.keys(u)).length)throw new TypeError(f.msg+": The input object has keys that are not covered by reference object: "+JSON.stringify(S(Object.keys(n),Object.keys(u)),null,4));if(0!==S(Object.keys(u),Object.keys(n)).length)throw new TypeError(f.msg+": The reference object has keys that are not present in the input object: "+JSON.stringify(S(Object.keys(u),Object.keys(n)),null,4))}Object.keys(n).forEach(function(r){if(o(f.schema)&&Object.prototype.hasOwnProperty.call(f.schema,r)){if(f.schema[r]=se(f.schema[r]).map(String).map(function(e){return e.toLowerCase()}),!(ie(f.schema[r],a).length||(!0===n[r]||!1===n[r]||f.schema[r].includes(d(n[r]).toLowerCase()))&&(!0!==n[r]&&!1!==n[r]||f.schema[r].includes(String(n[r]))||f.schema[r].includes("boolean")))){if(!c(n[r])||!f.acceptArrays)throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" was customised to "+JSON.stringify(n[r],null,4)+" which is not among the allowed types in schema ("+f.schema[r]+") but "+d(n[r]));for(var e=0,t=n[r].length;e<t;e++)if(!f.schema[r].includes(d(n[r][e]).toLowerCase()))throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" is of type "+d(n[r][e]).toLowerCase()+", but only the following are allowed in "+f.optsVarName+".schema: "+f.schema[r])}}else if(o(u)&&Object.prototype.hasOwnProperty.call(u,r)&&d(n[r])!==d(u[r])&&!f.ignoreKeys.includes(r)){if(!f.acceptArrays||!c(n[r])||f.acceptArraysIgnore.includes(r))throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" was customised to "+JSON.stringify(n[r],null,4)+" which is not "+d(u[r])+" but "+d(n[r]));if(!n[r].every(function(e){return d(e)===d(u[r])}))throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" was customised to be array, but not all of its elements are "+d(u[r])+"-type")}})}(n,t,{msg:"ranges-sort: [THROW_ID_02*]"});var o=void 0,i=void 0;if(n.strictlyTwoElementsInRangeArrays&&!e.every(function(e,r){return 2===e.length||(o=r,i=e.length,!1)}))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, "+p(o)+" range ("+JSON.stringify(e[o],null,4)+") has not two but "+i+" elements!");if(!e.every(function(e,r){return!(!y(e[0],{includeZero:!0})||!y(e[1],{includeZero:!0}))||(o=r,!1)}))throw new TypeError("ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, "+p(o)+" range ("+JSON.stringify(e[o],null,4)+") does not consist of only natural numbers!");return Array.from(e).sort(function(e,r){return e[0]===r[0]?e[1]<r[1]?-1:e[1]>r[1]?1:0:e[0]<r[0]?-1:1})}function le(e){if("string"==typeof e){if(0===e.length)return"";if(""===e.trim())return e.includes("\n")?"\n":" ";var r="";if(""===e[0].trim()){for(var t=!(r=" "),n=0,o=e.length;n<o&&("\n"===e[n]&&(t=!0),""===e[n].trim());n++);t&&(r="\n")}var i="";if(""===e.slice(-1).trim()){for(var s=!(i=" "),a=e.length;a--&&("\n"===e[a]&&(s=!0),""===e[a].trim()););s&&(i="\n")}return r+e.trim()+i}return e}var fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye=function(){function n(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}}();function he(e){return null!=e}var pe=Array.isArray;function me(e){return"string"==typeof e}function ge(e){return h(e,{includeZero:!0})?parseInt(e,10):e}var de=function(){function n(e){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n);var r={limitToBeAddedWhitespace:!1},t=Object.assign({},r,e);!function(n,e,r){function o(e){return null!=e}function t(e){return"boolean"===d(e)}function i(e){return"string"===d(e)}function s(e){return"Object"===d(e)}var a=["any","anything","every","everything","all","whatever","whatevs"],c=Array.isArray;if(0===arguments.length)throw new Error("check-types-mini: [THROW_ID_01] Missing all arguments!");if(1===arguments.length)throw new Error("check-types-mini: [THROW_ID_02] Missing second argument!");var u=s(e)?e:{},l={ignoreKeys:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},f=void 0;if(!i((f=o(r)&&s(r)?Object.assign({},l,r):Object.assign({},l)).msg))throw new Error("check-types-mini: [THROW_ID_03] opts.msg must be string! Currently it's: "+d(f.msg)+", equal to "+JSON.stringify(f.msg,null,4));if(f.msg=f.msg.trim(),":"===f.msg[f.msg.length-1]&&(f.msg=f.msg.slice(0,f.msg.length-1)),!i(f.optsVarName))throw new Error("check-types-mini: [THROW_ID_04] opts.optsVarName must be string! Currently it's: "+d(f.optsVarName)+", equal to "+JSON.stringify(f.optsVarName,null,4));if(f.ignoreKeys=se(f.ignoreKeys),f.acceptArraysIgnore=se(f.acceptArraysIgnore),!c(f.ignoreKeys))throw new TypeError("check-types-mini: [THROW_ID_05] opts.ignoreKeys should be an array, currently it's: "+d(f.ignoreKeys));if(!t(f.acceptArrays))throw new TypeError("check-types-mini: [THROW_ID_06] opts.acceptArrays should be a Boolean, currently it's: "+d(f.acceptArrays));if(!c(f.acceptArraysIgnore))throw new TypeError("check-types-mini: [THROW_ID_07] opts.acceptArraysIgnore should be an array, currently it's: "+d(f.acceptArraysIgnore));if(!t(f.enforceStrictKeyset))throw new TypeError("check-types-mini: [THROW_ID_08] opts.enforceStrictKeyset should be a Boolean, currently it's: "+d(f.enforceStrictKeyset));if(Object.keys(f.schema).forEach(function(e){c(f.schema[e])||(f.schema[e]=[f.schema[e]]),f.schema[e]=f.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),f.enforceStrictKeyset)if(o(f.schema)&&0<Object.keys(f.schema).length){if(0!==S(Object.keys(n),Object.keys(u).concat(Object.keys(f.schema))).length)throw new TypeError(f.msg+": "+f.optsVarName+".enforceStrictKeyset is on and the following keys are not covered by schema and/or reference objects: "+JSON.stringify(S(Object.keys(n),Object.keys(u).concat(Object.keys(f.schema))),null,4))}else{if(!(o(u)&&0<Object.keys(u).length))throw new TypeError(f.msg+": Both "+f.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==S(Object.keys(n),Object.keys(u)).length)throw new TypeError(f.msg+": The input object has keys that are not covered by reference object: "+JSON.stringify(S(Object.keys(n),Object.keys(u)),null,4));if(0!==S(Object.keys(u),Object.keys(n)).length)throw new TypeError(f.msg+": The reference object has keys that are not present in the input object: "+JSON.stringify(S(Object.keys(u),Object.keys(n)),null,4))}Object.keys(n).forEach(function(r){if(o(f.schema)&&Object.prototype.hasOwnProperty.call(f.schema,r)){if(f.schema[r]=se(f.schema[r]).map(String).map(function(e){return e.toLowerCase()}),!(ie(f.schema[r],a).length||(!0===n[r]||!1===n[r]||f.schema[r].includes(d(n[r]).toLowerCase()))&&(!0!==n[r]&&!1!==n[r]||f.schema[r].includes(String(n[r]))||f.schema[r].includes("boolean")))){if(!c(n[r])||!f.acceptArrays)throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" was customised to "+JSON.stringify(n[r],null,4)+" which is not among the allowed types in schema ("+f.schema[r]+") but "+d(n[r]));for(var e=0,t=n[r].length;e<t;e++)if(!f.schema[r].includes(d(n[r][e]).toLowerCase()))throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" is of type "+d(n[r][e]).toLowerCase()+", but only the following are allowed in "+f.optsVarName+".schema: "+f.schema[r])}}else if(o(u)&&Object.prototype.hasOwnProperty.call(u,r)&&d(n[r])!==d(u[r])&&!f.ignoreKeys.includes(r)){if(!f.acceptArrays||!c(n[r])||f.acceptArraysIgnore.includes(r))throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" was customised to "+JSON.stringify(n[r],null,4)+" which is not "+d(u[r])+" but "+d(n[r]));if(!n[r].every(function(e){return d(e)===d(u[r])}))throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" was customised to be array, but not all of its elements are "+d(u[r])+"-type")}})}(t,r,{msg:"string-slices-array-push: [THROW_ID_02*]"}),this.opts=t}return ye(n,[{key:"add",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(e){throw new Error("string-slices-array-push/Slices/add(): [THROW_ID_01] Missing "+p(e)+" input parameter!")}(1),t=this,r=arguments[1],n=arguments[2],o=arguments.length,i=Array(3<o?o-3:0),s=3;s<o;s++)i[s-3]=arguments[s];if(0<i.length)throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_03] Please don't overload the add() method. From the 4th input argument onwards we see these redundant arguments: "+JSON.stringify(i,null,4));if(null!==e||void 0!==r||void 0!==n){var a=h(e,{includeZero:!0})?parseInt(e,10):e,c=h(r,{includeZero:!0})?parseInt(r,10):r;if(pe(e)&&!he(r)){var u=void 0,l=void 0;if(0<e.length){if(!e.every(function(e,r){return!!pe(e)||(u=r,l=e,!1)}))throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_07] first argument was given as array but it contains not only range arrays. For example, at index "+u+" we have "+(void 0===l?"undefined":fe(l))+"-type value:\n"+JSON.stringify(l,null,4)+".");e.forEach(function(e,r){if(!y(ge(e[0]),{includeZero:!0}))throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_06] The "+p(r)+" ranges array's starting range index, an element at its zero'th index, is not a natural number! It's equal to: "+e[0]+".");if(!y(ge(e[1]),{includeZero:!0}))throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_05] The "+p(r)+" ranges array's ending range index, an element at its first index, is not a natural number! It's equal to: "+e[1]+".");if(he(e[2])&&!me(e[2]))throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_04] The "+p(r)+' ranges array\'s "to add" value is not string but '+fe(e[2])+"! It's equal to: "+e[2]+".");t.add.apply(t,function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}(e))})}}else{if(!y(a,{includeZero:!0})||!y(c,{includeZero:!0}))throw y(a,{includeZero:!0})?new TypeError('string-slices-array-push/Slices/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it\'s of a type "'+(void 0===c?"undefined":fe(c))+'" equal to: '+JSON.stringify(c,null,4)):new TypeError('string-slices-array-push/Slices/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it\'s of a type "'+(void 0===a?"undefined":fe(a))+'" equal to: '+JSON.stringify(a,null,4));if(he(n)&&!me(n))throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but "+(void 0===n?"undefined":fe(n))+", equal to:\n"+JSON.stringify(n,null,4));if(void 0!==this.slices&&a===this.last()[1]){if(this.last()[1]=c,null!==this.last()[2]&&he(n)){var f=he(this.last()[2])&&0<this.last()[2].length?this.last()[2]+n:n;this.opts.limitToBeAddedWhitespace&&(f=le(f)),this.last()[2]=f}}else this.slices||(this.slices=[]),this.slices.push(void 0!==n?[a,c,this.opts.limitToBeAddedWhitespace?le(n):n]:[a,c])}}}},{key:"push",value:function(e,r,t){for(var n=arguments.length,o=Array(3<n?n-3:0),i=3;i<n;i++)o[i-3]=arguments[i];this.add.apply(this,[e,r,t].concat(o))}},{key:"current",value:function(){return null!=this.slices?(this.slices=function(e){if(!Array.isArray(e))return e;for(var r=ue(e),t=r.length-1;0<t;t--)(r[t][0]<=r[t-1][0]||r[t][0]<=r[t-1][1])&&(r[t-1][0]=Math.min(r[t][0],r[t-1][0]),r[t-1][1]=Math.max(r[t][1],r[t-1][1]),void 0!==r[t][2]&&(r[t-1][0]>=r[t][0]||r[t-1][1]<=r[t][1])&&null!==r[t-1][2]&&(null===r[t][2]&&null!==r[t-1][2]?r[t-1][2]=null:void 0!==r[t-1][2]?r[t-1][2]+=r[t][2]:r[t-1][2]=r[t][2]),r.splice(t,1),t=r.length);return r}(this.slices),this.opts.limitToBeAddedWhitespace?this.slices.map(function(e){return he(e[2])?[e[0],e[1],le(e[2])]:e}):this.slices):null}},{key:"wipe",value:function(){this.slices=void 0}},{key:"last",value:function(){return void 0!==this.slices&&Array.isArray(this.slices)?this.slices[this.slices.length-1]:null}}]),n}(),be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var we,ve,Oe=Function.prototype,Se=Object.prototype,_e=Oe.toString,Te=Se.hasOwnProperty,Ne=_e.call(Object),je=Se.toString,Ee=(we=Object.getPrototypeOf,ve=Object,function(e){return we(ve(e))});var ke=function(e){if(!(r=e)||"object"!=(void 0===r?"undefined":be(r))||"[object Object]"!=je.call(e)||function(e){var r=!1;if(null!=e&&"function"!=typeof e.toString)try{r=!!(e+"")}catch(e){}return r}(e))return!1;var r,t=Ee(e);if(null===t)return!0;var n=Te.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&_e.call(n)==Ne};var Ae=e(function(t,n){!function(e){function r(e,r){return r instanceof Object||(r={trim:!0}),"number"==typeof e&&!isNaN(e)||(e=(e||"").toString(),"trim"in r&&!r.trim?!/\s/.test(e):!!(e=e.trim())&&!isNaN(e))}t.exports&&(n=t.exports=r),n.isNumeric=r}()}),Ie=(Ae.isNumeric,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),De=1/0,Re="[object Symbol]",We=/^\s+|\s+$/g,He="\\ud800-\\udfff",Ke="\\u0300-\\u036f\\ufe20-\\ufe23",Ce="\\u20d0-\\u20f0",Pe="\\ufe0e\\ufe0f",Ve="["+He+"]",Me="["+Ke+Ce+"]",Le="\\ud83c[\\udffb-\\udfff]",xe="[^"+He+"]",Je="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",Fe="\\u200d",qe="(?:"+Me+"|"+Le+")"+"?",Ue="["+Pe+"]?",$e=Ue+qe+("(?:"+Fe+"(?:"+[xe,Je,Be].join("|")+")"+Ue+qe+")*"),Ze="(?:"+[xe+Me+"?",Me,Je,Be,Ve].join("|")+")",Ge=RegExp(Le+"(?="+Le+")|"+Ze+$e,"g"),ze=RegExp("["+Fe+He+Ke+Ce+Pe+"]"),Qe="object"==Ie(v)&&v&&v.Object===Object&&v,Ye="object"==("undefined"==typeof self?"undefined":Ie(self))&&self&&self.Object===Object&&self,Xe=Qe||Ye||Function("return this")();function er(e,r,t){if(r!=r)return function(e,r,t,n){for(var o=e.length,i=t+(n?1:-1);n?i--:++i<o;)if(r(e[i],i,e))return i;return-1}(e,rr,t);for(var n=t-1,o=e.length;++n<o;)if(e[n]===r)return n;return-1}function rr(e){return e!=e}function tr(e){return r=e,ze.test(r)?e.match(Ge)||[]:e.split("");var r}var nr=Object.prototype.toString,or=Xe.Symbol,ir=or?or.prototype:void 0,sr=ir?ir.toString:void 0;function ar(e){if("string"==typeof e)return e;if("symbol"==(void 0===(r=e)?"undefined":Ie(r))||(t=r)&&"object"==(void 0===t?"undefined":Ie(t))&&nr.call(r)==Re)return sr?sr.call(e):"";var r,t,n=e+"";return"0"==n&&1/e==-De?"-0":n}function cr(e,r,t){var n=e.length;return t=void 0===t?n:t,!r&&n<=t?e:function(e,r,t){var n=-1,o=e.length;r<0&&(r=o<-r?0:o+r),(t=o<t?o:t)<0&&(t+=o),o=t<r?0:t-r>>>0,r>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+r];return i}(e,r,t)}var ur=function(e,r,t){var n;if((e=null==(n=e)?"":ar(n))&&(t||void 0===r))return e.replace(We,"");if(!e||!(r=ar(r)))return e;var o=tr(e),i=tr(r);return cr(o,function(e,r){for(var t=-1,n=e.length;++t<n&&-1<er(r,e[t],0););return t}(o,i),function(e,r){for(var t=e.length;t--&&-1<er(r,e[t],0););return t}(o,i)+1).join("")},lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function fr(e,r){var t=!0,n=[".",",","'"," "],o=void 0;if("string"!=typeof e)throw new TypeError("string-remove-thousand-separators/remSep(): [THROW_ID_01] Input must be string! Currently it's: "+(void 0===e?"undefined":lr(e))+", equal to:\n"+JSON.stringify(e,null,4));if(null!=r&&!ke(r))throw new TypeError("string-remove-thousand-separators/remSep(): [THROW_ID_02] Options object must be a plain object! Currently it's: "+(void 0===r?"undefined":lr(r))+", equal to:\n"+JSON.stringify(r,null,4));var i={removeThousandSeparatorsFromNumbers:!0,padSingleDecimalPlaceNumbers:!0,forceUKStyle:!1},s=Object.assign({},i,r);!function(n,e,r){function o(e){return null!=e}function t(e){return"boolean"===d(e)}function i(e){return"string"===d(e)}function s(e){return"Object"===d(e)}var a=["any","anything","every","everything","all","whatever","whatevs"],c=Array.isArray;if(0===arguments.length)throw new Error("check-types-mini: [THROW_ID_01] Missing all arguments!");if(1===arguments.length)throw new Error("check-types-mini: [THROW_ID_02] Missing second argument!");var u=s(e)?e:{},l={ignoreKeys:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},f=void 0;if(!i((f=o(r)&&s(r)?Object.assign({},l,r):Object.assign({},l)).msg))throw new Error("check-types-mini: [THROW_ID_03] opts.msg must be string! Currently it's: "+d(f.msg)+", equal to "+JSON.stringify(f.msg,null,4));if(f.msg=f.msg.trim(),":"===f.msg[f.msg.length-1]&&(f.msg=f.msg.slice(0,f.msg.length-1)),!i(f.optsVarName))throw new Error("check-types-mini: [THROW_ID_04] opts.optsVarName must be string! Currently it's: "+d(f.optsVarName)+", equal to "+JSON.stringify(f.optsVarName,null,4));if(f.ignoreKeys=se(f.ignoreKeys),f.acceptArraysIgnore=se(f.acceptArraysIgnore),!c(f.ignoreKeys))throw new TypeError("check-types-mini: [THROW_ID_05] opts.ignoreKeys should be an array, currently it's: "+d(f.ignoreKeys));if(!t(f.acceptArrays))throw new TypeError("check-types-mini: [THROW_ID_06] opts.acceptArrays should be a Boolean, currently it's: "+d(f.acceptArrays));if(!c(f.acceptArraysIgnore))throw new TypeError("check-types-mini: [THROW_ID_07] opts.acceptArraysIgnore should be an array, currently it's: "+d(f.acceptArraysIgnore));if(!t(f.enforceStrictKeyset))throw new TypeError("check-types-mini: [THROW_ID_08] opts.enforceStrictKeyset should be a Boolean, currently it's: "+d(f.enforceStrictKeyset));if(Object.keys(f.schema).forEach(function(e){c(f.schema[e])||(f.schema[e]=[f.schema[e]]),f.schema[e]=f.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),f.enforceStrictKeyset)if(o(f.schema)&&0<Object.keys(f.schema).length){if(0!==S(Object.keys(n),Object.keys(u).concat(Object.keys(f.schema))).length)throw new TypeError(f.msg+": "+f.optsVarName+".enforceStrictKeyset is on and the following keys are not covered by schema and/or reference objects: "+JSON.stringify(S(Object.keys(n),Object.keys(u).concat(Object.keys(f.schema))),null,4))}else{if(!(o(u)&&0<Object.keys(u).length))throw new TypeError(f.msg+": Both "+f.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==S(Object.keys(n),Object.keys(u)).length)throw new TypeError(f.msg+": The input object has keys that are not covered by reference object: "+JSON.stringify(S(Object.keys(n),Object.keys(u)),null,4));if(0!==S(Object.keys(u),Object.keys(n)).length)throw new TypeError(f.msg+": The reference object has keys that are not present in the input object: "+JSON.stringify(S(Object.keys(u),Object.keys(n)),null,4))}Object.keys(n).forEach(function(r){if(o(f.schema)&&Object.prototype.hasOwnProperty.call(f.schema,r)){if(f.schema[r]=se(f.schema[r]).map(String).map(function(e){return e.toLowerCase()}),!(ie(f.schema[r],a).length||(!0===n[r]||!1===n[r]||f.schema[r].includes(d(n[r]).toLowerCase()))&&(!0!==n[r]&&!1!==n[r]||f.schema[r].includes(String(n[r]))||f.schema[r].includes("boolean")))){if(!c(n[r])||!f.acceptArrays)throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" was customised to "+JSON.stringify(n[r],null,4)+" which is not among the allowed types in schema ("+f.schema[r]+") but "+d(n[r]));for(var e=0,t=n[r].length;e<t;e++)if(!f.schema[r].includes(d(n[r][e]).toLowerCase()))throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" is of type "+d(n[r][e]).toLowerCase()+", but only the following are allowed in "+f.optsVarName+".schema: "+f.schema[r])}}else if(o(u)&&Object.prototype.hasOwnProperty.call(u,r)&&d(n[r])!==d(u[r])&&!f.ignoreKeys.includes(r)){if(!f.acceptArrays||!c(n[r])||f.acceptArraysIgnore.includes(r))throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" was customised to "+JSON.stringify(n[r],null,4)+" which is not "+d(u[r])+" but "+d(n[r]));if(!n[r].every(function(e){return d(e)===d(u[r])}))throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" was customised to be array, but not all of its elements are "+d(u[r])+"-type")}})}(s,i,{msg:"string-remove-thousand-separators/remSep(): [THROW_ID_03*]"});var a=ur(e.trim(),'"');if(""===a)return a;for(var c=new de,u=0,l=a.length;u<l;u++){if(s.removeThousandSeparatorsFromNumbers&&""===a[u].trim()&&c.add(u,u+1),s.removeThousandSeparatorsFromNumbers&&"'"===a[u]&&(c.add(u,u+1),"'"===a[u+1])){t=!1;break}if(n.includes(a[u])){if(void 0!==a[u+1]&&Ae(a[u+1]))if(void 0!==a[u+2]){if(!Ae(a[u+2])){t=!1;break}if(void 0!==a[u+3]){if(!Ae(a[u+3])){t=!1;break}if(void 0!==a[u+4]&&Ae(a[u+4])){t=!1;break}if(s.removeThousandSeparatorsFromNumbers&&c.add(u,u+1),o){if(a[u]!==o){t=!1;break}}else o=a[u]}else s.removeThousandSeparatorsFromNumbers&&s.forceUKStyle&&","===a[u]&&c.add(u,u+1,".")}else s.forceUKStyle&&","===a[u]&&c.add(u,u+1,"."),s.padSingleDecimalPlaceNumbers&&c.add(u+2,u+2,"0")}else if(!Ae(a[u])){t=!1;break}}return t&&c.current()?function(s,t){if(0===arguments.length)throw new Error("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_01] inputs missing!");if("string"!=typeof s)throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_02] first input argument must be a string! Currently it's: "+(void 0===s?"undefined":f(s))+", equal to: "+s);if(!m(t))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_03] second input argument must be an array! Currently it's: "+(void 0===t?"undefined":f(t))+", equal to: "+t);if(m(t)&&(y(t[0],{includeZero:!0})||h(t[0],{includeZero:!0}))&&(y(t[1],{includeZero:!0})||h(t[1],{includeZero:!0}))&&(t=[t]),t.forEach(function(e,r){if(!m(e))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_05] ranges array, second input arg., has "+p(r)+" element not an array: "+JSON.stringify(e,null,4)+", which is "+(void 0===e?"undefined":f(e)));if(!y(e[0],{includeZero:!0})){if(!h(e[0],{includeZero:!0}))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_06] ranges array, second input arg. has "+p(r)+" element, array ["+e[0]+","+e[1]+"]. That array has first element not an integer, but "+f(e[0])+", equal to: "+JSON.stringify(e[0],null,4)+". Computer doesn't like this.");t[r][0]=Number.parseInt(t[r][0],10)}if(!y(e[1],{includeZero:!0})){if(!h(e[1],{includeZero:!0}))throw new TypeError("string-replace-slices-array/replaceSlicesArr(): [THROW_ID_07] ranges array, second input arg. has "+p(r)+" element, array ["+e[0]+","+e[1]+"]. That array has second element not an integer, but "+f(e[1])+", equal to: "+JSON.stringify(e[1],null,4)+". Computer doesn't like this.");t[r][1]=Number.parseInt(t[r][1],10)}}),0<t.length){var e=s.slice(t[t.length-1][1]);s=t.reduce(function(e,r,t,n){var o=0===t?0:n[t-1][1],i=n[t][0];return e+s.slice(o,i)+(null!=n[t][2]?n[t][2]:"")},""),s+=e}return s}(a,c.current()):a}var yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function hr(e,r){var t=0,n=0,o=[],i=[],s=!1,a=!0;if(void 0!==r&&!ke(r))throw new Error("csv-split-easy/split(): [THROW_ID_02] Options object must be a plain object! Currently it's of a type "+(void 0===r?"undefined":yr(r))+" equal to:\n"+JSON.stringify(r,null,4));var c={removeThousandSeparatorsFromNumbers:!0,padSingleDecimalPlaceNumbers:!0,forceUKStyle:!1},u=Object.assign({},c,r);if(function(n,e,r){function o(e){return null!=e}function t(e){return"boolean"===d(e)}function i(e){return"string"===d(e)}function s(e){return"Object"===d(e)}var a=["any","anything","every","everything","all","whatever","whatevs"],c=Array.isArray;if(0===arguments.length)throw new Error("check-types-mini: [THROW_ID_01] Missing all arguments!");if(1===arguments.length)throw new Error("check-types-mini: [THROW_ID_02] Missing second argument!");var u=s(e)?e:{},l={ignoreKeys:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"},f=void 0;if(!i((f=o(r)&&s(r)?Object.assign({},l,r):Object.assign({},l)).msg))throw new Error("check-types-mini: [THROW_ID_03] opts.msg must be string! Currently it's: "+d(f.msg)+", equal to "+JSON.stringify(f.msg,null,4));if(f.msg=f.msg.trim(),":"===f.msg[f.msg.length-1]&&(f.msg=f.msg.slice(0,f.msg.length-1)),!i(f.optsVarName))throw new Error("check-types-mini: [THROW_ID_04] opts.optsVarName must be string! Currently it's: "+d(f.optsVarName)+", equal to "+JSON.stringify(f.optsVarName,null,4));if(f.ignoreKeys=se(f.ignoreKeys),f.acceptArraysIgnore=se(f.acceptArraysIgnore),!c(f.ignoreKeys))throw new TypeError("check-types-mini: [THROW_ID_05] opts.ignoreKeys should be an array, currently it's: "+d(f.ignoreKeys));if(!t(f.acceptArrays))throw new TypeError("check-types-mini: [THROW_ID_06] opts.acceptArrays should be a Boolean, currently it's: "+d(f.acceptArrays));if(!c(f.acceptArraysIgnore))throw new TypeError("check-types-mini: [THROW_ID_07] opts.acceptArraysIgnore should be an array, currently it's: "+d(f.acceptArraysIgnore));if(!t(f.enforceStrictKeyset))throw new TypeError("check-types-mini: [THROW_ID_08] opts.enforceStrictKeyset should be a Boolean, currently it's: "+d(f.enforceStrictKeyset));if(Object.keys(f.schema).forEach(function(e){c(f.schema[e])||(f.schema[e]=[f.schema[e]]),f.schema[e]=f.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),f.enforceStrictKeyset)if(o(f.schema)&&0<Object.keys(f.schema).length){if(0!==S(Object.keys(n),Object.keys(u).concat(Object.keys(f.schema))).length)throw new TypeError(f.msg+": "+f.optsVarName+".enforceStrictKeyset is on and the following keys are not covered by schema and/or reference objects: "+JSON.stringify(S(Object.keys(n),Object.keys(u).concat(Object.keys(f.schema))),null,4))}else{if(!(o(u)&&0<Object.keys(u).length))throw new TypeError(f.msg+": Both "+f.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==S(Object.keys(n),Object.keys(u)).length)throw new TypeError(f.msg+": The input object has keys that are not covered by reference object: "+JSON.stringify(S(Object.keys(n),Object.keys(u)),null,4));if(0!==S(Object.keys(u),Object.keys(n)).length)throw new TypeError(f.msg+": The reference object has keys that are not present in the input object: "+JSON.stringify(S(Object.keys(u),Object.keys(n)),null,4))}Object.keys(n).forEach(function(r){if(o(f.schema)&&Object.prototype.hasOwnProperty.call(f.schema,r)){if(f.schema[r]=se(f.schema[r]).map(String).map(function(e){return e.toLowerCase()}),!(ie(f.schema[r],a).length||(!0===n[r]||!1===n[r]||f.schema[r].includes(d(n[r]).toLowerCase()))&&(!0!==n[r]&&!1!==n[r]||f.schema[r].includes(String(n[r]))||f.schema[r].includes("boolean")))){if(!c(n[r])||!f.acceptArrays)throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" was customised to "+JSON.stringify(n[r],null,4)+" which is not among the allowed types in schema ("+f.schema[r]+") but "+d(n[r]));for(var e=0,t=n[r].length;e<t;e++)if(!f.schema[r].includes(d(n[r][e]).toLowerCase()))throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" is of type "+d(n[r][e]).toLowerCase()+", but only the following are allowed in "+f.optsVarName+".schema: "+f.schema[r])}}else if(o(u)&&Object.prototype.hasOwnProperty.call(u,r)&&d(n[r])!==d(u[r])&&!f.ignoreKeys.includes(r)){if(!f.acceptArrays||!c(n[r])||f.acceptArraysIgnore.includes(r))throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" was customised to "+JSON.stringify(n[r],null,4)+" which is not "+d(u[r])+" but "+d(n[r]));if(!n[r].every(function(e){return d(e)===d(u[r])}))throw new TypeError(f.msg+": "+f.optsVarName+"."+r+" was customised to be array, but not all of its elements are "+d(u[r])+"-type")}})}(u,c,{msg:"csv-split-easy/split(): [THROW_ID_03*]"}),"string"!=typeof e)throw new TypeError("csv-split-easy/split(): [THROW_ID_04] input must be string! Currently it's: "+(void 0===e?"undefined":yr(e))+", equal to: "+JSON.stringify(e,null,4));if(""===e)return[[""]];for(var l=0,f=(e=e.trim()).length;l<f;l++){if(a&&'"'!==e[l]&&","!==e[l]&&""!==e[l].trim()&&(a=!1),'"'===e[l])if(s&&'"'===e[l+1])l+=1;else if(s){s=!1;var y=e.slice(t,l);""!==y.trim()&&(a=!1);var h=/""/.test(y)?y.replace(/""/g,'"'):fr(y,{removeThousandSeparatorsFromNumbers:u.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:u.padSingleDecimalPlaceNumbers,forceUKStyle:u.forceUKStyle});o.push(h)}else s=!0,t=l+1;else if(s||","!==e[l])if("\n"===e[l]||"\r"===e[l]){if(!n){if(n=l,!s&&'"'!==e[l-1]){var p=e.slice(t,l);""!==p.trim()&&(a=!1),o.push(fr(p,{removeThousandSeparatorsFromNumbers:u.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:u.padSingleDecimalPlaceNumbers,forceUKStyle:u.forceUKStyle}))}a?o=[]:i.push(o),a=!0,o=[]}t=l+1}else n&&(n=0,t=l);else{if('"'!==e[l-1]&&!s){var m=e.slice(t,l);""!==m.trim()&&(a=!1),o.push(fr(m,{removeThousandSeparatorsFromNumbers:u.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:u.padSingleDecimalPlaceNumbers,forceUKStyle:u.forceUKStyle}))}t=l+1,n&&(n=0)}if(l+1===f){if('"'!==e[l]){var g=e.slice(t,l+1);""!==g.trim()&&(a=!1),o.push(fr(g,{removeThousandSeparatorsFromNumbers:u.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:u.padSingleDecimalPlaceNumbers,forceUKStyle:u.forceUKStyle}))}a?o=[]:i.push(o),a=!0}}return 0===i.length?[[""]]:i}function pr(e,r,t){if(r!=r)return function(e,r,t,n){for(var o=e.length,i=t+(n?1:-1);n?i--:++i<o;)if(r(e[i],i,e))return i;return-1}(e,gr,t);for(var n=t-1,o=e.length;++n<o;)if(e[n]===r)return n;return-1}function mr(e,r,t,n){for(var o=t-1,i=e.length;++o<i;)if(n(e[o],r))return o;return-1}function gr(e){return e!=e}var dr,br,wr=Array.prototype.splice,vr=Math.max;function Or(e,r,t,n){var o,i=n?mr:pr,s=-1,a=r.length,c=e;for(e===r&&(r=function(e,r){var t=-1,n=e.length;r||(r=Array(n));for(;++t<n;)r[t]=e[t];return r}(r)),t&&(c=function(e,r){for(var t=-1,n=e?e.length:0,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}(e,(o=t,function(e){return o(e)})));++s<a;)for(var u=0,l=r[s],f=t?t(l):l;-1<(u=i(c,f,u,n));)c!==e&&wr.call(c,u,1),wr.call(e,u,1);return e}var Sr=(dr=function(e,r){return e&&e.length&&r&&r.length?Or(e,r):e},br=vr(void 0===br?dr.length-1:br,0),function(){for(var e=arguments,r=-1,t=vr(e.length-br,0),n=Array(t);++r<t;)n[r]=e[br+r];r=-1;for(var o=Array(br+1);++r<br;)o[r]=e[r];return o[br]=n,function(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}(dr,this,o)}),_r=function(e){var r=e%100;if(10<=r&&r<=20)return"th";var t=e%10;return 1===t?"st":2===t?"nd":3===t?"rd":"th"},Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Nr(e){if("number"!=typeof e)throw new TypeError("Expected Number, got "+(void 0===e?"undefined":Tr(e))+" "+e);return e+_r(e)}Nr.indicator=_r;var jr=Nr,Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Ar=Math.ceil,Ir=Math.floor,Dr="[BigNumber Error] ",Rr=Dr+"Number primitive has more than 15 significant digits: ",Wr=1e14,Hr=14,Kr=9007199254740991,Cr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Pr=1e7,Vr=1e9;function Mr(e){var r=0|e;return 0<e||e===r?r:r-1}function Lr(e){for(var r,t,n=1,o=e.length,i=e[0]+"";n<o;){for(r=e[n++]+"",t=Hr-r.length;t--;r="0"+r);i+=r}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function xr(e,r){var t,n,o=e.c,i=r.c,s=e.s,a=r.s,c=e.e,u=r.e;if(!s||!a)return null;if(t=o&&!o[0],n=i&&!i[0],t||n)return t?n?0:-a:s;if(s!=a)return s;if(t=s<0,n=c==u,!o||!i)return n?0:!o^t?1:-1;if(!n)return u<c^t?1:-1;for(a=(c=o.length)<(u=i.length)?c:u,s=0;s<a;s++)if(o[s]!=i[s])return o[s]>i[s]^t?1:-1;return c==u?0:u<c^t?1:-1}function Jr(e,r,t,n){if(e<r||t<e||e!==(e<0?Ar(e):Ir(e)))throw Error(Dr+(n||"Argument")+("number"==typeof e?e<r||t<e?" out of range: ":" not an integer: ":" not a primitive number: ")+e)}function Br(e){return"[object Array]"==Object.prototype.toString.call(e)}function Fr(e){var r=e.c.length-1;return Mr(e.e/Hr)==r&&e.c[r]%2!=0}function qr(e,r){return(1<e.length?e.charAt(0)+"."+e.slice(1):e)+(r<0?"e":"e+")+r}function Ur(e,r,t){var n,o;if(r<0){for(o=t+".";++r;o+=t);e=o+e}else if(++r>(n=e.length)){for(o=t,r-=n;--r;o+=t);e+=o}else r<n&&(e=e.slice(0,r)+"."+e.slice(r));return e}var $r=function e(r){var b,f,y,t,u,s,a,c,l,h,n=k.prototype={constructor:k,toString:null,valueOf:null},m=new k(1),w=20,v=4,p=-7,o=21,g=-1e7,d=1e7,O=!1,i=1,S=0,_={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0},T="0123456789abcdefghijklmnopqrstuvwxyz";function k(e,r){var t,n,o,i,s,a,c,u,l=this;if(!(l instanceof k))return new k(e,r);if(null==r){if(e instanceof k)return l.s=e.s,l.e=e.e,void(l.c=(e=e.c)?e.slice():e);if((a="number"==typeof e)&&0*e==0){if(l.s=1/e<0?(e=-e,-1):1,e===~~e){for(i=0,s=e;10<=s;s/=10,i++);return l.e=i,void(l.c=[e])}u=e+""}else{if(!kr.test(u=e+""))return y(l,u,a);l.s=45==u.charCodeAt(0)?(u=u.slice(1),-1):1}-1<(i=u.indexOf("."))&&(u=u.replace(".","")),0<(s=u.search(/e/i))?(i<0&&(i=s),i+=+u.slice(s+1),u=u.substring(0,s)):i<0&&(i=u.length)}else{if(Jr(r,2,T.length,"Base"),u=e+"",10==r)return A(l=new k(e instanceof k?e:u),w+l.e+1,v);if(a="number"==typeof e){if(0*e!=0)return y(l,u,a,r);if(l.s=1/e<0?(u=u.slice(1),-1):1,k.DEBUG&&15<u.replace(/^0\.0*|\./,"").length)throw Error(Rr+e);a=!1}else l.s=45===u.charCodeAt(0)?(u=u.slice(1),-1):1;for(t=T.slice(0,r),i=s=0,c=u.length;s<c;s++)if(t.indexOf(n=u.charAt(s))<0){if("."==n){if(i<s){i=c;continue}}else if(!o&&(u==u.toUpperCase()&&(u=u.toLowerCase())||u==u.toLowerCase()&&(u=u.toUpperCase()))){o=!0,s=-1,i=0;continue}return y(l,e+"",a,r)}-1<(i=(u=f(u,r,10,l.s)).indexOf("."))?u=u.replace(".",""):i=u.length}for(s=0;48===u.charCodeAt(s);s++);for(c=u.length;48===u.charCodeAt(--c););if(u=u.slice(s,++c)){if(c-=s,a&&k.DEBUG&&15<c&&(Kr<e||e!==Ir(e)))throw Error(Rr+l.s*e);if(d<(i=i-s-1))l.c=l.e=null;else if(i<g)l.c=[l.e=0];else{if(l.e=i,l.c=[],s=(i+1)%Hr,i<0&&(s+=Hr),s<c){for(s&&l.c.push(+u.slice(0,s)),c-=Hr;s<c;)l.c.push(+u.slice(s,s+=Hr));u=u.slice(s),s=Hr-u.length}else s-=c;for(;s--;u+="0");l.c.push(+u)}}else l.c=[l.e=0]}function N(e,r,t,n){var o,i,s,a,c;if(null==t?t=v:Jr(t,0,8),!e.c)return e.toString();if(o=e.c[0],s=e.e,null==r)c=Lr(e.c),c=1==n||2==n&&s<=p?qr(c,s):Ur(c,s,"0");else if(i=(e=A(new k(e),r,t)).e,a=(c=Lr(e.c)).length,1==n||2==n&&(r<=i||i<=p)){for(;a<r;c+="0",a++);c=qr(c,i)}else if(r-=s,c=Ur(c,i,"0"),a<i+1){if(0<--r)for(c+=".";r--;c+="0");}else if(0<(r+=i-a))for(i+1==a&&(c+=".");r--;c+="0");return e.s<0&&o?"-"+c:c}function j(e,r){var t,n,o=0;for(Br(e[0])&&(e=e[0]),t=new k(e[0]);++o<e.length;){if(!(n=new k(e[o])).s){t=n;break}r.call(t,n)&&(t=n)}return t}function E(e,r,t){for(var n=1,o=r.length;!r[--o];r.pop());for(o=r[0];10<=o;o/=10,n++);return(t=n+t*Hr-1)>d?e.c=e.e=null:t<g?e.c=[e.e=0]:(e.e=t,e.c=r),e}function A(e,r,t,n){var o,i,s,a,c,u,l,f=e.c,y=Cr;if(f){e:{for(o=1,a=f[0];10<=a;a/=10,o++);if((i=r-o)<0)i+=Hr,s=r,l=(c=f[u=0])/y[o-s-1]%10|0;else if((u=Ar((i+1)/Hr))>=f.length){if(!n)break e;for(;f.length<=u;f.push(0));c=l=0,s=(i%=Hr)-Hr+(o=1)}else{for(c=a=f[u],o=1;10<=a;a/=10,o++);l=(s=(i%=Hr)-Hr+o)<0?0:c/y[o-s-1]%10|0}if(n=n||r<0||null!=f[u+1]||(s<0?c:c%y[o-s-1]),n=t<4?(l||n)&&(0==t||t==(e.s<0?3:2)):5<l||5==l&&(4==t||n||6==t&&(0<i?0<s?c/y[o-s]:0:f[u-1])%10&1||t==(e.s<0?8:7)),r<1||!f[0])return f.length=0,n?(r-=e.e+1,f[0]=y[(Hr-r%Hr)%Hr],e.e=-r||0):f[0]=e.e=0,e;if(0==i?(f.length=u,a=1,u--):(f.length=u+1,a=y[Hr-i],f[u]=0<s?Ir(c/y[o-s]%y[s])*a:0),n)for(;;){if(0==u){for(i=1,s=f[0];10<=s;s/=10,i++);for(s=f[0]+=a,a=1;10<=s;s/=10,a++);i!=a&&(e.e++,f[0]==Wr&&(f[0]=1));break}if(f[u]+=a,f[u]!=Wr)break;f[u--]=0,a=1}for(i=f.length;0===f[--i];f.pop());}e.e>d?e.c=e.e=null:e.e<g&&(e.c=[e.e=0])}return e}return k.clone=e,k.ROUND_UP=0,k.ROUND_DOWN=1,k.ROUND_CEIL=2,k.ROUND_FLOOR=3,k.ROUND_HALF_UP=4,k.ROUND_HALF_DOWN=5,k.ROUND_HALF_EVEN=6,k.ROUND_HALF_CEIL=7,k.ROUND_HALF_FLOOR=8,k.EUCLID=9,k.config=k.set=function(e){var r,t;if(null!=e){if("object"!=(void 0===e?"undefined":Er(e)))throw Error(Dr+"Object expected: "+e);if(e.hasOwnProperty(r="DECIMAL_PLACES")&&(Jr(t=e[r],0,Vr,r),w=t),e.hasOwnProperty(r="ROUNDING_MODE")&&(Jr(t=e[r],0,8,r),v=t),e.hasOwnProperty(r="EXPONENTIAL_AT")&&(Br(t=e[r])?(Jr(t[0],-Vr,0,r),Jr(t[1],0,Vr,r),p=t[0],o=t[1]):(Jr(t,-Vr,Vr,r),p=-(o=t<0?-t:t))),e.hasOwnProperty(r="RANGE"))if(Br(t=e[r]))Jr(t[0],-Vr,-1,r),Jr(t[1],1,Vr,r),g=t[0],d=t[1];else{if(Jr(t,-Vr,Vr,r),!t)throw Error(Dr+r+" cannot be zero: "+t);g=-(d=t<0?-t:t)}if(e.hasOwnProperty(r="CRYPTO")){if((t=e[r])!==!!t)throw Error(Dr+r+" not true or false: "+t);if(t){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw O=!t,Error(Dr+"crypto unavailable");O=t}else O=t}if(e.hasOwnProperty(r="MODULO_MODE")&&(Jr(t=e[r],0,9,r),i=t),e.hasOwnProperty(r="POW_PRECISION")&&(Jr(t=e[r],0,Vr,r),S=t),e.hasOwnProperty(r="FORMAT")){if("object"!=(void 0===(t=e[r])?"undefined":Er(t)))throw Error(Dr+r+" not an object: "+t);_=t}if(e.hasOwnProperty(r="ALPHABET")){if("string"!=typeof(t=e[r])||/^.$|\.|(.).*\1/.test(t))throw Error(Dr+r+" invalid: "+t);T=t}}return{DECIMAL_PLACES:w,ROUNDING_MODE:v,EXPONENTIAL_AT:[p,o],RANGE:[g,d],CRYPTO:O,MODULO_MODE:i,POW_PRECISION:S,FORMAT:_,ALPHABET:T}},k.isBigNumber=function(e){return e instanceof k||e&&!0===e._isBigNumber||!1},k.maximum=k.max=function(){return j(arguments,n.lt)},k.minimum=k.min=function(){return j(arguments,n.gt)},k.random=(t=9007199254740992,u=Math.random()*t&2097151?function(){return Ir(Math.random()*t)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var r,t,n,o,i,s=0,a=[],c=new k(m);if(null==e?e=w:Jr(e,0,Vr),o=Ar(e/Hr),O)if(crypto.getRandomValues){for(r=crypto.getRandomValues(new Uint32Array(o*=2));s<o;)9e15<=(i=131072*r[s]+(r[s+1]>>>11))?(t=crypto.getRandomValues(new Uint32Array(2)),r[s]=t[0],r[s+1]=t[1]):(a.push(i%1e14),s+=2);s=o/2}else{if(!crypto.randomBytes)throw O=!1,Error(Dr+"crypto unavailable");for(r=crypto.randomBytes(o*=7);s<o;)9e15<=(i=281474976710656*(31&r[s])+1099511627776*r[s+1]+4294967296*r[s+2]+16777216*r[s+3]+(r[s+4]<<16)+(r[s+5]<<8)+r[s+6])?crypto.randomBytes(7).copy(r,s):(a.push(i%1e14),s+=7);s=o/7}if(!O)for(;s<o;)(i=u())<9e15&&(a[s++]=i%1e14);for(o=a[--s],e%=Hr,o&&e&&(i=Cr[Hr-e],a[s]=Ir(o/i)*i);0===a[s];a.pop(),s--);if(s<0)a=[n=0];else{for(n=-1;0===a[0];a.splice(0,1),n-=Hr);for(s=1,i=a[0];10<=i;i/=10,s++);s<Hr&&(n-=Hr-s)}return c.e=n,c.c=a,c}),f=function(){var g="0123456789";function d(e,r,t,n){for(var o,i,s=[0],a=0,c=e.length;a<c;){for(i=s.length;i--;s[i]*=r);for(s[0]+=n.indexOf(e.charAt(a++)),o=0;o<s.length;o++)s[o]>t-1&&(null==s[o+1]&&(s[o+1]=0),s[o+1]+=s[o]/t|0,s[o]%=t)}return s.reverse()}return function(e,r,t,n,o){var i,s,a,c,u,l,f,y,h=e.indexOf("."),p=w,m=v;for(0<=h&&(c=S,S=0,e=e.replace(".",""),l=(y=new k(r)).pow(e.length-h),S=c,y.c=d(Ur(Lr(l.c),l.e,"0"),10,t,g),y.e=y.c.length),a=c=(f=d(e,r,t,o?(i=T,g):(i=g,T))).length;0==f[--c];f.pop());if(!f[0])return i.charAt(0);if(h<0?--a:(l.c=f,l.e=a,l.s=n,f=(l=b(l,y,p,m,t)).c,u=l.r,a=l.e),h=f[s=a+p+1],c=t/2,u=u||s<0||null!=f[s+1],u=m<4?(null!=h||u)&&(0==m||m==(l.s<0?3:2)):c<h||h==c&&(4==m||u||6==m&&1&f[s-1]||m==(l.s<0?8:7)),s<1||!f[0])e=u?Ur(i.charAt(1),-p,i.charAt(0)):i.charAt(0);else{if(f.length=s,u)for(--t;++f[--s]>t;)f[s]=0,s||(++a,f=[1].concat(f));for(c=f.length;!f[--c];);for(h=0,e="";h<=c;e+=i.charAt(f[h++]));e=Ur(e,a,i.charAt(0))}return e}}(),b=function(){function N(e,r,t){var n,o,i,s,a=0,c=e.length,u=r%Pr,l=r/Pr|0;for(e=e.slice();c--;)a=((o=u*(i=e[c]%Pr)+(n=l*i+(s=e[c]/Pr|0)*u)%Pr*Pr+a)/t|0)+(n/Pr|0)+l*s,e[c]=o%t;return a&&(e=[a].concat(e)),e}function j(e,r,t,n){var o,i;if(t!=n)i=n<t?1:-1;else for(o=i=0;o<t;o++)if(e[o]!=r[o]){i=e[o]>r[o]?1:-1;break}return i}function E(e,r,t,n){for(var o=0;t--;)e[t]-=o,o=e[t]<r[t]?1:0,e[t]=o*n+e[t]-r[t];for(;!e[0]&&1<e.length;e.splice(0,1));}return function(e,r,t,n,o){var i,s,a,c,u,l,f,y,h,p,m,g,d,b,w,v,O,S=e.s==r.s?1:-1,_=e.c,T=r.c;if(!(_&&_[0]&&T&&T[0]))return new k(e.s&&r.s&&(_?!T||_[0]!=T[0]:T)?_&&0==_[0]||!T?0*S:S/0:NaN);for(h=(y=new k(S)).c=[],S=t+(s=e.e-r.e)+1,o||(o=Wr,s=Mr(e.e/Hr)-Mr(r.e/Hr),S=S/Hr|0),a=0;T[a]==(_[a]||0);a++);if(T[a]>(_[a]||0)&&s--,S<0)h.push(1),c=!0;else{for(b=_.length,v=T.length,S+=2,1<(u=Ir(o/(T[a=0]+1)))&&(T=N(T,u,o),_=N(_,u,o),v=T.length,b=_.length),d=v,m=(p=_.slice(0,v)).length;m<v;p[m++]=0);O=T.slice(),O=[0].concat(O),w=T[0],T[1]>=o/2&&w++;do{if(u=0,(i=j(T,p,v,m))<0){if(g=p[0],v!=m&&(g=g*o+(p[1]||0)),1<(u=Ir(g/w)))for(o<=u&&(u=o-1),f=(l=N(T,u,o)).length,m=p.length;1==j(l,p,f,m);)u--,E(l,v<f?O:T,f,o),f=l.length,i=1;else 0==u&&(i=u=1),f=(l=T.slice()).length;if(f<m&&(l=[0].concat(l)),E(p,l,m,o),m=p.length,-1==i)for(;j(T,p,v,m)<1;)u++,E(p,v<m?O:T,m,o),m=p.length}else 0===i&&(u++,p=[0]);h[a++]=u,p[0]?p[m++]=_[d]||0:(p=[_[d]],m=1)}while((d++<b||null!=p[0])&&S--);c=null!=p[0],h[0]||h.splice(0,1)}if(o==Wr){for(a=1,S=h[0];10<=S;S/=10,a++);A(y,t+(y.e=a+s*Hr-1)+1,n,c)}else y.e=s,y.r=+c;return y}}(),s=/^(-?)0([xbo])(?=\w[\w.]*$)/i,a=/^([^.]+)\.$/,c=/^\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,h=/^\s*\+(?=[\w.])|^\s+|\s+$/g,y=function(e,r,t,n){var o,i=t?r:r.replace(h,"");if(l.test(i))e.s=isNaN(i)?null:i<0?-1:1,e.c=e.e=null;else{if(!t&&(i=i.replace(s,function(e,r,t){return o="x"==(t=t.toLowerCase())?16:"b"==t?2:8,n&&n!=o?e:r}),n&&(o=n,i=i.replace(a,"$1").replace(c,"0.$1")),r!=i))return new k(i,o);if(k.DEBUG)throw Error(Dr+"Not a"+(n?" base "+n:"")+" number: "+r);e.c=e.e=e.s=null}},n.absoluteValue=n.abs=function(){var e=new k(this);return e.s<0&&(e.s=1),e},n.comparedTo=function(e,r){return xr(this,new k(e,r))},n.decimalPlaces=n.dp=function(e,r){var t,n,o;if(null!=e)return Jr(e,0,Vr),null==r?r=v:Jr(r,0,8),A(new k(this),e+this.e+1,r);if(!(t=this.c))return null;if(n=((o=t.length-1)-Mr(this.e/Hr))*Hr,o=t[o])for(;o%10==0;o/=10,n--);return n<0&&(n=0),n},n.dividedBy=n.div=function(e,r){return b(this,new k(e,r),w,v)},n.dividedToIntegerBy=n.idiv=function(e,r){return b(this,new k(e,r),0,1)},n.exponentiatedBy=n.pow=function(e,r){var t,n,o,i,s,a,c,u=this;if((e=new k(e)).c&&!e.isInteger())throw Error(Dr+"Exponent not an integer: "+e);if(null!=r&&(r=new k(r)),i=14<e.e,!u.c||!u.c[0]||1==u.c[0]&&!u.e&&1==u.c.length||!e.c||!e.c[0])return c=new k(Math.pow(+u.valueOf(),i?2-Fr(e):+e)),r?c.mod(r):c;if(s=e.s<0,r){if(r.c?!r.c[0]:!r.s)return new k(NaN);(n=!s&&u.isInteger()&&r.isInteger())&&(u=u.mod(r))}else{if(9<e.e&&(0<u.e||u.e<-1||(0==u.e?1<u.c[0]||i&&24e7<=u.c[1]:u.c[0]<8e13||i&&u.c[0]<=9999975e7)))return o=u.s<0&&Fr(e)?-0:0,-1<u.e&&(o=1/o),new k(s?1/o:o);S&&(o=Ar(S/Hr+2))}for(i?(t=new k(.5),a=Fr(e)):a=e%2,s&&(e.s=1),c=new k(m);;){if(a){if(!(c=c.times(u)).c)break;o?c.c.length>o&&(c.c.length=o):n&&(c=c.mod(r))}if(i){if(A(e=e.times(t),e.e+1,1),!e.c[0])break;i=14<e.e,a=Fr(e)}else{if(!(e=Ir(e/2)))break;a=e%2}u=u.times(u),o?u.c&&u.c.length>o&&(u.c.length=o):n&&(u=u.mod(r))}return n?c:(s&&(c=m.div(c)),r?c.mod(r):o?A(c,S,v,void 0):c)},n.integerValue=function(e){var r=new k(this);return null==e?e=v:Jr(e,0,8),A(r,r.e+1,e)},n.isEqualTo=n.eq=function(e,r){return 0===xr(this,new k(e,r))},n.isFinite=function(){return!!this.c},n.isGreaterThan=n.gt=function(e,r){return 0<xr(this,new k(e,r))},n.isGreaterThanOrEqualTo=n.gte=function(e,r){return 1===(r=xr(this,new k(e,r)))||0===r},n.isInteger=function(){return!!this.c&&Mr(this.e/Hr)>this.c.length-2},n.isLessThan=n.lt=function(e,r){return xr(this,new k(e,r))<0},n.isLessThanOrEqualTo=n.lte=function(e,r){return-1===(r=xr(this,new k(e,r)))||0===r},n.isNaN=function(){return!this.s},n.isNegative=function(){return this.s<0},n.isPositive=function(){return 0<this.s},n.isZero=function(){return!!this.c&&0==this.c[0]},n.minus=function(e,r){var t,n,o,i,s=this,a=s.s;if(r=(e=new k(e,r)).s,!a||!r)return new k(NaN);if(a!=r)return e.s=-r,s.plus(e);var c=s.e/Hr,u=e.e/Hr,l=s.c,f=e.c;if(!c||!u){if(!l||!f)return l?(e.s=-r,e):new k(f?s:NaN);if(!l[0]||!f[0])return f[0]?(e.s=-r,e):new k(l[0]?s:3==v?-0:0)}if(c=Mr(c),u=Mr(u),l=l.slice(),a=c-u){for((i=a<0)?(a=-a,o=l):(u=c,o=f),o.reverse(),r=a;r--;o.push(0));o.reverse()}else for(n=(i=(a=l.length)<(r=f.length))?a:r,a=r=0;r<n;r++)if(l[r]!=f[r]){i=l[r]<f[r];break}if(i&&(o=l,l=f,f=o,e.s=-e.s),0<(r=(n=f.length)-(t=l.length)))for(;r--;l[t++]=0);for(r=Wr-1;a<n;){if(l[--n]<f[n]){for(t=n;t&&!l[--t];l[t]=r);--l[t],l[n]+=Wr}l[n]-=f[n]}for(;0==l[0];l.splice(0,1),--u);return l[0]?E(e,l,u):(e.s=3==v?-1:1,e.c=[e.e=0],e)},n.modulo=n.mod=function(e,r){var t,n,o=this;return e=new k(e,r),!o.c||!e.s||e.c&&!e.c[0]?new k(NaN):!e.c||o.c&&!o.c[0]?new k(o):(9==i?(n=e.s,e.s=1,t=b(o,e,0,3),e.s=n,t.s*=n):t=b(o,e,0,i),(e=o.minus(t.times(e))).c[0]||1!=i||(e.s=o.s),e)},n.multipliedBy=n.times=function(e,r){var t,n,o,i,s,a,c,u,l,f,y,h,p,m,g,d=this,b=d.c,w=(e=new k(e,r)).c;if(!(b&&w&&b[0]&&w[0]))return!d.s||!e.s||b&&!b[0]&&!w||w&&!w[0]&&!b?e.c=e.e=e.s=null:(e.s*=d.s,b&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=Mr(d.e/Hr)+Mr(e.e/Hr),e.s*=d.s,(c=b.length)<(f=w.length)&&(p=b,b=w,w=p,o=c,c=f,f=o),o=c+f,p=[];o--;p.push(0));for(m=Wr,g=Pr,o=f;0<=--o;){for(t=0,y=w[o]%g,h=w[o]/g|0,i=o+(s=c);o<i;)t=((u=y*(u=b[--s]%g)+(a=h*u+(l=b[s]/g|0)*y)%g*g+p[i]+t)/m|0)+(a/g|0)+h*l,p[i--]=u%m;p[i]=t}return t?++n:p.splice(0,1),E(e,p,n)},n.negated=function(){var e=new k(this);return e.s=-e.s||null,e},n.plus=function(e,r){var t,n=this,o=n.s;if(r=(e=new k(e,r)).s,!o||!r)return new k(NaN);if(o!=r)return e.s=-r,n.minus(e);var i=n.e/Hr,s=e.e/Hr,a=n.c,c=e.c;if(!i||!s){if(!a||!c)return new k(o/0);if(!a[0]||!c[0])return c[0]?e:new k(a[0]?n:0*o)}if(i=Mr(i),s=Mr(s),a=a.slice(),o=i-s){for(0<o?(s=i,t=c):(o=-o,t=a),t.reverse();o--;t.push(0));t.reverse()}for((o=a.length)-(r=c.length)<0&&(t=c,c=a,a=t,r=o),o=0;r;)o=(a[--r]=a[r]+c[r]+o)/Wr|0,a[r]=Wr===a[r]?0:a[r]%Wr;return o&&(a=[o].concat(a),++s),E(e,a,s)},n.precision=n.sd=function(e,r){var t,n,o;if(null!=e&&e!==!!e)return Jr(e,1,Vr),null==r?r=v:Jr(r,0,8),A(new k(this),e,r);if(!(t=this.c))return null;if(n=(o=t.length-1)*Hr+1,o=t[o]){for(;o%10==0;o/=10,n--);for(o=t[0];10<=o;o/=10,n++);}return e&&this.e+1>n&&(n=this.e+1),n},n.shiftedBy=function(e){return Jr(e,-Kr,Kr),this.times("1e"+e)},n.squareRoot=n.sqrt=function(){var e,r,t,n,o,i=this,s=i.c,a=i.s,c=i.e,u=w+4,l=new k("0.5");if(1!==a||!s||!s[0])return new k(!a||a<0&&(!s||s[0])?NaN:s?i:1/0);if(0==(a=Math.sqrt(+i))||a==1/0?(((r=Lr(s)).length+c)%2==0&&(r+="0"),a=Math.sqrt(r),c=Mr((c+1)/2)-(c<0||c%2),t=new k(r=a==1/0?"1e"+c:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+c)):t=new k(a+""),t.c[0])for((a=(c=t.e)+u)<3&&(a=0);;)if(o=t,t=l.times(o.plus(b(i,o,u,1))),Lr(o.c).slice(0,a)===(r=Lr(t.c)).slice(0,a)){if(t.e<c&&--a,"9999"!=(r=r.slice(a-3,a+1))&&(n||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(A(t,t.e+w+2,1),e=!t.times(t).eq(i));break}if(!n&&(A(o,o.e+w+2,0),o.times(o).eq(i))){t=o;break}u+=4,a+=4,n=1}return A(t,t.e+w+1,v,e)},n.toExponential=function(e,r){return null!=e&&(Jr(e,0,Vr),e++),N(this,e,r,1)},n.toFixed=function(e,r){return null!=e&&(Jr(e,0,Vr),e=e+this.e+1),N(this,e,r)},n.toFormat=function(e,r){var t=this.toFixed(e,r);if(this.c){var n,o=t.split("."),i=+_.groupSize,s=+_.secondaryGroupSize,a=_.groupSeparator,c=o[0],u=o[1],l=this.s<0,f=l?c.slice(1):c,y=f.length;if(s&&(n=i,i=s,y-=s=n),0<i&&0<y){for(n=y%i||i,c=f.substr(0,n);n<y;n+=i)c+=a+f.substr(n,i);0<s&&(c+=a+f.slice(n)),l&&(c="-"+c)}t=u?c+_.decimalSeparator+((s=+_.fractionGroupSize)?u.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+_.fractionGroupSeparator):u):c}return t},n.toFraction=function(e){var r,t,n,o,i,s,a,c,u,l,f,y,h=this,p=h.c;if(null!=e&&(!(c=new k(e)).isInteger()&&(c.c||1!==c.s)||c.lt(m)))throw Error(Dr+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+e);if(!p)return h.toString();for(t=new k(m),l=n=new k(m),o=u=new k(m),y=Lr(p),s=t.e=y.length-h.e-1,t.c[0]=Cr[(a=s%Hr)<0?Hr+a:a],e=!e||0<c.comparedTo(t)?0<s?t:l:c,a=d,d=1/0,c=new k(y),u.c[0]=0;f=b(c,t,0,1),1!=(i=n.plus(f.times(o))).comparedTo(e);)n=o,o=i,l=u.plus(f.times(i=l)),u=i,t=c.minus(f.times(i=t)),c=i;return i=b(e.minus(n),o,0,1),u=u.plus(i.times(l)),n=n.plus(i.times(o)),u.s=l.s=h.s,r=b(l,o,s*=2,v).minus(h).abs().comparedTo(b(u,n,s,v).minus(h).abs())<1?[l.toString(),o.toString()]:[u.toString(),n.toString()],d=a,r},n.toNumber=function(){return+this},n.toPrecision=function(e,r){return null!=e&&Jr(e,1,Vr),N(this,e,r,2)},n.toString=function(e){var r,t=this.s,n=this.e;return null===n?t?(r="Infinity",t<0&&(r="-"+r)):r="NaN":(r=Lr(this.c),null==e?r=n<=p||o<=n?qr(r,n):Ur(r,n,"0"):(Jr(e,2,T.length,"Base"),r=f(Ur(r,n,"0"),10,e,t,!0)),t<0&&this.c[0]&&(r="-"+r)),r},n.valueOf=n.toJSON=function(){var e,r=this.e;return null===r?this.toString():(e=Lr(this.c),e=r<=p||o<=r?qr(e,r):Ur(e,r,"0"),this.s<0?"-"+e:e)},n._isBigNumber=!0,null!=r&&k.set(r),k}(),Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gr=["د.إ","؋","L","֏","ƒ","Kz","$","ƒ","₼","KM","৳","лв",".د.ب","FBu","$b","R$","฿","Nu.","P","p.","BZ$","FC","CHF","¥","₡","₱","Kč","Fdj","kr","RD$","دج","kr","Nfk","Br","Ξ","€","₾","₵","GH₵","D","FG","Q","L","kn","G","Ft","Rp","₪","₹","ع.د","﷼","kr","J$","JD","¥","KSh","лв","៛","CF","₩","₩","KD","лв","₭","₨","M","Ł","Lt","Ls","LD","MAD","lei","Ar","ден","K","₮","MOP$","UM","₨","Rf","MK","RM","MT","₦","C$","kr","₨","﷼","B/.","S/.","K","₱","₨","zł","Gs","﷼","￥","lei","Дин.","₽","R₣","﷼","₨","ج.س.","kr","£","Le","S","Db","E","฿","SM","T","د.ت","T$","₤","₺","TT$","NT$","TSh","₴","USh","$U","лв","Bs","₫","VT","WS$","FCFA","Ƀ","CFA","₣","﷼","R","Z$"];function zr(r){if("string"!=typeof r)throw new Error("csv-sort/util/findtype(): input must be string! Currently it's: "+(void 0===r?"undefined":Zr(r)));return Ae(r)?"numeric":Gr.some(function(e){return Ae(r.replace(e,"").replace(/[,.]/g,""))})?"numeric":0===r.trim().length?"empty":"text"}var Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr=Array.isArray;return function(e){var r=void 0,t=null,n=null;if("string"==typeof e){if(0===e.length)return[[""]];r=hr(e)}else{if(!Yr(e))throw new TypeError("csv-sort/csvSort(): [THROW_ID_02] The input is of a wrong type! We accept either string of array of arrays. We got instead: "+(void 0===e?"undefined":Qr(e))+", equal to:\n"+JSON.stringify(e,null,4));var o=void 0,i=void 0;if(!e.every(function(e,r){return Yr(e)||(o=e,i=r),Yr(e)}))throw new TypeError("csv-sort/csvSort(): [THROW_ID_01] the input is array as expected, but not all of its children are arrays! For example, the "+jr(i)+" element is not array but: "+(void 0===o?"undefined":Qr(o))+", equal to:\n"+JSON.stringify(o,null,4))}for(var s=null,a=!1,c=!0,u=[],l=null,f=r.length-1;0<=f;f--)if(s){0===f&&(a=r[f].every(function(e){return"text"===zr(e)||"empty"===zr(e)})),a||s.length===r[f].length||(c=!1);for(var y=null,h=0,p=r[f].length;h<p;h++)if(null===y&&"empty"===zr(r[f][h].trim())&&(y=h),null!==y&&"empty"!==zr(r[f][h].trim())&&(y=null),zr(r[f][h].trim())!==s[h]&&!a){var m=zr(r[f][h].trim());if(Yr(s[h]))s[h].includes(m)||s[h].push(zr(r[f][h].trim()));else if(s[h]!==m){var g=s[h];s[h]=[],s[h].push(g),s[h].push(m)}}null!==l&&null!==y&&l<y&&(!a||a&&0!==f)&&(l=y)}else if(1!==r[f].length||""!==r[f][0]){s=[];for(var d=0,b=r[f].length;d<b;d++)s.push(zr(r[f][d].trim())),null===l&&"empty"===zr(r[f][d].trim())&&(l=d),null!==l&&"empty"!==zr(r[f][d].trim())&&(l=null)}l||(l=s.length);for(var w=0,v=0,O=s.length;v<O&&"empty"===s[v];v++)w=v;0!==w&&(r=r.map(function(e){return e.slice(w+1,l)}),s=s.slice(w+1,l));var S=[],_=void 0;s.forEach(function(e,r){"numeric"===e&&S.push(r)});var T=a?1:0;if(1===S.length)_=S[0];else{if(0===S.length)throw new Error('csv-sort/csvSort(): [THROW_ID_03] Your CSV file does not contain numeric-only columns and computer was not able to detect the "Balance" column!');for(var N=Array.from(S),j=[],E=0,k=N.length;E<k;E++){for(var A=N[E],I=void 0,D=!0,R=void 0,W=!0,H=T,K=r.length;H<K&&(D&&(void 0===I?I=r[H][A]:I===r[H][A]?(j.push(A),D=!1):I=r[H][A]),W&&(void 0===R?R=r[H][A]:r[H][A]!==R&&(W=!1)),D);H++);W&&u.push(A)}if(1===(N=Sr.apply(void 0,[N].concat(j))).length)_=N[0];else if(0===N.length)throw new Error('csv-sort/csvSort(): [THROW_ID_04] The computer can\'t find the "Balance" column! It saw some numeric-only columns, but they all seem to have certain rows with the same values as rows right below/above them!')}if(!_)throw new Error("csv-sort/csvSort(): [THROW_ID_05] Sadly computer couldn't find its way in this CSV and had to stop working on it.");var C=Sr.apply(void 0,[Array.from(s.reduce(function(e,r,t){return("string"==typeof r&&"numeric"===r||Yr(r)&&r.includes("numeric"))&&e.push(t),e},[])),_].concat(u)),P=[];P.push(r[r.length-1].slice(0,l));for(var V=[],M=a?1:0,L=r.length-2;M<=L;L--)for(var x=r.length-2;M<=x;x--)if(!V.includes(x)){for(var J=!1,B=0,F=C.length;B<F;B++){var q=null;""!==r[x][C[B]]&&(q=new $r(r[x][C[B]]));var U=null;""!==r[x][_]&&(U=new $r(r[x][_]));var $=null;""!==P[0][_]&&($=new $r(P[0][_]));var Z=null;""!==P[P.length-1][C[B]]&&(Z=new $r(P[P.length-1][C[B]]));var G=null;if(""!==P[P.length-1][_]&&(G=new $r(P[P.length-1][_])),q&&U.plus(q).eq($)){P.unshift(r[x].slice(0,l)),V.push(x),J=!0;break}if(q&&U.minus(q).eq($)){P.unshift(r[x].slice(0,l)),V.push(x),J=!0;break}if(Z&&G.plus(Z).eq(U)){P.push(r[x].slice(0,l)),V.push(x),J=!0;break}if(Z&&G.minus(Z).eq(U)){P.push(r[x].slice(0,l)),V.push(x),J=!0;break}}if(J){J=!1;break}}return a&&(c&&r[0].length>s.length&&(r[0].length=s.length),P.unshift(r[0].slice(0,l))),r.length-(a?2:1)!==V.length&&(t="Not all rows were recognised!",n="alert"),{res:P,msgContent:t,msgType:n}}});
