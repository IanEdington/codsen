/**
 * easy-replace
 * Replace strings with optional lookarounds, but without regexes
 * Version: 3.7.57
 * Author: Roy Revelt, Codsen Ltd
 * License: MIT
 * Homepage: https://gitlab.com/codsen/codsen/tree/master/packages/easy-replace
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).easyReplace=t()}(this,(function(){"use strict";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function r(e){function t(e){return null!=e}return t(e)&&"boolean"!=typeof e?Array.isArray(e)?e.filter((function(e){return t(e)&&"boolean"!=typeof e})).map((function(e){return String(e)})).filter((function(e){return e.length>0})):[String(e)]:[""]}function i(e,t,r,i){for(var o=!0,n=Array.from(e),f=0,a=n.length;f<a;f++)if(i){if(n[f].toLowerCase()!==t[r-Array.from(e).length+f].toLowerCase()){o=!1;break}}else if(n[f]!==t[r-Array.from(e).length+f]){o=!1;break}return o}function o(e,t,r,i){for(var o=!0,n=Array.from(e),f=0,a=n.length;f<a;f++)if(i){if(n[f].toLowerCase()!==t[r+f].toLowerCase()){o=!1;break}}else if(n[f]!==t[r+f]){o=!1;break}return o}return function(n,f,a){var l=function(r){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?t(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}({},{i:{leftOutsideNot:!1,leftOutside:!1,leftMaybe:!1,searchFor:!1,rightMaybe:!1,rightOutside:!1,rightOutsideNot:!1}},{},f),u=r(n);l.leftOutsideNot=r(l.leftOutsideNot),l.leftOutside=r(l.leftOutside),l.leftMaybe=r(l.leftMaybe),l.searchFor=String(l.searchFor),l.rightMaybe=r(l.rightMaybe),l.rightOutside=r(l.rightOutside),l.rightOutsideNot=r(l.rightOutsideNot);for(var s,h,g,c,y=r(a),b=Array.from(u[0]),O=[],d="",p=function(e,t,r){function i(e){return null!=e}if("string"!=typeof e||0===e.length||"string"!=typeof t||0===t.length)return[];for(var o,n=[],f=Array.from(e),a=Array.from(t),l=0;l<f.length;l++)if(r.i){if(f[l].toLowerCase()===a[0].toLowerCase()){o=!0;for(var u=0;u<a.length;u++)if(!i(f[l+u])||!i(a[u])||f[l+u].toLowerCase()!==a[u].toLowerCase()){o=!1;break}o&&n.push(l)}}else if(f[l]===a[0]){o=!0;for(var s=0;s<a.length;s++)if(f[l+s]!==a[s]){o=!1;break}o&&n.push(l)}return n}(u[0],l.searchFor,{i:l.i.searchFor}),v=0,m=p.length;v<m;v++){var w=p[v];if(s=w,h=w+Array.from(l.searchFor).length,l.leftMaybe.length>0)for(var j=0,A=l.leftMaybe.length;j<A;j++){g=!0;for(var M=Array.from(l.leftMaybe[j]),N=0,k=M.length;N<k;N++)if(l.i.leftMaybe){if(M[N].toLowerCase()!==b[w-M.length+N].toLowerCase()){g=!1;break}}else if(M[N]!==b[w-M.length+N]){g=!1;break}g&&w-M.length<s&&(s=w-M.length)}if(l.rightMaybe.length>0)for(var C=0,L=l.rightMaybe.length;C<L;C++){g=!0;for(var F=Array.from(l.rightMaybe[C]),P=0,E=F.length;P<E;P++)if(l.i.rightMaybe){if(F[P].toLowerCase()!==b[w+Array.from(l.searchFor).length+P].toLowerCase()){g=!1;break}}else if(F[P]!==b[w+Array.from(l.searchFor).length+P]){g=!1;break}g&&h<w+Array.from(l.searchFor).length+F.length&&(h=w+Array.from(l.searchFor).length+F.length)}if(""!==l.leftOutside[0]){c=!1;for(var S=0,D=l.leftOutside.length;S<D;S++)(g=i(l.leftOutside[S],b,s,l.i.leftOutside))&&(c=!0);if(!c)continue}if(""!==l.rightOutside[0]){c=!1;for(var x=0,R=l.rightOutside.length;x<R;x++)(g=o(l.rightOutside[x],b,h,l.i.rightOutside))&&(c=!0);if(!c)continue}if(""!==l.leftOutsideNot[0]){for(var q=0,z=l.leftOutsideNot.length;q<z;q++)if(g=i(l.leftOutsideNot[q],b,s,l.i.leftOutsideNot)){s=-1,h=-1;break}if(-1===s)continue}if(""!==l.rightOutsideNot[0]){for(var B=0,G=l.rightOutsideNot.length;B<G;B++)if(g=o(l.rightOutsideNot[B],b,h,l.i.rightOutsideNot)){s=-1,h=-1;break}if(-1===s)continue}O.push([s,h])}return O.length>0?(O.forEach((function(e,t){void 0!==O[t+1]&&O[t][1]>O[t+1][0]&&(O[t+1][0]=O[t][1])})),O.forEach((function(e,t){e[0]===e[1]&&O.splice(t,1)})),O.length>0&&0!==O[0][0]&&(d+=b.slice(0,O[0][0]).join("")),O.forEach((function(e,t){d+=y.join(""),void 0!==O[t+1]?d+=b.slice(O[t][1],O[t+1][0]).join(""):d+=b.slice(O[t][1]).join("")})),d):u.join("")}}));
