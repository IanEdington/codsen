!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).csvSplitEasy=t()}(this,function(){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}var t=function(n,t){if(t){if("object"!=typeof t)throw new TypeError(String(t)+" is not an object. Expected an object that has boolean `includeZero` property.");if("includeZero"in t){if("boolean"!=typeof t.includeZero)throw new TypeError(String(t.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(t.includeZero&&0===n)return!0}}return Number.isSafeInteger(n)&&n>=1},e=function(n,t){if("string"!=typeof n)return!1;if(t&&"includeZero"in t){if("boolean"!=typeof t.includeZero)throw new TypeError(String(t.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(t.includeZero)return/^(-?0|[1-9]\d*)(\.0+)?$/.test(n)}return/^[1-9]\d*(\.0+)?$/.test(n)},o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(n,t){return n(t={exports:{}},t.exports),t.exports}var f=u(function(n,t){(t=n.exports=function(n){return n+t.suffix(+n)}).suffix=function(n){return n%=100,1===Math.floor(n/10)?"th":n%10==1?"st":n%10==2?"nd":n%10==3?"rd":"th"}}),r=(f.suffix,u(function(n,t){var e,u,f,r,c,h,g,y,i,d,v,a,b,p,_,s,$,j,m,l;n.exports=(e="function"==typeof Promise,u="object"==typeof self?self:o,f="undefined"!=typeof Symbol,r="undefined"!=typeof Map,c="undefined"!=typeof Set,h="undefined"!=typeof WeakMap,g="undefined"!=typeof WeakSet,y="undefined"!=typeof DataView,i=f&&void 0!==Symbol.iterator,d=f&&void 0!==Symbol.toStringTag,v=c&&"function"==typeof Set.prototype.entries,a=r&&"function"==typeof Map.prototype.entries,b=v&&Object.getPrototypeOf((new Set).entries()),p=a&&Object.getPrototypeOf((new Map).entries()),_=i&&"function"==typeof Array.prototype[Symbol.iterator],s=_&&Object.getPrototypeOf([][Symbol.iterator]()),$=i&&"function"==typeof String.prototype[Symbol.iterator],j=$&&Object.getPrototypeOf(""[Symbol.iterator]()),m=8,l=-1,function(n){var t=typeof n;if("object"!==t)return t;if(null===n)return"null";if(n===u)return"global";if(Array.isArray(n)&&(!1===d||!(Symbol.toStringTag in n)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&n===window.location)return"Location";if("object"==typeof window.document&&n===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&n===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&n===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&n instanceof window.HTMLElement){if("BLOCKQUOTE"===n.tagName)return"HTMLQuoteElement";if("TD"===n.tagName)return"HTMLTableDataCellElement";if("TH"===n.tagName)return"HTMLTableHeaderCellElement"}}var o=d&&n[Symbol.toStringTag];if("string"==typeof o)return o;var f=Object.getPrototypeOf(n);return f===RegExp.prototype?"RegExp":f===Date.prototype?"Date":e&&f===Promise.prototype?"Promise":c&&f===Set.prototype?"Set":r&&f===Map.prototype?"Map":g&&f===WeakSet.prototype?"WeakSet":h&&f===WeakMap.prototype?"WeakMap":y&&f===DataView.prototype?"DataView":r&&f===p?"Map Iterator":c&&f===b?"Set Iterator":_&&f===s?"Array Iterator":$&&f===j?"String Iterator":null===f?"Object":Object.prototype.toString.call(n).slice(m,l)})}));function c(n,t,e){if(t!=t)return function(n,t,e,o){for(var u=n.length,f=e+(o?1:-1);o?f--:++f<u;)if(t(n[f],f,n))return f;return-1}(n,g,e);for(var o=e-1,u=n.length;++o<u;)if(n[o]===t)return o;return-1}function h(n,t,e,o){for(var u=e-1,f=n.length;++u<f;)if(o(n[u],t))return u;return-1}function g(n){return n!=n}var y=Array.prototype.splice;function i(n,t,e,o){var u,f=o?h:c,r=-1,g=t.length,i=n;for(n===t&&(t=function(n,t){var e=-1,o=n.length;t||(t=Array(o));for(;++e<o;)t[e]=n[e];return t}(t)),e&&(i=function(n,t){for(var e=-1,o=n?n.length:0,u=Array(o);++e<o;)u[e]=t(n[e],e,n);return u}(n,(u=e,function(n){return u(n)})));++r<g;)for(var d=0,v=t[r],a=e?e(v):v;(d=f(i,a,d,o))>-1;)i!==n&&y.call(i,d,1),y.call(n,d,1);return n}var d=function(n,t){return n&&n.length&&t&&t.length?i(n,t):n},v=u(function(n,t){var e=200,u="__lodash_hash_undefined__",f=9007199254740991,r="[object Arguments]",c="[object Boolean]",h="[object Date]",g="[object Function]",y="[object GeneratorFunction]",i="[object Map]",d="[object Number]",v="[object Object]",a="[object RegExp]",b="[object Set]",p="[object String]",_="[object Symbol]",s="[object ArrayBuffer]",$="[object DataView]",j="[object Float32Array]",m="[object Float64Array]",l="[object Int8Array]",I="[object Int16Array]",T="[object Int32Array]",w="[object Uint8Array]",W="[object Uint8ClampedArray]",M="[object Uint16Array]",H="[object Uint32Array]",P=/\w*$/,Z=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,J={};J[r]=J["[object Array]"]=J[s]=J[$]=J[c]=J[h]=J[j]=J[m]=J[l]=J[I]=J[T]=J[i]=J[d]=J[v]=J[a]=J[b]=J[p]=J[_]=J[w]=J[W]=J[M]=J[H]=!0,J["[object Error]"]=J[g]=J["[object WeakMap]"]=!1;var q="object"==typeof o&&o&&o.Object===Object&&o,U="object"==typeof self&&self&&self.Object===Object&&self,x=q||U||Function("return this")(),k=t&&!t.nodeType&&t,A=k&&n&&!n.nodeType&&n,R=A&&A.exports===k;function z(n,t){return n.set(t[0],t[1]),n}function Q(n,t){return n.add(t),n}function G(n,t,e,o){var u=-1,f=n?n.length:0;for(o&&f&&(e=n[++u]);++u<f;)e=t(e,n[u],u,n);return e}function X(n){var t=!1;if(null!=n&&"function"!=typeof n.toString)try{t=!!(n+"")}catch(n){}return t}function F(n){var t=-1,e=Array(n.size);return n.forEach(function(n,o){e[++t]=[o,n]}),e}function N(n,t){return function(e){return n(t(e))}}function Y(n){var t=-1,e=Array(n.size);return n.forEach(function(n){e[++t]=n}),e}var B,D=Array.prototype,V=Function.prototype,C=Object.prototype,E=x["__core-js_shared__"],O=(B=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",S=V.toString,K=C.hasOwnProperty,nn=C.toString,tn=RegExp("^"+S.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),en=R?x.Buffer:void 0,on=x.Symbol,un=x.Uint8Array,fn=N(Object.getPrototypeOf,Object),rn=Object.create,cn=C.propertyIsEnumerable,hn=D.splice,gn=Object.getOwnPropertySymbols,yn=en?en.isBuffer:void 0,dn=N(Object.keys,Object),vn=Rn(x,"DataView"),an=Rn(x,"Map"),bn=Rn(x,"Promise"),pn=Rn(x,"Set"),_n=Rn(x,"WeakMap"),sn=Rn(Object,"create"),$n=Fn(vn),jn=Fn(an),mn=Fn(bn),ln=Fn(pn),In=Fn(_n),Tn=on?on.prototype:void 0,wn=Tn?Tn.valueOf:void 0;function Wn(n){var t=-1,e=n?n.length:0;for(this.clear();++t<e;){var o=n[t];this.set(o[0],o[1])}}function Mn(n){var t=-1,e=n?n.length:0;for(this.clear();++t<e;){var o=n[t];this.set(o[0],o[1])}}function Hn(n){var t=-1,e=n?n.length:0;for(this.clear();++t<e;){var o=n[t];this.set(o[0],o[1])}}function Pn(n){this.__data__=new Mn(n)}function Zn(n,t){var e=Yn(n)||function(n){return function(n){return function(n){return!!n&&"object"==typeof n}(n)&&Bn(n)}(n)&&K.call(n,"callee")&&(!cn.call(n,"callee")||nn.call(n)==r)}(n)?function(n,t){for(var e=-1,o=Array(n);++e<n;)o[e]=t(e);return o}(n.length,String):[],o=e.length,u=!!o;for(var f in n)!t&&!K.call(n,f)||u&&("length"==f||Gn(f,o))||e.push(f);return e}function Ln(n,t,e){var o=n[t];K.call(n,t)&&Nn(o,e)&&(void 0!==e||t in n)||(n[t]=e)}function Jn(n,t){for(var e=n.length;e--;)if(Nn(n[e][0],t))return e;return-1}function qn(n,t,e,o,u,f,Z){var L;if(o&&(L=f?o(n,u,f,Z):o(n)),void 0!==L)return L;if(!Cn(n))return n;var q=Yn(n);if(q){if(L=function(n){var t=n.length,e=n.constructor(t);t&&"string"==typeof n[0]&&K.call(n,"index")&&(e.index=n.index,e.input=n.input);return e}(n),!t)return function(n,t){var e=-1,o=n.length;t||(t=Array(o));for(;++e<o;)t[e]=n[e];return t}(n,L)}else{var U=Qn(n),x=U==g||U==y;if(Dn(n))return function(n,t){if(t)return n.slice();var e=new n.constructor(n.length);return n.copy(e),e}(n,t);if(U==v||U==r||x&&!f){if(X(n))return f?n:{};if(L=function(n){return"function"!=typeof n.constructor||Xn(n)?{}:(t=fn(n),Cn(t)?rn(t):{});var t}(x?{}:n),!t)return function(n,t){return kn(n,zn(n),t)}(n,function(n,t){return n&&kn(t,En(t),n)}(L,n))}else{if(!J[U])return f?n:{};L=function(n,t,e,o){var u=n.constructor;switch(t){case s:return xn(n);case c:case h:return new u(+n);case $:return function(n,t){var e=t?xn(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}(n,o);case j:case m:case l:case I:case T:case w:case W:case M:case H:return function(n,t){var e=t?xn(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}(n,o);case i:return function(n,t,e){return G(t?e(F(n),!0):F(n),z,new n.constructor)}(n,o,e);case d:case p:return new u(n);case a:return(g=new(r=n).constructor(r.source,P.exec(r))).lastIndex=r.lastIndex,g;case b:return function(n,t,e){return G(t?e(Y(n),!0):Y(n),Q,new n.constructor)}(n,o,e);case _:return f=n,wn?Object(wn.call(f)):{}}var f;var r,g}(n,U,qn,t)}}Z||(Z=new Pn);var k=Z.get(n);if(k)return k;if(Z.set(n,L),!q)var A=e?function(n){return function(n,t,e){var o=t(n);return Yn(n)?o:function(n,t){for(var e=-1,o=t.length,u=n.length;++e<o;)n[u+e]=t[e];return n}(o,e(n))}(n,En,zn)}(n):En(n);return function(n,t){for(var e=-1,o=n?n.length:0;++e<o&&!1!==t(n[e],e,n););}(A||n,function(u,f){A&&(u=n[f=u]),Ln(L,f,qn(u,t,e,o,f,n,Z))}),L}function Un(n){return!(!Cn(n)||(t=n,O&&O in t))&&(Vn(n)||X(n)?tn:Z).test(Fn(n));var t}function xn(n){var t=new n.constructor(n.byteLength);return new un(t).set(new un(n)),t}function kn(n,t,e,o){e||(e={});for(var u=-1,f=t.length;++u<f;){var r=t[u],c=o?o(e[r],n[r],r,e,n):void 0;Ln(e,r,void 0===c?n[r]:c)}return e}function An(n,t){var e,o,u=n.__data__;return("string"==(o=typeof(e=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==e:null===e)?u["string"==typeof t?"string":"hash"]:u.map}function Rn(n,t){var e=function(n,t){return null==n?void 0:n[t]}(n,t);return Un(e)?e:void 0}Wn.prototype.clear=function(){this.__data__=sn?sn(null):{}},Wn.prototype.delete=function(n){return this.has(n)&&delete this.__data__[n]},Wn.prototype.get=function(n){var t=this.__data__;if(sn){var e=t[n];return e===u?void 0:e}return K.call(t,n)?t[n]:void 0},Wn.prototype.has=function(n){var t=this.__data__;return sn?void 0!==t[n]:K.call(t,n)},Wn.prototype.set=function(n,t){return this.__data__[n]=sn&&void 0===t?u:t,this},Mn.prototype.clear=function(){this.__data__=[]},Mn.prototype.delete=function(n){var t=this.__data__,e=Jn(t,n);return!(e<0||(e==t.length-1?t.pop():hn.call(t,e,1),0))},Mn.prototype.get=function(n){var t=this.__data__,e=Jn(t,n);return e<0?void 0:t[e][1]},Mn.prototype.has=function(n){return Jn(this.__data__,n)>-1},Mn.prototype.set=function(n,t){var e=this.__data__,o=Jn(e,n);return o<0?e.push([n,t]):e[o][1]=t,this},Hn.prototype.clear=function(){this.__data__={hash:new Wn,map:new(an||Mn),string:new Wn}},Hn.prototype.delete=function(n){return An(this,n).delete(n)},Hn.prototype.get=function(n){return An(this,n).get(n)},Hn.prototype.has=function(n){return An(this,n).has(n)},Hn.prototype.set=function(n,t){return An(this,n).set(n,t),this},Pn.prototype.clear=function(){this.__data__=new Mn},Pn.prototype.delete=function(n){return this.__data__.delete(n)},Pn.prototype.get=function(n){return this.__data__.get(n)},Pn.prototype.has=function(n){return this.__data__.has(n)},Pn.prototype.set=function(n,t){var o=this.__data__;if(o instanceof Mn){var u=o.__data__;if(!an||u.length<e-1)return u.push([n,t]),this;o=this.__data__=new Hn(u)}return o.set(n,t),this};var zn=gn?N(gn,Object):function(){return[]},Qn=function(n){return nn.call(n)};function Gn(n,t){return!!(t=null==t?f:t)&&("number"==typeof n||L.test(n))&&n>-1&&n%1==0&&n<t}function Xn(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||C)}function Fn(n){if(null!=n){try{return S.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function Nn(n,t){return n===t||n!=n&&t!=t}(vn&&Qn(new vn(new ArrayBuffer(1)))!=$||an&&Qn(new an)!=i||bn&&"[object Promise]"!=Qn(bn.resolve())||pn&&Qn(new pn)!=b||_n&&"[object WeakMap]"!=Qn(new _n))&&(Qn=function(n){var t=nn.call(n),e=t==v?n.constructor:void 0,o=e?Fn(e):void 0;if(o)switch(o){case $n:return $;case jn:return i;case mn:return"[object Promise]";case ln:return b;case In:return"[object WeakMap]"}return t});var Yn=Array.isArray;function Bn(n){return null!=n&&function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=f}(n.length)&&!Vn(n)}var Dn=yn||function(){return!1};function Vn(n){var t=Cn(n)?nn.call(n):"";return t==g||t==y}function Cn(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function En(n){return Bn(n)?Zn(n):function(n){if(!Xn(n))return dn(n);var t=[];for(var e in Object(n))K.call(n,e)&&"constructor"!=e&&t.push(e);return t}(n)}n.exports=function(n){return qn(n,!0,!0)}}),a="[object Object]";var b,p,_=Function.prototype,s=Object.prototype,$=_.toString,j=s.hasOwnProperty,m=$.call(Object),l=s.toString,I=(b=Object.getPrototypeOf,p=Object,function(n){return b(p(n))});var T=function(n){if(!function(n){return!!n&&"object"==typeof n}(n)||l.call(n)!=a||function(n){var t=!1;if(null!=n&&"function"!=typeof n.toString)try{t=!!(n+"")}catch(n){}return t}(n))return!1;var t=I(n);if(null===t)return!0;var e=j.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&$.call(e)==m};const w=Array.isArray;function W(n){return"string"==typeof n&&n.length>0&&"."===n[0]?n.slice(1):n}function M(n,t){return function n(t,e,o){const u=v(t);let f,r,c,h,g;if((o=Object.assign({depth:-1,path:""},o)).depth+=1,w(u))for(f=0,r=u.length;f<r;f++){const t=`${o.path}.${f}`;void 0!==u[f]?(o.parent=v(u),c=n(e(u[f],void 0,Object.assign({},o,{path:W(t)})),e,Object.assign({},o,{path:W(t)})),Number.isNaN(c)&&f<u.length?(u.splice(f,1),f-=1):u[f]=c):u.splice(f,1)}else if(T(u))for(f=0,r=(h=Object.keys(u)).length;f<r;f++){g=h[f];const t=`${o.path}.${g}`;0===o.depth&&null!=g&&(o.topmostKey=g),o.parent=v(u),c=n(e(g,u[g],Object.assign({},o,{path:W(t)})),e,Object.assign({},o,{path:W(t)})),Number.isNaN(c)?delete u[g]:u[g]=c}return u}(n,t,{})}var H="__lodash_hash_undefined__",P=9007199254740991,Z="[object Function]",L="[object GeneratorFunction]",J=/^\[object .+?Constructor\]$/,q="object"==typeof o&&o&&o.Object===Object&&o,U="object"==typeof self&&self&&self.Object===Object&&self,x=q||U||Function("return this")();function k(n,t){return!!(n?n.length:0)&&function(n,t,e){if(t!=t)return function(n,t,e,o){var u=n.length,f=e+(o?1:-1);for(;o?f--:++f<u;)if(t(n[f],f,n))return f;return-1}(n,z,e);var o=e-1,u=n.length;for(;++o<u;)if(n[o]===t)return o;return-1}(n,t,0)>-1}function A(n,t,e){for(var o=-1,u=n?n.length:0;++o<u;)if(e(t,n[o]))return!0;return!1}function R(n,t){for(var e=-1,o=n?n.length:0,u=Array(o);++e<o;)u[e]=t(n[e],e,n);return u}function z(n){return n!=n}function Q(n){return function(t){return n(t)}}function G(n,t){return n.has(t)}var X,F=Array.prototype,N=Function.prototype,Y=Object.prototype,B=x["__core-js_shared__"],D=(X=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",V=N.toString,C=Y.hasOwnProperty,E=Y.toString,O=RegExp("^"+V.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=F.splice,K=Math.max,nn=Math.min,tn=dn(x,"Map"),en=dn(Object,"create");function on(n){var t=-1,e=n?n.length:0;for(this.clear();++t<e;){var o=n[t];this.set(o[0],o[1])}}function un(n){var t=-1,e=n?n.length:0;for(this.clear();++t<e;){var o=n[t];this.set(o[0],o[1])}}function fn(n){var t=-1,e=n?n.length:0;for(this.clear();++t<e;){var o=n[t];this.set(o[0],o[1])}}function rn(n){var t=-1,e=n?n.length:0;for(this.__data__=new fn;++t<e;)this.add(n[t])}function cn(n,t){for(var e,o,u=n.length;u--;)if((e=n[u][0])===(o=t)||e!=e&&o!=o)return u;return-1}function hn(n){return!(!an(n)||(t=n,D&&D in t))&&(vn(n)||function(n){var t=!1;if(null!=n&&"function"!=typeof n.toString)try{t=!!(n+"")}catch(n){}return t}(n)?O:J).test(function(n){if(null!=n){try{return V.call(n)}catch(n){}try{return n+""}catch(n){}}return""}(n));var t}function gn(n){return function(n){return function(n){return!!n&&"object"==typeof n}(n)&&function(n){return null!=n&&function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=P}(n.length)&&!vn(n)}(n)}(n)?n:[]}function yn(n,t){var e,o,u=n.__data__;return("string"==(o=typeof(e=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==e:null===e)?u["string"==typeof t?"string":"hash"]:u.map}function dn(n,t){var e=function(n,t){return null==n?void 0:n[t]}(n,t);return hn(e)?e:void 0}function vn(n){var t=an(n)?E.call(n):"";return t==Z||t==L}function an(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}on.prototype.clear=function(){this.__data__=en?en(null):{}},on.prototype.delete=function(n){return this.has(n)&&delete this.__data__[n]},on.prototype.get=function(n){var t=this.__data__;if(en){var e=t[n];return e===H?void 0:e}return C.call(t,n)?t[n]:void 0},on.prototype.has=function(n){var t=this.__data__;return en?void 0!==t[n]:C.call(t,n)},on.prototype.set=function(n,t){return this.__data__[n]=en&&void 0===t?H:t,this},un.prototype.clear=function(){this.__data__=[]},un.prototype.delete=function(n){var t=this.__data__,e=cn(t,n);return!(e<0||(e==t.length-1?t.pop():S.call(t,e,1),0))},un.prototype.get=function(n){var t=this.__data__,e=cn(t,n);return e<0?void 0:t[e][1]},un.prototype.has=function(n){return cn(this.__data__,n)>-1},un.prototype.set=function(n,t){var e=this.__data__,o=cn(e,n);return o<0?e.push([n,t]):e[o][1]=t,this},fn.prototype.clear=function(){this.__data__={hash:new on,map:new(tn||un),string:new on}},fn.prototype.delete=function(n){return yn(this,n).delete(n)},fn.prototype.get=function(n){return yn(this,n).get(n)},fn.prototype.has=function(n){return yn(this,n).has(n)},fn.prototype.set=function(n,t){return yn(this,n).set(n,t),this},rn.prototype.add=rn.prototype.push=function(n){return this.__data__.set(n,H),this},rn.prototype.has=function(n){return this.__data__.has(n)};var bn=function(n,t){return t=K(void 0===t?n.length-1:t,0),function(){for(var e=arguments,o=-1,u=K(e.length-t,0),f=Array(u);++o<u;)f[o]=e[t+o];o=-1;for(var r=Array(t+1);++o<t;)r[o]=e[o];return r[t]=f,function(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}(n,this,r)}}(function(n){var t=R(n,gn);return t.length&&t[0]===n[0]?function(n,t,e){for(var o=e?A:k,u=n[0].length,f=n.length,r=f,c=Array(f),h=1/0,g=[];r--;){var y=n[r];r&&t&&(y=R(y,Q(t))),h=nn(y.length,h),c[r]=!e&&(t||u>=120&&y.length>=120)?new rn(r&&y):void 0}y=n[0];var i=-1,d=c[0];n:for(;++i<u&&g.length<h;){var v=y[i],a=t?t(v):v;if(v=e||0!==v?v:0,!(d?G(d,a):o(g,a,e))){for(r=f;--r;){var b=c[r];if(!(b?G(b,a):o(n[r],a,e)))continue n}d&&d.push(a),g.push(v)}}return g}(t):[]});function pn(n){return"string"==typeof n?n.length>0?[n]:[]:n}var _n=u(function(n){n.exports=function(){var n=Object.prototype.toString;function t(n,t){return null!=n&&Object.prototype.hasOwnProperty.call(n,t)}function e(n){if(!n)return!0;if(u(n)&&0===n.length)return!0;if("string"!=typeof n){for(var e in n)if(t(n,e))return!1;return!0}return!1}function o(t){return n.call(t)}var u=Array.isArray||function(t){return"[object Array]"===n.call(t)};function f(n){var t=parseInt(n);return t.toString()===n?t:n}function r(n){n=n||{};var r=function(n){return Object.keys(r).reduce(function(t,e){return"create"===e?t:("function"==typeof r[e]&&(t[e]=r[e].bind(r,n)),t)},{})};function c(e,o){return n.includeInheritedProps||"number"==typeof o&&Array.isArray(e)||t(e,o)}function h(n,t){if(c(n,t))return n[t]}function g(n,t,e,o){if("number"==typeof t&&(t=[t]),!t||0===t.length)return n;if("string"==typeof t)return g(n,t.split(".").map(f),e,o);var u=t[0],r=h(n,u);return 1===t.length?(void 0!==r&&o||(n[u]=e),r):(void 0===r&&("number"==typeof t[1]?n[u]=[]:n[u]={}),g(n[u],t.slice(1),e,o))}return r.has=function(e,o){if("number"==typeof o?o=[o]:"string"==typeof o&&(o=o.split(".")),!o||0===o.length)return!!e;for(var r=0;r<o.length;r++){var c=f(o[r]);if(!("number"==typeof c&&u(e)&&c<e.length||(n.includeInheritedProps?c in Object(e):t(e,c))))return!1;e=e[c]}return!0},r.ensureExists=function(n,t,e){return g(n,t,e,!0)},r.set=function(n,t,e,o){return g(n,t,e,o)},r.insert=function(n,t,e,o){var f=r.get(n,t);o=~~o,u(f)||(f=[],r.set(n,t,f)),f.splice(o,0,e)},r.empty=function(n,t){var f,h;if(!e(t)&&null!=n&&(f=r.get(n,t))){if("string"==typeof f)return r.set(n,t,"");if(function(n){return"boolean"==typeof n||"[object Boolean]"===o(n)}(f))return r.set(n,t,!1);if("number"==typeof f)return r.set(n,t,0);if(u(f))f.length=0;else{if(!function(n){return"object"==typeof n&&"[object Object]"===o(n)}(f))return r.set(n,t,null);for(h in f)c(f,h)&&delete f[h]}}},r.push=function(n,t){var e=r.get(n,t);u(e)||(e=[],r.set(n,t,e)),e.push.apply(e,Array.prototype.slice.call(arguments,2))},r.coalesce=function(n,t,e){for(var o,u=0,f=t.length;u<f;u++)if(void 0!==(o=r.get(n,t[u])))return o;return e},r.get=function(n,t,e){if("number"==typeof t&&(t=[t]),!t||0===t.length)return n;if(null==n)return e;if("string"==typeof t)return r.get(n,t.split("."),e);var o=f(t[0]),u=h(n,o);return void 0===u?e:1===t.length?u:r.get(n[o],t.slice(1),e)},r.del=function(n,t){if("number"==typeof t&&(t=[t]),null==n)return n;if(e(t))return n;if("string"==typeof t)return r.del(n,t.split("."));var o=f(t[0]);return c(n,o)?1!==t.length?r.del(n[o],t.slice(1)):(u(n)?n.splice(o,1):delete n[o],n):n},r}var c=r();return c.create=r,c.withInheritedProps=r({includeInheritedProps:!0}),c}()}),sn=function(n){var t=n%100;if(t>=10&&t<=20)return"th";var e=n%10;return 1===e?"st":2===e?"nd":3===e?"rd":"th"};function $n(n){if("number"!=typeof n)throw new TypeError("Expected Number, got "+typeof n+" "+n);return n+sn(n)}$n.indicator=sn;var jn=$n,mn=/[|\\{}()[\]^$+*?.]/g,ln=function(n){if("string"!=typeof n)throw new TypeError("Expected a string");return n.replace(mn,"\\$&")};const In=new Map;function Tn(n,t){const e=Object.assign({caseSensitive:!1},t),o=n+JSON.stringify(e);if(In.has(o))return In.get(o);const u="!"===n[0];u&&(n=n.slice(1)),n=ln(n).replace(/\\\*/g,".*");const f=new RegExp(`^${n}$`,e.caseSensitive?"":"i");return f.negated=u,In.set(o,f),f}var wn=(n,t,e)=>{if(!Array.isArray(n)||!Array.isArray(t))throw new TypeError(`Expected two arrays, got ${typeof n} ${typeof t}`);if(0===t.length)return n;const o="!"===t[0][0];t=t.map(n=>Tn(n,e));const u=[];for(const e of n){let n=o;for(const o of t)o.test(e)&&(n=!o.negated);n&&u.push(e)}return u};function Wn(n,t,e){return function n(t,e,o,u=!0){function f(n){return null!=n}function c(n){return"Object"===r(n)}function h(n,t){return t=pn(t),Array.from(n).filter(n=>!t.some(t=>wn.isMatch(n,t,{caseSensitive:!0})))}function g(n){if(n.includes(".")){const t=n.split(".");return t.pop(),t.join(".")}return n}const y=["any","anything","every","everything","all","whatever","whatevs"],i=Array.isArray;if(!f(t))throw new Error("check-types-mini: [THROW_ID_01] First argument is missing!");const v={ignoreKeys:[],ignorePaths:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"};let a;if(a=f(o)&&c(o)?Object.assign({},v,o):Object.assign({},v),f(a.ignoreKeys)&&a.ignoreKeys?a.ignoreKeys=pn(a.ignoreKeys):a.ignoreKeys=[],f(a.ignorePaths)&&a.ignorePaths?a.ignorePaths=pn(a.ignorePaths):a.ignorePaths=[],f(a.acceptArraysIgnore)&&a.acceptArraysIgnore?a.acceptArraysIgnore=pn(a.acceptArraysIgnore):a.acceptArraysIgnore=[],a.msg="string"==typeof a.msg?a.msg.trim():a.msg,":"===a.msg[a.msg.length-1]&&(a.msg=a.msg.slice(0,a.msg.length-1).trim()),a.schema&&(Object.keys(a.schema).forEach(n=>{if(c(a.schema[n])){const t={};M(a.schema[n],(e,o,u)=>{const f=void 0!==o?o:e;return i(f)||c(f)||(t[`${n}.${u.path}`]=f),f}),delete a.schema[n],a.schema=Object.assign(a.schema,t)}}),Object.keys(a.schema).forEach(n=>{i(a.schema[n])||(a.schema[n]=[a.schema[n]]),a.schema[n]=a.schema[n].map(String).map(n=>n.toLowerCase()).map(n=>n.trim())})),f(e)||(e={}),u&&n(a,v,{enforceStrictKeyset:!1},!1),a.enforceStrictKeyset)if(f(a.schema)&&Object.keys(a.schema).length>0){if(0!==h(d(Object.keys(t),Object.keys(e).concat(Object.keys(a.schema))),a.ignoreKeys).length){const n=d(Object.keys(t),Object.keys(e).concat(Object.keys(a.schema)));throw new TypeError(`${a.msg}: ${a.optsVarName}.enforceStrictKeyset is on and the following key${n.length>1?"s":""} ${n.length>1?"are":"is"} not covered by schema and/or reference objects: ${n.join(", ")}`)}}else{if(!(f(e)&&Object.keys(e).length>0))throw new TypeError(`${a.msg}: Both ${a.optsVarName}.schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!`);if(0!==h(d(Object.keys(t),Object.keys(e)),a.ignoreKeys).length){const n=d(Object.keys(t),Object.keys(e));throw new TypeError(`${a.msg}: The input object has key${n.length>1?"s":""} which ${n.length>1?"are":"is"} not covered by the reference object: ${n.join(", ")}`)}if(0!==h(d(Object.keys(e),Object.keys(t)),a.ignoreKeys).length){const n=d(Object.keys(e),Object.keys(t));throw new TypeError(`${a.msg}: The reference object has key${n.length>1?"s":""} which ${n.length>1?"are":"is"} not present in the input object: ${n.join(", ")}`)}}const b=[];M(t,(n,t,o)=>{const u=void 0!==t?t:n;if(i(b)&&b.length&&b.some(n=>o.path.startsWith(n)))return u;if(!(!a.enforceStrictKeyset||!c(u)&&!i(u)&&i(o.parent)||f(a.schema)&&c(a.schema)&&(!c(a.schema)||Object.keys(a.schema).length&&(i(o.parent)||Object.prototype.hasOwnProperty.call(a.schema,o.path))&&(!i(o.parent)||_n.has(a.schema,g(o.path))))||f(e)&&c(e)&&(!c(e)||Object.keys(e).length&&(a.acceptArrays||_n.has(e,o.path))&&(!a.acceptArrays||(i(o.parent)||_n.has(e,o.path))&&(!i(o.parent)||_n.has(e,g(o.path)))))))throw new TypeError(`${a.msg}: ${a.optsVarName}.${o.path} is neither covered by reference object (second input argument), nor ${a.optsVarName}.schema! To stop this error, turn off ${a.optsVarName}.enforceStrictKeyset or provide some type reference (2nd argument or ${a.optsVarName}.schema).`);if(c(a.schema)&&Object.keys(a.schema).length&&Object.prototype.hasOwnProperty.call(a.schema,o.path)){const n=pn(a.schema[o.path]).map(String).map(n=>n.toLowerCase());if(_n.set(a.schema,o.path,n),bn(n,y).length)b.push(o.path);else if(!0!==u&&!1!==u&&!n.includes(r(u).toLowerCase())||(!0===u||!1===u)&&!n.includes(String(u))&&!n.includes("boolean")){if(!i(u)||!a.acceptArrays)throw new TypeError(`${a.msg}: ${a.optsVarName}.${o.path} was customised to ${"string"!==r(u)?'"':""}${JSON.stringify(u,null,0)}${"string"!==r(u)?'"':""} (type: ${r(u).toLowerCase()}) which is not among the allowed types in schema (which is equal to ${JSON.stringify(n,null,0)})`);for(let t=0,e=u.length;t<e;t++)if(!n.includes(r(u[t]).toLowerCase()))throw new TypeError(`${a.msg}: ${a.optsVarName}.${o.path}.${t}, the ${jn(t+1)} element (equal to ${JSON.stringify(u[t],null,0)}) is of a type ${r(u[t]).toLowerCase()}, but only the following are allowed by the ${a.optsVarName}.schema: ${n.join(", ")}`)}}else if(f(e)&&Object.keys(e).length&&_n.has(e,o.path)&&r(u)!==r(_n.get(e,o.path))&&(!a.ignoreKeys||!a.ignoreKeys.some(t=>wn.isMatch(n,t)))&&(!a.ignorePaths||!a.ignorePaths.some(n=>wn.isMatch(o.path,n)))){const t=_n.get(e,o.path);if(!a.acceptArrays||!i(u)||a.acceptArraysIgnore.includes(n))throw new TypeError(`${a.msg}: ${a.optsVarName}.${o.path} was customised to ${"string"===r(u).toLowerCase()?"":'"'}${JSON.stringify(u,null,0)}${"string"===r(u).toLowerCase()?"":'"'} which is not ${r(t).toLowerCase()} but ${r(u).toLowerCase()}`);if(!u.every(t=>r(t).toLowerCase()===r(e[n]).toLowerCase()))throw new TypeError(`${a.msg}: ${a.optsVarName}.${o.path} was customised to be array, but not all of its elements are ${r(e[n]).toLowerCase()}-type`)}return u})}(n,t,e)}wn.isMatch=((n,t,e)=>{const o=Tn(t,e),u=o.test(n);return o.negated?!u:u});const Mn=Array.isArray;function Hn(n,e){if(!Mn(n))throw new TypeError(`ranges-sort: [THROW_ID_01] Input must be an array, consisting of range arrays! Currently its type is: ${typeof n}, equal to: ${JSON.stringify(n,null,4)}`);if(0===n.length)return n;const o={strictlyTwoElementsInRangeArrays:!1,progressFn:null},u=Object.assign({},o,e);let r,c;if(Wn(u,o,{msg:"ranges-sort: [THROW_ID_02*]",schema:{progressFn:["function","false","null"]}}),u.strictlyTwoElementsInRangeArrays&&!n.every((n,t)=>2===n.length||(r=t,c=n.length,!1)))throw new TypeError(`ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ${f(r)} range (${JSON.stringify(n[r],null,4)}) has not two but ${c} elements!`);if(!n.every((n,e)=>!(!t(n[0],{includeZero:!0})||!t(n[1],{includeZero:!0}))||(r=e,!1)))throw new TypeError(`ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ${f(r)} range (${JSON.stringify(n[r],null,4)}) does not consist of only natural numbers!`);const h=n.length*n.length;let g=0;return Array.from(n).sort((n,t)=>(u.progressFn&&(g++,u.progressFn(Math.floor(100*g/h))),n[0]===t[0]?n[1]<t[1]?-1:n[1]>t[1]?1:0:n[0]<t[0]?-1:1))}function Pn(n,t){if(!Array.isArray(n))return n;if(t&&"function"!=typeof t)throw new Error(`ranges-merge: [THROW_ID_01] the second input argument must be a function! It was given of a type: "${typeof t}", equal to ${JSON.stringify(t,null,4)}`);const e=v(n).filter(n=>void 0!==n[2]||n[0]!==n[1]);let o,u,f;const r=(o=t?Hn(e,{progressFn:n=>{(f=Math.floor(n/5))!==u&&(u=f,t(f))}}):Hn(e)).length-1;for(let n=r;n>0;n--)t&&(f=Math.floor(78*(1-n/r))+21)!==u&&f>u&&(u=f,t(f)),(o[n][0]<=o[n-1][0]||o[n][0]<=o[n-1][1])&&(o[n-1][0]=Math.min(o[n][0],o[n-1][0]),o[n-1][1]=Math.max(o[n][1],o[n-1][1]),void 0!==o[n][2]&&(o[n-1][0]>=o[n][0]||o[n-1][1]<=o[n][1])&&null!==o[n-1][2]&&(null===o[n][2]&&null!==o[n-1][2]?o[n-1][2]=null:void 0!==o[n-1][2]?o[n-1][2]+=o[n][2]:o[n-1][2]=o[n][2]),o.splice(n,1),n=o.length);return o}const Zn=Array.isArray;function Ln(n,t){let e;if(e=t&&"number"==typeof t?t:1,"string"==typeof n){if(0===n.length)return"";if(""===n.trim()){const t=(n.match(/\n/g)||[]).length;return t?"\n".repeat(Math.min(t,e)):" "}let t="";if(""===n[0].trim()){t=" ";let o=0;for(let t=0,e=n.length;t<e&&("\n"===n[t]&&o++,0===n[t].trim().length);t++);o&&(t="\n".repeat(Math.min(o,e)))}let o="";if(""===n.slice(-1).trim()){o=" ";let t=0;for(let e=n.length;e--&&("\n"===n[e]&&t++,0===n[e].trim().length););t&&(o="\n".repeat(Math.min(t,e)))}return t+n.trim()+o}return n}function Jn(n){return null!=n}const qn=Array.isArray;function Un(n){return"string"==typeof n}function xn(n){return e(n,{includeZero:!0})?parseInt(n,10):n}class kn{constructor(n){const t={limitToBeAddedWhitespace:!1,limitLinebreaksCount:1},e=Object.assign({},t,n);Wn(e,t,{msg:"string-slices-array-push: [THROW_ID_02*]"}),this.opts=e}add(n=function(n){throw new Error(`string-slices-array-push/Slices/add(): [THROW_ID_01] Missing ${f(n)} input parameter!`)}(1),o,u,...r){if(r.length>0)throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_03] Please don't overload the add() method. From the 4th input argument onwards we see these redundant arguments: ${JSON.stringify(r,null,4)}`);if(null===n&&void 0===o&&void 0===u)return;const c=e(n,{includeZero:!0})?parseInt(n,10):n,h=e(o,{includeZero:!0})?parseInt(o,10):o;if(qn(n)&&!Jn(o)){let e,o;if(n.length>0){if(!n.every((n,t)=>!!qn(n)||(e=t,o=n,!1)))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_07] first argument was given as array but it contains not only range arrays. For example, at index ${e} we have ${typeof o}-type value:\n${JSON.stringify(o,null,4)}.`);n.forEach((n,e)=>{if(!t(xn(n[0]),{includeZero:!0}))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_06] The ${f(e)} ranges array's starting range index, an element at its zero'th index, is not a natural number! It's equal to: ${n[0]}.`);if(!t(xn(n[1]),{includeZero:!0}))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_05] The ${f(e)} ranges array's ending range index, an element at its first index, is not a natural number! It's equal to: ${n[1]}.`);if(Jn(n[2])&&!Un(n[2]))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_04] The ${f(e)} ranges array's "to add" value is not string but ${typeof n[2]}! It's equal to: ${n[2]}.`);this.add(...n)})}}else{if(!t(c,{includeZero:!0})||!t(h,{includeZero:!0}))throw t(c,{includeZero:!0})?new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it's of a type "${typeof h}" equal to: ${JSON.stringify(h,null,4)}`):new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it's of a type "${typeof c}" equal to: ${JSON.stringify(c,null,4)}`);if(Jn(u)&&!Un(u))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but ${typeof u}, equal to:\n${JSON.stringify(u,null,4)}`);if(Jn(this.slices)&&qn(this.last())&&c===this.last()[1]){if(this.last()[1]=h,null!==this.last()[2]&&Jn(u)){let n=Jn(this.last()[2])&&this.last()[2].length>0?this.last()[2]+u:u;this.opts.limitToBeAddedWhitespace&&(n=Ln(n,this.opts.limitLinebreaksCount)),Un(n)&&!n.length||(this.last()[2]=n)}}else this.slices||(this.slices=[]),this.slices.push(void 0===u||Un(u)&&!u.length?[c,h]:[c,h,this.opts.limitToBeAddedWhitespace?Ln(u,this.opts.limitLinebreaksCount):u])}}push(n,t,e,...o){this.add(n,t,e,...o)}current(){return null!=this.slices?(this.slices=Pn(this.slices),this.opts.limitToBeAddedWhitespace?this.slices.map(n=>Jn(n[2])?[n[0],n[1],Ln(n[2],this.opts.limitLinebreaksCount)]:n):this.slices):null}wipe(){this.slices=void 0}last(){return void 0!==this.slices&&Array.isArray(this.slices)?this.slices[this.slices.length-1]:null}}var An=u(function(n,t){!function(e){function o(n,t){return t instanceof Object||(t={trim:!0}),"number"==typeof n&&!isNaN(n)||(n=(n||"").toString(),"trim"in t&&!t.trim?!/\s/.test(n):!!(n=n.trim())&&!isNaN(n))}n.exports&&(t=n.exports=o),t.isNumeric=o}()}),Rn=(An.isNumeric,1/0),zn="[object Symbol]",Qn=/^\s+|\s+$/g,Gn="[\\ud800-\\udfff]",Xn="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",Fn="\\ud83c[\\udffb-\\udfff]",Nn="[^\\ud800-\\udfff]",Yn="(?:\\ud83c[\\udde6-\\uddff]){2}",Bn="[\\ud800-\\udbff][\\udc00-\\udfff]",Dn="(?:"+Xn+"|"+Fn+")"+"?",Vn="[\\ufe0e\\ufe0f]?"+Dn+("(?:\\u200d(?:"+[Nn,Yn,Bn].join("|")+")[\\ufe0e\\ufe0f]?"+Dn+")*"),Cn="(?:"+[Nn+Xn+"?",Xn,Yn,Bn,Gn].join("|")+")",En=RegExp(Fn+"(?="+Fn+")|"+Cn+Vn,"g"),On=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Sn="object"==typeof o&&o&&o.Object===Object&&o,Kn="object"==typeof self&&self&&self.Object===Object&&self,nt=Sn||Kn||Function("return this")();function tt(n,t,e){if(t!=t)return function(n,t,e,o){for(var u=n.length,f=e+(o?1:-1);o?f--:++f<u;)if(t(n[f],f,n))return f;return-1}(n,et,e);for(var o=e-1,u=n.length;++o<u;)if(n[o]===t)return o;return-1}function et(n){return n!=n}function ot(n){return function(n){return On.test(n)}(n)?function(n){return n.match(En)||[]}(n):function(n){return n.split("")}(n)}var ut=Object.prototype.toString,ft=nt.Symbol,rt=ft?ft.prototype:void 0,ct=rt?rt.toString:void 0;function ht(n){if("string"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&ut.call(n)==zn}(n))return ct?ct.call(n):"";var t=n+"";return"0"==t&&1/n==-Rn?"-0":t}function gt(n,t,e){var o=n.length;return e=void 0===e?o:e,!t&&e>=o?n:function(n,t,e){var o=-1,u=n.length;t<0&&(t=-t>u?0:u+t),(e=e>u?u:e)<0&&(e+=u),u=t>e?0:e-t>>>0,t>>>=0;for(var f=Array(u);++o<u;)f[o]=n[o+t];return f}(n,t,e)}var yt=function(n,t,e){var o;if((n=null==(o=n)?"":ht(o))&&(e||void 0===t))return n.replace(Qn,"");if(!n||!(t=ht(t)))return n;var u=ot(n),f=ot(t);return gt(u,function(n,t){for(var e=-1,o=n.length;++e<o&&tt(t,n[e],0)>-1;);return e}(u,f),function(n,t){for(var e=n.length;e--&&tt(t,n[e],0)>-1;);return e}(u,f)+1).join("")};function it(n,o){let u=!0;const r=[".",",","'"," "];let c;if("string"!=typeof n)throw new TypeError(`string-remove-thousand-separators/remSep(): [THROW_ID_01] Input must be string! Currently it's: ${typeof n}, equal to:\n${JSON.stringify(n,null,4)}`);if(null!=o&&!T(o))throw new TypeError(`string-remove-thousand-separators/remSep(): [THROW_ID_02] Options object must be a plain object! Currently it's: ${typeof o}, equal to:\n${JSON.stringify(o,null,4)}`);const h={removeThousandSeparatorsFromNumbers:!0,padSingleDecimalPlaceNumbers:!0,forceUKStyle:!1},g=Object.assign({},h,o);Wn(g,h,{msg:"string-remove-thousand-separators/remSep(): [THROW_ID_03*]"});const y=yt(n.trim(),'"');if(""===y)return y;const i=new kn;for(let n=0,t=y.length;n<t;n++){if(g.removeThousandSeparatorsFromNumbers&&""===y[n].trim()&&i.add(n,n+1),g.removeThousandSeparatorsFromNumbers&&"'"===y[n]&&(i.add(n,n+1),"'"===y[n+1])){u=!1;break}if(r.includes(y[n])){if(void 0!==y[n+1]&&An(y[n+1]))if(void 0!==y[n+2]){if(!An(y[n+2])){u=!1;break}if(void 0!==y[n+3]){if(!An(y[n+3])){u=!1;break}if(void 0!==y[n+4]&&An(y[n+4])){u=!1;break}if(g.removeThousandSeparatorsFromNumbers&&i.add(n,n+1),c){if(y[n]!==c){u=!1;break}}else c=y[n]}else g.removeThousandSeparatorsFromNumbers&&g.forceUKStyle&&","===y[n]&&i.add(n,n+1,".")}else g.forceUKStyle&&","===y[n]&&i.add(n,n+1,"."),g.padSingleDecimalPlaceNumbers&&i.add(n+2,n+2,"0")}else if(!An(y[n])){u=!1;break}}return u&&i.current()?function(n,o,u){let r=0,c=0;if(0===arguments.length)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if("string"!=typeof n)throw new TypeError(`ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ${typeof n}, equal to: ${JSON.stringify(n,null,4)}`);if(null===o)return n;if(!Zn(o))throw new TypeError(`ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ${typeof o}, equal to: ${JSON.stringify(o,null,4)}`);if(u&&"function"!=typeof u)throw new TypeError(`ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ${typeof u}, equal to: ${JSON.stringify(u,null,4)}`);Zn(o)&&(t(o[0],{includeZero:!0})||e(o[0],{includeZero:!0}))&&(t(o[1],{includeZero:!0})||e(o[1],{includeZero:!0}))&&(o=[o]);const h=o.length;let g=0;o.forEach((n,y)=>{if(u&&(r=Math.floor(g/h*10))!==c&&(c=r,u(r)),!Zn(n))throw new TypeError(`ranges-apply: [THROW_ID_05] ranges array, second input arg., has ${f(y)} element not an array: ${JSON.stringify(n,null,4)}, which is ${typeof n}`);if(!t(n[0],{includeZero:!0})){if(!e(n[0],{includeZero:!0}))throw new TypeError(`ranges-apply: [THROW_ID_06] ranges array, second input arg. has ${f(y)} element, array [${n[0]},${n[1]}]. That array has first element not an integer, but ${typeof n[0]}, equal to: ${JSON.stringify(n[0],null,4)}. Computer doesn't like this.`);o[y][0]=Number.parseInt(o[y][0],10)}if(!t(n[1],{includeZero:!0})){if(!e(n[1],{includeZero:!0}))throw new TypeError(`ranges-apply: [THROW_ID_07] ranges array, second input arg. has ${f(y)} element, array [${n[0]},${n[1]}]. That array has second element not an integer, but ${typeof n[1]}, equal to: ${JSON.stringify(n[1],null,4)}. Computer doesn't like this.`);o[y][1]=Number.parseInt(o[y][1],10)}g++});const y=Pn(o,n=>{u&&(r=10+Math.floor(n/10))!==c&&(c=r,u(r))}),i=y.length;if(i>0){const t=n.slice(y[i-1][1]);n=y.reduce((t,e,o,f)=>{u&&(r=20+Math.floor(o/i*80))!==c&&(c=r,u(r));const h=0===o?0:f[o-1][1],g=f[o][0];return t+n.slice(h,g)+(function(n){return null!=n}(f[o][2])?f[o][2]:"")},""),n+=t}return n}(y,i.current()):y}return function(t,e){var o=0,u=0,f=[],r=[],c=!1,h=!0;if(void 0!==e&&!T(e))throw new Error("csv-split-easy/split(): [THROW_ID_02] Options object must be a plain object! Currently it's of a type ".concat(n(e)," equal to:\n").concat(JSON.stringify(e,null,4)));var g={removeThousandSeparatorsFromNumbers:!0,padSingleDecimalPlaceNumbers:!0,forceUKStyle:!1},y=Object.assign({},g,e);if(Wn(y,g,{msg:"csv-split-easy/split(): [THROW_ID_03*]"}),"string"!=typeof t)throw new TypeError("csv-split-easy/split(): [THROW_ID_04] input must be string! Currently it's: ".concat(n(t),", equal to: ").concat(JSON.stringify(t,null,4)));if(""===t)return[[""]];for(var i=0,d=(t=t.trim()).length;i<d;i++){if(h&&'"'!==t[i]&&","!==t[i]&&""!==t[i].trim()&&(h=!1),'"'===t[i])if(c&&'"'===t[i+1])i+=1;else if(c){c=!1;var v=t.slice(o,i);""!==v.trim()&&(h=!1);var a=/""/.test(v)?v.replace(/""/g,'"'):it(v,{removeThousandSeparatorsFromNumbers:y.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:y.padSingleDecimalPlaceNumbers,forceUKStyle:y.forceUKStyle});f.push(a)}else c=!0,o=i+1;else if(c||","!==t[i])if("\n"===t[i]||"\r"===t[i]){if(!u){if(u=i,!c&&'"'!==t[i-1]){var b=t.slice(o,i);""!==b.trim()&&(h=!1),f.push(it(b,{removeThousandSeparatorsFromNumbers:y.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:y.padSingleDecimalPlaceNumbers,forceUKStyle:y.forceUKStyle}))}h?f=[]:r.push(f),h=!0,f=[]}o=i+1}else u&&(u=0,o=i);else{if('"'!==t[i-1]&&!c){var p=t.slice(o,i);""!==p.trim()&&(h=!1),f.push(it(p,{removeThousandSeparatorsFromNumbers:y.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:y.padSingleDecimalPlaceNumbers,forceUKStyle:y.forceUKStyle}))}o=i+1,u&&(u=0)}if(i+1===d){if('"'!==t[i]){var _=t.slice(o,i+1);""!==_.trim()&&(h=!1),f.push(it(_,{removeThousandSeparatorsFromNumbers:y.removeThousandSeparatorsFromNumbers,padSingleDecimalPlaceNumbers:y.padSingleDecimalPlaceNumbers,forceUKStyle:y.forceUKStyle}))}h?f=[]:r.push(f),h=!0}}return 0===r.length?[[""]]:r}});
