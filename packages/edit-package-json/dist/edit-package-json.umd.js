/**
 * edit-package-json
 * Edit package.json without parsing, as string, to keep the formatting intact
 * Version: 0.2.2
 * Author: Roy Revelt, Codsen Ltd
 * License: MIT
 * Homepage: https://codsen.com/os/edit-package-json/
 */

!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).editPackageJson={})}(this,(function(t){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function e(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function o(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach((function(n){r(t,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))}))}return t}function i(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return c(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}var a,u,l=Function.prototype,s=Object.prototype,f=l.toString,g=s.hasOwnProperty,h=f.call(Object),p=s.toString,y=(a=Object.getPrototypeOf,u=Object,function(t){return a(u(t))});var m=function(t){if(!function(t){return!!t&&"object"==n(t)}(t)||"[object Object]"!=p.call(t)||function(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(t){}return n}(t))return!1;var r=y(t);if(null===r)return!0;var e=g.call(r,"constructor")&&r.constructor;return"function"==typeof e&&e instanceof e&&f.call(e)==h},d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var v=function(t,n,r){return t(r={path:n,exports:{},require:function(t,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&r.path)}},r.exports),r.exports}((function(t,r){var e="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",c="[object Boolean]",a="[object Date]",u="[object Function]",l="[object GeneratorFunction]",s="[object Map]",f="[object Number]",g="[object Object]",h="[object Promise]",p="[object RegExp]",y="[object Set]",m="[object String]",v="[object Symbol]",b="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",O="[object Float32Array]",j="[object Float64Array]",S="[object Int8Array]",T="[object Int16Array]",A="[object Int32Array]",N="[object Uint8Array]",I="[object Uint8ClampedArray]",P="[object Uint16Array]",E="[object Uint32Array]",J=/\w*$/,F=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,x={};x[i]=x["[object Array]"]=x[w]=x[_]=x[c]=x[a]=x[O]=x[j]=x[S]=x[T]=x[A]=x[s]=x[f]=x[g]=x[p]=x[y]=x[m]=x[v]=x[N]=x[I]=x[P]=x[E]=!0,x["[object Error]"]=x[u]=x[b]=!1;var W="object"==n(d)&&d&&d.Object===Object&&d,H="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,D=W||H||Function("return this")(),U=r&&!r.nodeType&&r,M=U&&t&&!t.nodeType&&t,k=M&&M.exports===U;function C(t,n){return t.set(n[0],n[1]),t}function $(t,n){return t.add(n),t}function q(t,n,r,e){var o=-1,i=t?t.length:0;for(e&&i&&(r=t[++o]);++o<i;)r=n(r,t[o],o,t);return r}function L(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(t){}return n}function B(t){var n=-1,r=Array(t.size);return t.forEach((function(t,e){r[++n]=[e,t]})),r}function z(t,n){return function(r){return t(n(r))}}function V(t){var n=-1,r=Array(t.size);return t.forEach((function(t){r[++n]=t})),r}var G,Q=Array.prototype,K=Function.prototype,X=Object.prototype,Y=D["__core-js_shared__"],Z=(G=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",tt=K.toString,nt=X.hasOwnProperty,rt=X.toString,et=RegExp("^"+tt.call(nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=k?D.Buffer:void 0,it=D.Symbol,ct=D.Uint8Array,at=z(Object.getPrototypeOf,Object),ut=Object.create,lt=X.propertyIsEnumerable,st=Q.splice,ft=Object.getOwnPropertySymbols,gt=ot?ot.isBuffer:void 0,ht=z(Object.keys,Object),pt=Mt(D,"DataView"),yt=Mt(D,"Map"),mt=Mt(D,"Promise"),dt=Mt(D,"Set"),vt=Mt(D,"WeakMap"),bt=Mt(Object,"create"),wt=Lt(pt),_t=Lt(yt),Ot=Lt(mt),jt=Lt(dt),St=Lt(vt),Tt=it?it.prototype:void 0,At=Tt?Tt.valueOf:void 0;function Nt(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function It(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function Pt(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function Et(t){this.__data__=new It(t)}function Jt(t,r){var e=zt(t)||function(t){return function(t){return function(t){return!!t&&"object"==n(t)}(t)&&Vt(t)}(t)&&nt.call(t,"callee")&&(!lt.call(t,"callee")||rt.call(t)==i)}(t)?function(t,n){for(var r=-1,e=Array(t);++r<t;)e[r]=n(r);return e}(t.length,String):[],o=e.length,c=!!o;for(var a in t)!r&&!nt.call(t,a)||c&&("length"==a||$t(a,o))||e.push(a);return e}function Ft(t,n,r){var e=t[n];nt.call(t,n)&&Bt(e,r)&&(void 0!==r||n in t)||(t[n]=r)}function Rt(t,n){for(var r=t.length;r--;)if(Bt(t[r][0],n))return r;return-1}function xt(t,n,r,e,o,h,d){var b;if(e&&(b=h?e(t,o,h,d):e(t)),void 0!==b)return b;if(!Kt(t))return t;var F=zt(t);if(F){if(b=function(t){var n=t.length,r=t.constructor(n);n&&"string"==typeof t[0]&&nt.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!n)return function(t,n){var r=-1,e=t.length;n||(n=Array(e));for(;++r<e;)n[r]=t[r];return n}(t,b)}else{var R=Ct(t),W=R==u||R==l;if(Gt(t))return function(t,n){if(n)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,n);if(R==g||R==i||W&&!h){if(L(t))return h?t:{};if(b=function(t){return"function"!=typeof t.constructor||qt(t)?{}:(n=at(t),Kt(n)?ut(n):{});var n}(W?{}:t),!n)return function(t,n){return Dt(t,kt(t),n)}(t,function(t,n){return t&&Dt(n,Xt(n),t)}(b,t))}else{if(!x[R])return h?t:{};b=function(t,n,r,e){var o=t.constructor;switch(n){case w:return Ht(t);case c:case a:return new o(+t);case _:return function(t,n){var r=n?Ht(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,e);case O:case j:case S:case T:case A:case N:case I:case P:case E:return function(t,n){var r=n?Ht(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,e);case s:return function(t,n,r){return q(n?r(B(t),!0):B(t),C,new t.constructor)}(t,e,r);case f:case m:return new o(t);case p:return function(t){var n=new t.constructor(t.source,J.exec(t));return n.lastIndex=t.lastIndex,n}(t);case y:return function(t,n,r){return q(n?r(V(t),!0):V(t),$,new t.constructor)}(t,e,r);case v:return i=t,At?Object(At.call(i)):{}}var i}(t,R,xt,n)}}d||(d=new Et);var H=d.get(t);if(H)return H;if(d.set(t,b),!F)var D=r?function(t){return function(t,n,r){var e=n(t);return zt(t)?e:function(t,n){for(var r=-1,e=n.length,o=t.length;++r<e;)t[o+r]=n[r];return t}(e,r(t))}(t,Xt,kt)}(t):Xt(t);return function(t,n){for(var r=-1,e=t?t.length:0;++r<e&&!1!==n(t[r],r,t););}(D||t,(function(o,i){D&&(o=t[i=o]),Ft(b,i,xt(o,n,r,e,i,t,d))})),b}function Wt(t){return!(!Kt(t)||function(t){return!!Z&&Z in t}(t))&&(Qt(t)||L(t)?et:F).test(Lt(t))}function Ht(t){var n=new t.constructor(t.byteLength);return new ct(n).set(new ct(t)),n}function Dt(t,n,r,e){r||(r={});for(var o=-1,i=n.length;++o<i;){var c=n[o],a=e?e(r[c],t[c],c,r,t):void 0;Ft(r,c,void 0===a?t[c]:a)}return r}function Ut(t,r){var e,o,i=t.__data__;return("string"==(o=n(e=r))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==e:null===e)?i["string"==typeof r?"string":"hash"]:i.map}function Mt(t,n){var r=function(t,n){return null==t?void 0:t[n]}(t,n);return Wt(r)?r:void 0}Nt.prototype.clear=function(){this.__data__=bt?bt(null):{}},Nt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Nt.prototype.get=function(t){var n=this.__data__;if(bt){var r=n[t];return r===e?void 0:r}return nt.call(n,t)?n[t]:void 0},Nt.prototype.has=function(t){var n=this.__data__;return bt?void 0!==n[t]:nt.call(n,t)},Nt.prototype.set=function(t,n){return this.__data__[t]=bt&&void 0===n?e:n,this},It.prototype.clear=function(){this.__data__=[]},It.prototype.delete=function(t){var n=this.__data__,r=Rt(n,t);return!(r<0)&&(r==n.length-1?n.pop():st.call(n,r,1),!0)},It.prototype.get=function(t){var n=this.__data__,r=Rt(n,t);return r<0?void 0:n[r][1]},It.prototype.has=function(t){return Rt(this.__data__,t)>-1},It.prototype.set=function(t,n){var r=this.__data__,e=Rt(r,t);return e<0?r.push([t,n]):r[e][1]=n,this},Pt.prototype.clear=function(){this.__data__={hash:new Nt,map:new(yt||It),string:new Nt}},Pt.prototype.delete=function(t){return Ut(this,t).delete(t)},Pt.prototype.get=function(t){return Ut(this,t).get(t)},Pt.prototype.has=function(t){return Ut(this,t).has(t)},Pt.prototype.set=function(t,n){return Ut(this,t).set(t,n),this},Et.prototype.clear=function(){this.__data__=new It},Et.prototype.delete=function(t){return this.__data__.delete(t)},Et.prototype.get=function(t){return this.__data__.get(t)},Et.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.set=function(t,n){var r=this.__data__;if(r instanceof It){var e=r.__data__;if(!yt||e.length<199)return e.push([t,n]),this;r=this.__data__=new Pt(e)}return r.set(t,n),this};var kt=ft?z(ft,Object):function(){return[]},Ct=function(t){return rt.call(t)};function $t(t,n){return!!(n=null==n?o:n)&&("number"==typeof t||R.test(t))&&t>-1&&t%1==0&&t<n}function qt(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||X)}function Lt(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Bt(t,n){return t===n||t!=t&&n!=n}(pt&&Ct(new pt(new ArrayBuffer(1)))!=_||yt&&Ct(new yt)!=s||mt&&Ct(mt.resolve())!=h||dt&&Ct(new dt)!=y||vt&&Ct(new vt)!=b)&&(Ct=function(t){var n=rt.call(t),r=n==g?t.constructor:void 0,e=r?Lt(r):void 0;if(e)switch(e){case wt:return _;case _t:return s;case Ot:return h;case jt:return y;case St:return b}return n});var zt=Array.isArray;function Vt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!Qt(t)}var Gt=gt||function(){return!1};function Qt(t){var n=Kt(t)?rt.call(t):"";return n==u||n==l}function Kt(t){var r=n(t);return!!t&&("object"==r||"function"==r)}function Xt(t){return Vt(t)?Jt(t):function(t){if(!qt(t))return ht(t);var n=[];for(var r in Object(t))nt.call(t,r)&&"constructor"!=r&&n.push(r);return n}(t)}t.exports=function(t){return xt(t,!0,!0)}})),b=" ";function w(t){return"number"==typeof t}function _(t){return"string"==typeof t}function O(t,n){return function(t){var n=t.str,r=t.idx,e=t.stopAtNewlines,o=t.stopAtRawNbsp;if("string"!=typeof n||!n.length)return null;if(r&&"number"==typeof r||(r=0),!n[r+1])return null;if(n[r+1]&&(n[r+1].trim()||e&&"\n\r".includes(n[r+1])||o&&n[r+1]===b))return r+1;if(n[r+2]&&(n[r+2].trim()||e&&"\n\r".includes(n[r+2])||o&&n[r+2]===b))return r+2;for(var i=r+1,c=n.length;i<c;i++)if(n[i].trim()||e&&"\n\r".includes(n[i])||o&&n[i]===b)return i;return null}({str:t,idx:n,stopAtNewlines:!1,stopAtRawNbsp:!1})}function j(t,n){return function(t){var n=t.str,r=t.idx,e=t.stopAtNewlines,o=t.stopAtRawNbsp;if("string"!=typeof n||!n.length)return null;if(r&&"number"==typeof r||(r=0),r<1)return null;if(n[~-r]&&(n[~-r].trim()||e&&"\n\r".includes(n[~-r])||o&&n[~-r]===b))return~-r;if(n[r-2]&&(n[r-2].trim()||e&&"\n\r".includes(n[r-2])||o&&n[r-2]===b))return r-2;for(var i=r;i--;)if(n[i]&&(n[i].trim()||e&&"\n\r".includes(n[i])||o&&n[i]===b))return i;return null}({str:t,idx:n,stopAtNewlines:!1,stopAtRawNbsp:!1})}function S(t,n,r,e,o){if("string"!=typeof n||!n.length)return null;if(r&&"number"==typeof r||(r=0),"right"===t&&!n[r+1]||"left"===t&&!n[~-r])return null;for(var i,c,a,u,l,s=r,f=[],g=0;g<o.length;)if(_(o[g])&&o[g].length){var h=(u=o[g],l=void 0,((l={value:u,hungry:!1,optional:!1}).value.endsWith("?*")||l.value.endsWith("*?"))&&l.value.length>2?(l.value=l.value.slice(0,l.value.length-2),l.optional=!0,l.hungry=!0):l.value.endsWith("?")&&l.value.length>1?(l.value=l.value.slice(0,~-l.value.length),l.optional=!0):l.value.endsWith("*")&&l.value.length>1&&(l.value=l.value.slice(0,~-l.value.length),l.hungry=!0),l),p=h.value,y=h.optional,m=h.hungry,d="right"===t?O(n,s):j(n,s);if(!(e.i&&n[d].toLowerCase()===p.toLowerCase()||!e.i&&n[d]===p)){if(y){g+=1;continue}if(a){g+=1,a=void 0;continue}return null}var v="right"===t?O(n,d):j(n,d);m&&(e.i&&n[v].toLowerCase()===p.toLowerCase()||!e.i&&n[v]===p)?a=!0:g+=1,"right"===t&&d>s+1?f.push([s+1,d]):"left"===t&&d<~-s&&f.unshift([d+1,s]),s=d,"right"===t?(void 0===i&&(i=d),c=d):(void 0===c&&(c=d),i=d)}else g+=1;return void 0===i?null:{gaps:f,leftmostChar:i,rightmostChar:c}}function T(t,n){for(var r=arguments.length,e=new Array(r>2?r-2:0),i=2;i<r;i++)e[i-2]=arguments[i];if(!e.length)return j(t,n);var c={i:!1};return S("left",t,n,m(e[0])?o(o({},c),e.shift()):c,Array.from(e).reverse())}function A(t,n){for(var r=arguments.length,e=new Array(r>2?r-2:0),i=2;i<r;i++)e[i-2]=arguments[i];if(!e.length)return O(t,n);var c={i:!1};return S("right",t,n,m(e[0])?o(o({},c),e.shift()):c,e)}function N(t,n,r,e,o){if("string"!=typeof n||!n.length)return null;if(r&&"number"==typeof r||(r=0),"right"===t&&!n[r+1]||"left"===t&&(w(r)&&r<1||"0"===r))return null;var c=null,a=null;do{null!==(c="right"===t?A.apply(void 0,[n,w(a)?a:r].concat(i(o))):T.apply(void 0,[n,w(a)?a:r].concat(i(o))))&&(a="right"===t?c.rightmostChar:c.leftmostChar)}while(c);if(null!=a&&"right"===t&&(a+=1),null===a)return null;if("right"===t){if(n[a]&&n[a].trim())return a;var u=O(n,a);if(0===e.mode){if(u===a+1)return a;if(!(n.slice(a,u||n.length).trim()||n.slice(a,u||n.length).includes("\n")||n.slice(a,u||n.length).includes("\r")))return u?~-u:n.length;for(var l=a,s=n.length;l<s;l++)if("\n\r".includes(n[l]))return l}else{if(1===e.mode)return a;if(2===e.mode){var f=n.slice(a);if(f.trim()||f.includes("\n")||f.includes("\r"))for(var g=a,h=n.length;g<h;g++)if(n[g].trim()||"\n\r".includes(n[g]))return g;return n.length}}return u||n.length}if(n[a]&&n[~-a]&&n[~-a].trim())return a;var p=j(n,a);if(0===e.mode){if(p===a-2)return a;if(n.slice(0,a).trim()||n.slice(0,a).includes("\n")||n.slice(0,a).includes("\r"))for(var y=a;y--;)if("\n\r".includes(n[y])||n[y].trim())return y+1+(n[y].trim()?1:0);return 0}if(1===e.mode)return a;if(2===e.mode){var m=n.slice(0,a);if(m.trim()||m.includes("\n")||m.includes("\r"))for(var d=a;d--;)if(n[d].trim()||"\n\r".includes(n[d]))return d+1;return 0}return null!==p?p+1:0}function I(t,n){if(!Array.isArray(t)||!t.length)return t;var r,e,i=o(o({},{strictlyTwoElementsInRangeArrays:!1,progressFn:null}),n);if(i.strictlyTwoElementsInRangeArrays&&!t.filter((function(t){return t})).every((function(t,n){return 2===t.length||(r=n,e=t.length,!1)})))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ".concat(r,"th range (").concat(JSON.stringify(t[r],null,4),") has not two but ").concat(e," elements!"));if(!t.filter((function(t){return t})).every((function(t,n){return!(!Number.isInteger(t[0])||t[0]<0||!Number.isInteger(t[1])||t[1]<0)||(r=n,!1)})))throw new TypeError("ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ".concat(r,"th range (").concat(JSON.stringify(t[r],null,4),") does not consist of only natural numbers!"));var c=Math.pow(t.filter((function(t){return t})).length,2),a=0;return Array.from(t).filter((function(t){return t})).sort((function(t,n){return i.progressFn&&(a+=1,i.progressFn(Math.floor(100*a/c))),t[0]===n[0]?t[1]<n[1]?-1:t[1]>n[1]?1:0:t[0]<n[0]?-1:1}))}function P(t,r){function e(t){return t&&"object"===n(t)&&!Array.isArray(t)}if(!Array.isArray(t)||!t.length)return null;var c,a={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};if(r){if(!e(r))throw new Error("emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:\n".concat(JSON.stringify(r,null,4)," (type ").concat(n(r),")"));if((c=o(o({},a),r)).progressFn&&e(c.progressFn)&&!Object.keys(c.progressFn).length)c.progressFn=null;else if(c.progressFn&&"function"!=typeof c.progressFn)throw new Error('ranges-merge: [THROW_ID_01] opts.progressFn must be a function! It was given of a type: "'.concat(n(c.progressFn),'", equal to ').concat(JSON.stringify(c.progressFn,null,4)));if(c.mergeType&&1!=+c.mergeType&&2!=+c.mergeType)throw new Error('ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'.concat(n(c.mergeType),'", equal to ').concat(JSON.stringify(c.mergeType,null,4)));if("boolean"!=typeof c.joinRangesThatTouchEdges)throw new Error('ranges-merge: [THROW_ID_04] opts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "'.concat(n(c.joinRangesThatTouchEdges),'", equal to ').concat(JSON.stringify(c.joinRangesThatTouchEdges,null,4)))}else c=o({},a);for(var u,l,s,f=t.filter((function(t){return t})).map((function(t){return i(t)})).filter((function(t){return void 0!==t[2]||t[0]!==t[1]})),g=(u=c.progressFn?I(f,{progressFn:function(t){(s=Math.floor(t/5))!==l&&(l=s,c.progressFn(s))}}):I(f)).length-1,h=g;h>0;h--)c.progressFn&&(s=Math.floor(78*(1-h/g))+21)!==l&&s>l&&(l=s,c.progressFn(s)),(u[h][0]<=u[h-1][0]||!c.joinRangesThatTouchEdges&&u[h][0]<u[h-1][1]||c.joinRangesThatTouchEdges&&u[h][0]<=u[h-1][1])&&(u[h-1][0]=Math.min(u[h][0],u[h-1][0]),u[h-1][1]=Math.max(u[h][1],u[h-1][1]),void 0!==u[h][2]&&(u[h-1][0]>=u[h][0]||u[h-1][1]<=u[h][1])&&null!==u[h-1][2]&&(null===u[h][2]&&null!==u[h-1][2]?u[h-1][2]=null:void 0!==u[h-1][2]?2==+c.mergeType&&u[h-1][0]===u[h][0]?u[h-1][2]=u[h][2]:u[h-1][2]+=u[h][2]:u[h-1][2]=u[h][2]),u.splice(h,1),h=u.length);return u.length?u:null}function E(t){return null!=t}function J(t){return"string"==typeof t}function F(t,r,e){var o,i=0,c=0;if(0===arguments.length)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if(!J(t))throw new TypeError("ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ".concat(n(t),", equal to: ").concat(JSON.stringify(t,null,4)));if(r&&!Array.isArray(r))throw new TypeError("ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ".concat(n(r),", equal to: ").concat(JSON.stringify(r,null,4)));if(e&&"function"!=typeof e)throw new TypeError("ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ".concat(n(e),", equal to: ").concat(JSON.stringify(e,null,4)));if(!r||!r.filter((function(t){return t})).length)return t;var a=(o=Array.isArray(r)&&(Number.isInteger(r[0])&&r[0]>=0||/^\d*$/.test(r[0]))&&(Number.isInteger(r[1])&&r[1]>=0||/^\d*$/.test(r[1]))?[Array.from(r)]:Array.from(r)).length,u=0;o.filter((function(t){return t})).forEach((function(t,r){if(e&&(i=Math.floor(u/a*10))!==c&&(c=i,e(i)),!Array.isArray(t))throw new TypeError("ranges-apply: [THROW_ID_05] ranges array, second input arg., has ".concat(r,"th element not an array: ").concat(JSON.stringify(t,null,4),", which is ").concat(n(t)));if(!Number.isInteger(t[0])||t[0]<0){if(!/^\d*$/.test(t[0]))throw new TypeError("ranges-apply: [THROW_ID_06] ranges array, second input arg. has ".concat(r,"th element, array [").concat(t[0],",").concat(t[1],"]. That array has first element not an integer, but ").concat(n(t[0]),", equal to: ").concat(JSON.stringify(t[0],null,4),". Computer doesn't like this."));o[r][0]=Number.parseInt(o[r][0],10)}if(!Number.isInteger(t[1])){if(!/^\d*$/.test(t[1]))throw new TypeError("ranges-apply: [THROW_ID_07] ranges array, second input arg. has ".concat(r,"th element, array [").concat(t[0],",").concat(t[1],"]. That array has second element not an integer, but ").concat(n(t[1]),", equal to: ").concat(JSON.stringify(t[1],null,4),". Computer doesn't like this."));o[r][1]=Number.parseInt(o[r][1],10)}u+=1}));var l=P(o,{progressFn:function(t){e&&(i=10+Math.floor(t/10))!==c&&(c=i,e(i))}});if(!l)return t;var s=l.length;if(s>0){var f=t.slice(l[s-1][1]);t=l.reduce((function(n,r,o,a){e&&(i=20+Math.floor(o/s*80))!==c&&(c=i,e(i));var u=0===o?0:a[o-1][1],l=a[o][0];return n+t.slice(u,l)+(E(a[o][2])?a[o][2]:"")}),""),t+=f}return t}var R=Array.isArray;function x(t){return"string"==typeof t}function W(t){return"number"==typeof t}function H(t){return R(t)?t.join("."):x(t)?t:String(t)}function D(t,r){if("\\"!==t[r])return!0;var e=function(t,r){for(var e=arguments.length,i=new Array(e>2?e-2:0),c=2;c<e;c++)i[c-2]=arguments[c];if(!i.length||1===i.length&&m(i[0]))return null;var a={mode:0};if(m(i[0])){var u=o(o({},a),v(i[0]));if(u.mode){if(_(u.mode)&&"0123".includes(u.mode))u.mode=Number.parseInt(u.mode,10);else if(!w(u.mode))throw new Error("string-left-right/chompLeft(): [THROW_ID_01] the opts.mode is wrong! It should be 0, 1, 2 or 3. It was given as ".concat(u.mode," (type ").concat(n(u.mode),")"))}else u.mode=0;return N("left",t,r,u,v(i).slice(1))}return _(i[0])?N("left",t,r,a,v(i)):N("left",t,r,a,v(i).slice(1))}(t,r,{mode:1},"\\");return!(!W(e)||(r-e)%2==0)}function U(t){var n,r=t.str,e=t.path,o=t.valToInsert,i=t.mode;function c(t){r[n]}var a=r.length,u=[];c();var l=["{","}","[","]",":",","],s=o;!x(o)||o.startsWith('"')||o.startsWith("{")||(s='"'.concat(o,'"'));var f,g,h,p,y,m,d,v=[],b=[],w=!1,_=!1,S=!1,T=!1,A=[];function N(){f=null,g=null,h=null,p=null,y=null,m=null}N();var I,P=[];for(n=0;n<a;n++){if(c("\n[".concat(36,"m","===============================","[",39,"m [",35,"m","str[ ".concat(n," ] = ").concat(r[n]&&r[n].trim()?r[n]:JSON.stringify(r[n],null,0)),"[",39,"m [",36,"m","===============================","[",39,"m\n")),W(d)||"["!==r[n-1]||(_=!0,"]"!==r[n]&&(w=!1)),W(d)||"{"!==r[n-1]||(w=!0,"}"!==r[n]&&(_=!1)),W(d)||"{"!==r[n]||!D(r,n-1)||S||(_&&(T||(c("198 ".concat("[".concat(33,"m","currentPath","[",39,"m")," = ",JSON.stringify(P,null,4))),P[P.length-1]=P[P.length-1]+1,c())),v.push(n),c("215 ".concat("[".concat(32,"m","PUSH","[",39,"m")," ","[".concat(33,"m","withinObjectIndexes","[",39,"m")," = ",JSON.stringify(v,null,4)))),W(d)||"}"!==r[n]||!D(r,n-1)||S||(v.pop(),c("231 ".concat("[".concat(31,"m","POP","[",39,"m")," ","[".concat(33,"m","withinObjectIndexes","[",39,"m")," = ",JSON.stringify(v,null,4)))),W(d)||"]"!==r[n]||!D(r,n-1)||S||(b.pop(),c("248 ".concat("[".concat(32,"m","POP","[",39,"m")," ","[".concat(33,"m","withinArrayIndexes","[",39,"m")," = ",JSON.stringify(b,null,4))),P.pop(),c("256 POP path, now = ".concat(JSON.stringify(P,null,4))),c(),N(),T&&(T=!1,c())),W(d)||"]"!==r[n]||(b.length?b.length&&(!v.length||b[b.length-1]>v[v.length-1])&&(_=!0):(_=!1,v.length&&!w&&(w=!0))),W(d)||"}"!==r[n]||(v.length?(!b.length||v[v.length-1]>b[b.length-1])&&(w=!0):w=!1),_&&H(e)===P.join(".")&&!S&&r[n].trim()&&(S=!0,c(),h=n,c()),W(d)||"["!==r[n]||!D(r,n-1)||S||(b.push(n),T=!0,c("348 ".concat("[".concat(32,"m","PUSH","[",39,"m")," ","[".concat(33,"m","withinArrayIndexes","[",39,"m")," = ",JSON.stringify(b,null,4),"; ","[".concat(33,"m","itsTheFirstElem","[",39,"m")," = ").concat(T)),P.push(0),c("359 ".concat("[".concat(32,"m","PUSH","[",39,"m")," zero to path, now = ",JSON.stringify(P,null,0)))),_&&","===r[n]&&T&&(!h||p)&&(T=!1,c()),S||h||!r[n].trim()||l.includes(r[n])||!(_||!_&&y)||(c(),h=n,c(),_&&(T?(T=!1,c()):(P[P.length-1]=P[P.length-1]+1,c()))),!S&&!W(d)&&(_||!_&&y)&&h&&h<n&&!p&&('"'===r[h]&&'"'===r[n]&&"\\"!==r[n-1]||'"'!==r[h]&&!r[n].trim()||["}",","].includes(r[n]))&&(c(),m=r.slice(h,'"'===r[h]?n+1:n),c(),p=n,c()),S||_||'"'!==r[n]||"\\"===r[n-1]||y||f||g||!r[n+1]||(f=n+1,c()),!S&&!_&&'"'===r[n]&&"\\"!==r[n-1]&&!g&&f&&!h&&f<n&&(g=n+1,y=r.slice(f,n),c(),P.push(y),c("506 PUSH to path, now = ".concat(JSON.stringify(P,null,4))),H(e)===P.join(".")&&(S=!0,c())),S||W(d)||","!==r[n]||!w||(P.pop(),c("535 POP(), now ".concat("[".concat(33,"m","currentPath","[",39,"m")," = ",JSON.stringify(P,null,0)))),!S&&(p&&n>=p||["}","]"].includes(r[j(r,n)])&&["}","]"].includes(r[n])||"}"===r[n]&&"{"===r[j(r,n)])&&r[n].trim()&&(c(),","!==r[n]||["}","]"].includes(r[O(r,n)])?"}"===r[n]&&(c(),(p||"{"!==r[j(r,n)])&&(P.pop(),c("569 POP(), now ".concat("[".concat(33,"m","currentPath","[",39,"m")," = ",JSON.stringify(P,null,0)))),c(),c(),b.length&&v.length&&b[b.length-1]>v[v.length-1]&&(w=!1,_=!0),c(),N()):(c(),N())),S||"{"!==r[n]||!x(y)||h||m||(c(),N()),r[n].trim()&&S&&!h&&n>g&&![":"].includes(r[n])&&(h=n,c()),'"'===r[n]&&D(r,n-1)&&(W(f)&&!g||W(h)&&!p)&&!W(d)&&(d=n,c()),A.length&&r[n]===A[A.length-1]&&D(r,n-1)?(A.pop(),c("677 ".concat("[".concat(32,"m","POP","[",39,"m")," skipUntilTheFollowingIsMet = ",JSON.stringify(A,null,4)))):d&&d!==n||!S||_||!h||("{"===r[n]&&D(r,n-1)?(A.push("}"),c("695 ".concat("[".concat(32,"m","PUSH","[",39,"m")," ","[".concat(33,"m","skipUntilTheFollowingIsMet","[",39,"m")," = ",JSON.stringify(A,null,4)))):"["===r[n]&&D(r,n-1)?(A.push("]"),c("705 ".concat("[".concat(32,"m","PUSH","[",39,"m")," ","[".concat(33,"m","skipUntilTheFollowingIsMet","[",39,"m")," = ",JSON.stringify(A,null,4)))):'"'===r[n]&&D(r,n-1)&&(A.push('"'),c("715 ".concat("[".concat(32,"m","PUSH","[",39,"m")," ","[".concat(33,"m","skipUntilTheFollowingIsMet","[",39,"m")," = ",JSON.stringify(A,null,4))))),'"'===r[n]&&D(r,n-1)&&W(d)&&d!==n&&(d=void 0,c()),S&&R(A)&&!A.length&&h&&n>h&&(c(),!d&&("["===r[h]&&"]"===r[n]||"{"===r[h]&&"}"===r[n]||'"'===r[h]&&'"'===r[n]||!["[","{",'"'].includes(r[h])&&r[h].trim()&&(!r[n].trim()||l.includes(r[n])&&D(r,n-1))))){if(c("780 INSIDE CATCH-END CLAUSES currently ".concat("[".concat(33,"m","str[valueStartedAt=".concat(h,"]"),"[",39,"m")," = ",JSON.stringify(r[h],null,4))),"set"===i){c();var E="";r.slice(h,n+(r[n].trim()?1:0)).includes("\n")&&"\n"!==r[n+(r[n].trim()?1:0)]&&(E="\n");var J=n+(r[n].trim()?1:0);return(_&&!['"',"[","{"].includes(r[h])&&"]"!==r[O(r,J-1)]||","===r[J-1]&&'"'!==r[h-1])&&(J-=1),_&&'"'===r[h-1]&&(h-=1),"".concat(r.slice(0,h)).concat((I=s,x(I)&&I.startsWith('"')&&I.endsWith('"')?"".concat(JSON.stringify(I.slice(1,I.length-1),null,0)):JSON.stringify(I,null,0))).concat(E).concat(r.slice(J))}if("del"===i){c(),c("851 ".concat("[".concat(33,"m","keyStartedAt","[",39,"m")," = ",JSON.stringify(f,null,4),"; val = ").concat((_?h:f)-1));var U=j(r,(_?h:f)-1)+1;c();var M=n+(r[n].trim()?1:0);","===r[U-1]&&["}","]"].includes(r[O(r,M-1)])&&(U-=1,c()),","===r[M]&&(M+=1,c()),c("883 ".concat("[".concat(33,"m","startingPoint","[",39,"m")," = ",JSON.stringify(U,null,4),"; ","[".concat(33,"m","endingPoint","[",39,"m")," = ").concat(JSON.stringify(M,null,4),";")),u.push([U,M]),c("896 ".concat("[".concat(32,"m","FINAL PUSH","[",39,"m")," ","[".concat(33,"m","ranges","[",39,"m")," = ",JSON.stringify(u,null,4))),c();break}}c("".concat("[".concat(d?32:31,"m","withinQuotesSince".concat(W(d)?"=".concat(d):""),"[",39,"m"),"; ","[".concat(w?32:31,"m","currentlyWithinObject","[",39,"m"),"; ","[".concat(_?32:31,"m","currentlyWithinArray","[",39,"m"),"; ","[".concat(S?32:31,"m","replaceThisValue","[",39,"m"),"; ","[".concat(T?32:31,"m","itsTheFirstElem","[",39,"m"),"; ","[".concat(A.length?32:31,"m","skipUntilTheFollowingIsMet".concat(A?": ".concat(JSON.stringify(A,null,0)):""),"[",39,"m"))),c("current path: ".concat(JSON.stringify(P.join("."),null,0))),c(),c("".concat("[".concat(33,"m","withinArrayIndexes","[",39,"m")," = ",JSON.stringify(b,null,0),"; ","[".concat(33,"m","withinObjectIndexes","[",39,"m")," = ").concat(JSON.stringify(v,null,0),";"))}return c(),c("947 RETURN applied ".concat(JSON.stringify(F(r,u),null,4))),F(r,u)}t.del=function(t,r){if(!x(t)||!t.length)throw new Error("edit-package-json/del(): [THROW_ID_02] first input argument must be a non-empty string. It was given as ".concat(JSON.stringify(t,null,4)," (type ").concat(n(t),")"));return U({str:t,path:r,mode:"del"})},t.set=function(t,r,e){if(!x(t)||!t.length)throw new Error("edit-package-json/set(): [THROW_ID_01] first input argument must be a non-empty string. It was given as ".concat(JSON.stringify(t,null,4)," (type ").concat(n(t),")"));return U({str:t,path:r,valToInsert:e,mode:"set"})},Object.defineProperty(t,"__esModule",{value:!0})}));
