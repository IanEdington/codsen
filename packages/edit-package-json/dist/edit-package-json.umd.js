/**
 * edit-package-json
 * Edit package.json without parsing, as string, keep indentation etc intact
 * Version: 0.1.31
 * Author: Roy Revelt, Codsen Ltd
 * License: MIT
 * Homepage: https://gitlab.com/codsen/codsen/tree/master/packages/edit-package-json
 */

!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).editPackageJson={})}(this,(function(t){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function e(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function o(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach((function(n){r(t,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))}))}return t}function i(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return c(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}var a,u,l=Function.prototype,s=Object.prototype,f=l.toString,g=s.hasOwnProperty,h=f.call(Object),p=s.toString,y=(a=Object.getPrototypeOf,u=Object,function(t){return a(u(t))});var m=function(t){if(!function(t){return!!t&&"object"==n(t)}(t)||"[object Object]"!=p.call(t)||function(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(t){}return n}(t))return!1;var r=y(t);if(null===r)return!0;var e=g.call(r,"constructor")&&r.constructor;return"function"==typeof e&&e instanceof e&&f.call(e)==h},d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var b=function(t,n,r){return t(r={path:n,exports:{},require:function(t,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&r.path)}},r.exports),r.exports}((function(t,r){var e="[object Arguments]",o="[object Boolean]",i="[object Function]",c="[object GeneratorFunction]",a="[object Map]",u="[object Set]",l="[object DataView]",s="[object Float32Array]",f="[object Float64Array]",g="[object Int8Array]",h="[object Int16Array]",p="[object Int32Array]",y="[object Uint8Array]",m="[object Uint16Array]",b="[object Uint32Array]",v=/\w*$/,_=/^\[object .+?Constructor\]$/,w=/^(?:0|[1-9]\d*)$/,O={};O[e]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O[a]=O["[object Number]"]=O["[object Object]"]=O["[object RegExp]"]=O[u]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[i]=O["[object WeakMap]"]=!1;var j="object"==n(d)&&d&&d.Object===Object&&d,S="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,T=j||S||Function("return this")(),A=r&&!r.nodeType&&r,I=A&&t&&!t.nodeType&&t,N=I&&I.exports===A;function P(t,n){return t.set(n[0],n[1]),t}function E(t,n){return t.add(n),t}function J(t,n,r,e){var o=-1,i=t?t.length:0;for(e&&i&&(r=t[++o]);++o<i;)r=n(r,t[o],o,t);return r}function F(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(t){}return n}function R(t){var n=-1,r=Array(t.size);return t.forEach((function(t,e){r[++n]=[e,t]})),r}function W(t,n){return function(r){return t(n(r))}}function x(t){var n=-1,r=Array(t.size);return t.forEach((function(t){r[++n]=t})),r}var D,H=Array.prototype,U=Function.prototype,k=Object.prototype,M=T["__core-js_shared__"],C=(D=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",$=U.toString,q=k.hasOwnProperty,L=k.toString,B=RegExp("^"+$.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=N?T.Buffer:void 0,z=T.Symbol,G=T.Uint8Array,Q=W(Object.getPrototypeOf,Object),K=Object.create,X=k.propertyIsEnumerable,Y=H.splice,Z=Object.getOwnPropertySymbols,tt=V?V.isBuffer:void 0,nt=W(Object.keys,Object),rt=It(T,"DataView"),et=It(T,"Map"),ot=It(T,"Promise"),it=It(T,"Set"),ct=It(T,"WeakMap"),at=It(Object,"create"),ut=Ft(rt),lt=Ft(et),st=Ft(ot),ft=Ft(it),gt=Ft(ct),ht=z?z.prototype:void 0,pt=ht?ht.valueOf:void 0;function yt(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function mt(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function dt(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function bt(t){this.__data__=new mt(t)}function vt(t,r){var o=Wt(t)||function(t){return function(t){return function(t){return!!t&&"object"==n(t)}(t)&&xt(t)}(t)&&q.call(t,"callee")&&(!X.call(t,"callee")||L.call(t)==e)}(t)?function(t,n){for(var r=-1,e=Array(t);++r<t;)e[r]=n(r);return e}(t.length,String):[],i=o.length,c=!!i;for(var a in t)!r&&!q.call(t,a)||c&&("length"==a||Et(a,i))||o.push(a);return o}function _t(t,n,r){var e=t[n];q.call(t,n)&&Rt(e,r)&&(void 0!==r||n in t)||(t[n]=r)}function wt(t,n){for(var r=t.length;r--;)if(Rt(t[r][0],n))return r;return-1}function Ot(t,n,r,d,_,w,j){var S;if(d&&(S=w?d(t,_,w,j):d(t)),void 0!==S)return S;if(!Ut(t))return t;var T=Wt(t);if(T){if(S=function(t){var n=t.length,r=t.constructor(n);n&&"string"==typeof t[0]&&q.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!n)return function(t,n){var r=-1,e=t.length;n||(n=Array(e));for(;++r<e;)n[r]=t[r];return n}(t,S)}else{var A=Pt(t),I=A==i||A==c;if(Dt(t))return function(t,n){if(n)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,n);if("[object Object]"==A||A==e||I&&!w){if(F(t))return w?t:{};if(S=function(t){return"function"!=typeof t.constructor||Jt(t)?{}:(n=Q(t),Ut(n)?K(n):{});var n}(I?{}:t),!n)return function(t,n){return Tt(t,Nt(t),n)}(t,function(t,n){return t&&Tt(n,kt(n),t)}(S,t))}else{if(!O[A])return w?t:{};S=function(t,n,r,e){var i=t.constructor;switch(n){case"[object ArrayBuffer]":return St(t);case o:case"[object Date]":return new i(+t);case l:return function(t,n){var r=n?St(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,e);case s:case f:case g:case h:case p:case y:case"[object Uint8ClampedArray]":case m:case b:return function(t,n){var r=n?St(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,e);case a:return function(t,n,r){return J(n?r(R(t),!0):R(t),P,new t.constructor)}(t,e,r);case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function(t){var n=new t.constructor(t.source,v.exec(t));return n.lastIndex=t.lastIndex,n}(t);case u:return function(t,n,r){return J(n?r(x(t),!0):x(t),E,new t.constructor)}(t,e,r);case"[object Symbol]":return c=t,pt?Object(pt.call(c)):{}}var c}(t,A,Ot,n)}}j||(j=new bt);var N=j.get(t);if(N)return N;if(j.set(t,S),!T)var W=r?function(t){return function(t,n,r){var e=n(t);return Wt(t)?e:function(t,n){for(var r=-1,e=n.length,o=t.length;++r<e;)t[o+r]=n[r];return t}(e,r(t))}(t,kt,Nt)}(t):kt(t);return function(t,n){for(var r=-1,e=t?t.length:0;++r<e&&!1!==n(t[r],r,t););}(W||t,(function(e,o){W&&(e=t[o=e]),_t(S,o,Ot(e,n,r,d,o,t,j))})),S}function jt(t){return!(!Ut(t)||function(t){return!!C&&C in t}(t))&&(Ht(t)||F(t)?B:_).test(Ft(t))}function St(t){var n=new t.constructor(t.byteLength);return new G(n).set(new G(t)),n}function Tt(t,n,r,e){r||(r={});for(var o=-1,i=n.length;++o<i;){var c=n[o],a=e?e(r[c],t[c],c,r,t):void 0;_t(r,c,void 0===a?t[c]:a)}return r}function At(t,r){var e,o,i=t.__data__;return("string"==(o=n(e=r))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==e:null===e)?i["string"==typeof r?"string":"hash"]:i.map}function It(t,n){var r=function(t,n){return null==t?void 0:t[n]}(t,n);return jt(r)?r:void 0}yt.prototype.clear=function(){this.__data__=at?at(null):{}},yt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},yt.prototype.get=function(t){var n=this.__data__;if(at){var r=n[t];return"__lodash_hash_undefined__"===r?void 0:r}return q.call(n,t)?n[t]:void 0},yt.prototype.has=function(t){var n=this.__data__;return at?void 0!==n[t]:q.call(n,t)},yt.prototype.set=function(t,n){return this.__data__[t]=at&&void 0===n?"__lodash_hash_undefined__":n,this},mt.prototype.clear=function(){this.__data__=[]},mt.prototype.delete=function(t){var n=this.__data__,r=wt(n,t);return!(r<0)&&(r==n.length-1?n.pop():Y.call(n,r,1),!0)},mt.prototype.get=function(t){var n=this.__data__,r=wt(n,t);return r<0?void 0:n[r][1]},mt.prototype.has=function(t){return wt(this.__data__,t)>-1},mt.prototype.set=function(t,n){var r=this.__data__,e=wt(r,t);return e<0?r.push([t,n]):r[e][1]=n,this},dt.prototype.clear=function(){this.__data__={hash:new yt,map:new(et||mt),string:new yt}},dt.prototype.delete=function(t){return At(this,t).delete(t)},dt.prototype.get=function(t){return At(this,t).get(t)},dt.prototype.has=function(t){return At(this,t).has(t)},dt.prototype.set=function(t,n){return At(this,t).set(t,n),this},bt.prototype.clear=function(){this.__data__=new mt},bt.prototype.delete=function(t){return this.__data__.delete(t)},bt.prototype.get=function(t){return this.__data__.get(t)},bt.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.set=function(t,n){var r=this.__data__;if(r instanceof mt){var e=r.__data__;if(!et||e.length<199)return e.push([t,n]),this;r=this.__data__=new dt(e)}return r.set(t,n),this};var Nt=Z?W(Z,Object):function(){return[]},Pt=function(t){return L.call(t)};function Et(t,n){return!!(n=null==n?9007199254740991:n)&&("number"==typeof t||w.test(t))&&t>-1&&t%1==0&&t<n}function Jt(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||k)}function Ft(t){if(null!=t){try{return $.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Rt(t,n){return t===n||t!=t&&n!=n}(rt&&Pt(new rt(new ArrayBuffer(1)))!=l||et&&Pt(new et)!=a||ot&&"[object Promise]"!=Pt(ot.resolve())||it&&Pt(new it)!=u||ct&&"[object WeakMap]"!=Pt(new ct))&&(Pt=function(t){var n=L.call(t),r="[object Object]"==n?t.constructor:void 0,e=r?Ft(r):void 0;if(e)switch(e){case ut:return l;case lt:return a;case st:return"[object Promise]";case ft:return u;case gt:return"[object WeakMap]"}return n});var Wt=Array.isArray;function xt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!Ht(t)}var Dt=tt||function(){return!1};function Ht(t){var n=Ut(t)?L.call(t):"";return n==i||n==c}function Ut(t){var r=n(t);return!!t&&("object"==r||"function"==r)}function kt(t){return xt(t)?vt(t):function(t){if(!Jt(t))return nt(t);var n=[];for(var r in Object(t))q.call(t,r)&&"constructor"!=r&&n.push(r);return n}(t)}t.exports=function(t){return Ot(t,!0,!0)}}));function v(t){return"number"==typeof t}function _(t){return"string"==typeof t}function w(t,n){return function(t,n,r){if("string"!=typeof t||!t.length)return null;if(n&&"number"==typeof n||(n=0),!t[n+1])return null;if(t[n+1]&&(!r&&t[n+1].trim()||r&&(t[n+1].trim()||"\n\r".includes(t[n+1]))))return n+1;if(t[n+2]&&(!r&&t[n+2].trim()||r&&(t[n+2].trim()||"\n\r".includes(t[n+2]))))return n+2;for(var e=n+1,o=t.length;e<o;e++)if(t[e]&&(!r&&t[e].trim()||r&&(t[e].trim()||"\n\r".includes(t[e]))))return e;return null}(t,n,!1)}function O(t,n){return function(t,n,r){if("string"!=typeof t||!t.length)return null;if(n&&"number"==typeof n||(n=0),n<1)return null;if(t[~-n]&&(!r&&t[~-n].trim()||r&&(t[~-n].trim()||"\n\r".includes(t[~-n]))))return~-n;if(t[n-2]&&(!r&&t[n-2].trim()||r&&(t[n-2].trim()||"\n\r".includes(t[n-2]))))return n-2;for(var e=n;e--;)if(t[e]&&(!r&&t[e].trim()||r&&(t[e].trim()||"\n\r".includes(t[e]))))return e;return null}(t,n,!1)}function j(t,n,r,e,o){if("string"!=typeof n||!n.length)return null;if(r&&"number"==typeof r||(r=0),"right"===t&&!n[r+1]||"left"===t&&!n[~-r])return null;for(var i,c,a,u,l,s=r,f=[],g=0;g<o.length;)if(_(o[g])&&o[g].length){var h=(u=o[g],l=void 0,((l={value:u,hungry:!1,optional:!1}).value.endsWith("?*")||l.value.endsWith("*?"))&&l.value.length>2?(l.value=l.value.slice(0,l.value.length-2),l.optional=!0,l.hungry=!0):l.value.endsWith("?")&&l.value.length>1?(l.value=l.value.slice(0,~-l.value.length),l.optional=!0):l.value.endsWith("*")&&l.value.length>1&&(l.value=l.value.slice(0,~-l.value.length),l.hungry=!0),l),p=h.value,y=h.optional,m=h.hungry,d="right"===t?w(n,s):O(n,s);if(!(e.i&&n[d].toLowerCase()===p.toLowerCase()||!e.i&&n[d]===p)){if(y){g+=1;continue}if(a){g+=1,a=void 0;continue}return null}var b="right"===t?w(n,d):O(n,d);m&&(e.i&&n[b].toLowerCase()===p.toLowerCase()||!e.i&&n[b]===p)?a=!0:g+=1,"right"===t&&d>s+1?f.push([s+1,d]):"left"===t&&d<~-s&&f.unshift([d+1,s]),s=d,"right"===t?(void 0===i&&(i=d),c=d):(void 0===c&&(c=d),i=d)}else g+=1;return void 0===i?null:{gaps:f,leftmostChar:i,rightmostChar:c}}function S(t,n){for(var r=arguments.length,e=new Array(r>2?r-2:0),i=2;i<r;i++)e[i-2]=arguments[i];if(!e.length)return O(t,n);var c={i:!1};return j("left",t,n,m(e[0])?o(o({},c),e.shift()):c,Array.from(e).reverse())}function T(t,n){for(var r=arguments.length,e=new Array(r>2?r-2:0),i=2;i<r;i++)e[i-2]=arguments[i];if(!e.length)return w(t,n);var c={i:!1};return j("right",t,n,m(e[0])?o(o({},c),e.shift()):c,e)}function A(t,n,r,e,o){if("string"!=typeof n||!n.length)return null;if(r&&"number"==typeof r||(r=0),"right"===t&&!n[r+1]||"left"===t&&(v(r)&&r<1||"0"===r))return null;var c=null,a=null;do{null!==(c="right"===t?T.apply(void 0,[n,v(a)?a:r].concat(i(o))):S.apply(void 0,[n,v(a)?a:r].concat(i(o))))&&(a="right"===t?c.rightmostChar:c.leftmostChar)}while(c);if(null!=a&&"right"===t&&(a+=1),null===a)return null;if("right"===t){if(n[a]&&n[a].trim())return a;var u=w(n,a);if(0===e.mode){if(u===a+1)return a;if(!(n.slice(a,u||n.length).trim()||n.slice(a,u||n.length).includes("\n")||n.slice(a,u||n.length).includes("\r")))return u?~-u:n.length;for(var l=a,s=n.length;l<s;l++)if("\n\r".includes(n[l]))return l}else{if(1===e.mode)return a;if(2===e.mode){var f=n.slice(a);if(f.trim()||f.includes("\n")||f.includes("\r"))for(var g=a,h=n.length;g<h;g++)if(n[g].trim()||"\n\r".includes(n[g]))return g;return n.length}}return u||n.length}if(n[a]&&n[~-a]&&n[~-a].trim())return a;var p=O(n,a);if(0===e.mode){if(p===a-2)return a;if(n.slice(0,a).trim()||n.slice(0,a).includes("\n")||n.slice(0,a).includes("\r"))for(var y=a;y--;)if("\n\r".includes(n[y])||n[y].trim())return y+1+(n[y].trim()?1:0);return 0}if(1===e.mode)return a;if(2===e.mode){var m=n.slice(0,a);if(m.trim()||m.includes("\n")||m.includes("\r"))for(var d=a;d--;)if(n[d].trim()||"\n\r".includes(n[d]))return d+1;return 0}return null!==p?p+1:0}function I(t,n){if(!Array.isArray(t)||!t.length)return t;var r,e,i=o(o({},{strictlyTwoElementsInRangeArrays:!1,progressFn:null}),n);if(i.strictlyTwoElementsInRangeArrays&&!t.every((function(t,n){return 2===t.length||(r=n,e=t.length,!1)})))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ".concat(r,"th range (").concat(JSON.stringify(t[r],null,4),") has not two but ").concat(e," elements!"));if(!t.every((function(t,n){return!(!Number.isInteger(t[0])||t[0]<0||!Number.isInteger(t[1])||t[1]<0)||(r=n,!1)})))throw new TypeError("ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ".concat(r,"th range (").concat(JSON.stringify(t[r],null,4),") does not consist of only natural numbers!"));var c=t.length*t.length,a=0;return Array.from(t).sort((function(t,n){return i.progressFn&&(a+=1,i.progressFn(Math.floor(100*a/c))),t[0]===n[0]?t[1]<n[1]?-1:t[1]>n[1]?1:0:t[0]<n[0]?-1:1}))}function N(t,r){function e(t){return"string"==typeof t}function c(t){return t&&"object"===n(t)&&!Array.isArray(t)}if(!Array.isArray(t)||!t.length)return t;var a,u={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};if(r){if(!c(r))throw new Error("emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:\n".concat(JSON.stringify(r,null,4)," (type ").concat(n(r),")"));if((a=o(o({},u),r)).progressFn&&c(a.progressFn)&&!Object.keys(a.progressFn).length)a.progressFn=null;else if(a.progressFn&&"function"!=typeof a.progressFn)throw new Error('ranges-merge: [THROW_ID_01] opts.progressFn must be a function! It was given of a type: "'.concat(n(a.progressFn),'", equal to ').concat(JSON.stringify(a.progressFn,null,4)));if(a.mergeType&&1!==a.mergeType&&2!==a.mergeType)if(e(a.mergeType)&&"1"===a.mergeType.trim())a.mergeType=1;else{if(!e(a.mergeType)||"2"!==a.mergeType.trim())throw new Error('ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'.concat(n(a.mergeType),'", equal to ').concat(JSON.stringify(a.mergeType,null,4)));a.mergeType=2}if("boolean"!=typeof a.joinRangesThatTouchEdges)throw new Error('ranges-merge: [THROW_ID_04] opts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "'.concat(n(a.joinRangesThatTouchEdges),'", equal to ').concat(JSON.stringify(a.joinRangesThatTouchEdges,null,4)))}else a=o({},u);for(var l,s,f,g=t.map((function(t){return i(t)})).filter((function(t){return void 0!==t[2]||t[0]!==t[1]})),h=(l=a.progressFn?I(g,{progressFn:function(t){(f=Math.floor(t/5))!==s&&(s=f,a.progressFn(f))}}):I(g)).length-1,p=h;p>0;p--)a.progressFn&&(f=Math.floor(78*(1-p/h))+21)!==s&&f>s&&(s=f,a.progressFn(f)),(l[p][0]<=l[p-1][0]||!a.joinRangesThatTouchEdges&&l[p][0]<l[p-1][1]||a.joinRangesThatTouchEdges&&l[p][0]<=l[p-1][1])&&(l[p-1][0]=Math.min(l[p][0],l[p-1][0]),l[p-1][1]=Math.max(l[p][1],l[p-1][1]),void 0!==l[p][2]&&(l[p-1][0]>=l[p][0]||l[p-1][1]<=l[p][1])&&null!==l[p-1][2]&&(null===l[p][2]&&null!==l[p-1][2]?l[p-1][2]=null:void 0!==l[p-1][2]?2===a.mergeType&&l[p-1][0]===l[p][0]?l[p-1][2]=l[p][2]:l[p-1][2]+=l[p][2]:l[p-1][2]=l[p][2]),l.splice(p,1),p=l.length);return l}function P(t){return null!=t}function E(t){return"string"==typeof t}function J(t,r,e){var o,i=0,c=0;if(0===arguments.length)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if(!E(t))throw new TypeError("ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ".concat(n(t),", equal to: ").concat(JSON.stringify(t,null,4)));if(null===r)return t;if(!Array.isArray(r))throw new TypeError("ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ".concat(n(r),", equal to: ").concat(JSON.stringify(r,null,4)));if(e&&"function"!=typeof e)throw new TypeError("ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ".concat(n(e),", equal to: ").concat(JSON.stringify(e,null,4)));var a=(o=Array.isArray(r)&&(Number.isInteger(r[0])&&r[0]>=0||/^\d*$/.test(r[0]))&&(Number.isInteger(r[1])&&r[1]>=0||/^\d*$/.test(r[1]))?[Array.from(r)]:Array.from(r)).length,u=0;o.forEach((function(t,r){if(e&&(i=Math.floor(u/a*10))!==c&&(c=i,e(i)),!Array.isArray(t))throw new TypeError("ranges-apply: [THROW_ID_05] ranges array, second input arg., has ".concat(r,"th element not an array: ").concat(JSON.stringify(t,null,4),", which is ").concat(n(t)));if(!Number.isInteger(t[0])||t[0]<0){if(!/^\d*$/.test(t[0]))throw new TypeError("ranges-apply: [THROW_ID_06] ranges array, second input arg. has ".concat(r,"th element, array [").concat(t[0],",").concat(t[1],"]. That array has first element not an integer, but ").concat(n(t[0]),", equal to: ").concat(JSON.stringify(t[0],null,4),". Computer doesn't like this."));o[r][0]=Number.parseInt(o[r][0],10)}if(!Number.isInteger(t[1])){if(!/^\d*$/.test(t[1]))throw new TypeError("ranges-apply: [THROW_ID_07] ranges array, second input arg. has ".concat(r,"th element, array [").concat(t[0],",").concat(t[1],"]. That array has second element not an integer, but ").concat(n(t[1]),", equal to: ").concat(JSON.stringify(t[1],null,4),". Computer doesn't like this."));o[r][1]=Number.parseInt(o[r][1],10)}u+=1}));var l=N(o,{progressFn:function(t){e&&(i=10+Math.floor(t/10))!==c&&(c=i,e(i))}}),s=l.length;if(s>0){var f=t.slice(l[s-1][1]);t=l.reduce((function(n,r,o,a){e&&(i=20+Math.floor(o/s*80))!==c&&(c=i,e(i));var u=0===o?0:a[o-1][1],l=a[o][0];return n+t.slice(u,l)+(P(a[o][2])?a[o][2]:"")}),""),t+=f}return t}var F=Array.isArray;function R(t){return"string"==typeof t}function W(t){return"number"==typeof t}function x(t){return F(t)?t.join("."):R(t)?t:String(t)}function D(t,r){if("\\"!==t[r])return!0;var e=function(t,r){for(var e=arguments.length,i=new Array(e>2?e-2:0),c=2;c<e;c++)i[c-2]=arguments[c];if(!i.length||1===i.length&&m(i[0]))return null;var a={mode:0};if(m(i[0])){var u=o(o({},a),b(i[0]));if(u.mode){if(_(u.mode)&&"0123".includes(u.mode))u.mode=Number.parseInt(u.mode,10);else if(!v(u.mode))throw new Error("string-left-right/chompLeft(): [THROW_ID_01] the opts.mode is wrong! It should be 0, 1, 2 or 3. It was given as ".concat(u.mode," (type ").concat(n(u.mode),")"))}else u.mode=0;return A("left",t,r,u,b(i).slice(1))}return _(i[0])?A("left",t,r,a,b(i)):A("left",t,r,a,b(i).slice(1))}(t,r,{mode:1},"\\");return!(!W(e)||(r-e)%2==0)}function H(t){var n,r=t.str,e=t.path,o=t.valToInsert,i=t.mode;function c(t){r[n]}var a=r.length,u=[];c();var l=["{","}","[","]",":",","],s=o;!R(o)||o.startsWith('"')||o.startsWith("{")||(s='"'.concat(o,'"'));var f,g,h,p,y,m,d,b=[],v=[],_=!1,j=!1,S=!1,T=!1,A=[];function I(){f=null,g=null,h=null,p=null,y=null,m=null}I();var N,P=[];for(n=0;n<a;n++){if(c("\n[".concat(36,"m","===============================","[",39,"m [",35,"m","str[ ".concat(n," ] = ").concat(r[n]&&r[n].trim()?r[n]:JSON.stringify(r[n],null,0)),"[",39,"m [",36,"m","===============================","[",39,"m\n")),W(d)||"["!==r[n-1]||(j=!0,"]"!==r[n]&&(_=!1)),W(d)||"{"!==r[n-1]||(_=!0,"}"!==r[n]&&(j=!1)),W(d)||"{"!==r[n]||!D(r,n-1)||S||(j&&(T||(c("198 ".concat("[".concat(33,"m","currentPath","[",39,"m")," = ",JSON.stringify(P,null,4))),P[P.length-1]=P[P.length-1]+1,c())),b.push(n),c("215 ".concat("[".concat(32,"m","PUSH","[",39,"m")," ","[".concat(33,"m","withinObjectIndexes","[",39,"m")," = ",JSON.stringify(b,null,4)))),W(d)||"}"!==r[n]||!D(r,n-1)||S||(b.pop(),c("231 ".concat("[".concat(31,"m","POP","[",39,"m")," ","[".concat(33,"m","withinObjectIndexes","[",39,"m")," = ",JSON.stringify(b,null,4)))),W(d)||"]"!==r[n]||!D(r,n-1)||S||(v.pop(),c("248 ".concat("[".concat(32,"m","POP","[",39,"m")," ","[".concat(33,"m","withinArrayIndexes","[",39,"m")," = ",JSON.stringify(v,null,4))),P.pop(),c("256 POP path, now = ".concat(JSON.stringify(P,null,4))),c(),I(),T&&(T=!1,c())),W(d)||"]"!==r[n]||(v.length?v.length&&(!b.length||v[v.length-1]>b[b.length-1])&&(j=!0):(j=!1,b.length&&!_&&(_=!0))),W(d)||"}"!==r[n]||(b.length?(!v.length||b[b.length-1]>v[v.length-1])&&(_=!0):_=!1),j&&x(e)===P.join(".")&&!S&&r[n].trim()&&(S=!0,c(),h=n,c()),W(d)||"["!==r[n]||!D(r,n-1)||S||(v.push(n),T=!0,c("348 ".concat("[".concat(32,"m","PUSH","[",39,"m")," ","[".concat(33,"m","withinArrayIndexes","[",39,"m")," = ",JSON.stringify(v,null,4),"; ","[".concat(33,"m","itsTheFirstElem","[",39,"m")," = ").concat(T)),P.push(0),c("359 ".concat("[".concat(32,"m","PUSH","[",39,"m")," zero to path, now = ",JSON.stringify(P,null,0)))),j&&","===r[n]&&T&&(!h||p)&&(T=!1,c()),S||h||!r[n].trim()||l.includes(r[n])||!(j||!j&&y)||(c(),h=n,c(),j&&(T?(T=!1,c()):(P[P.length-1]=P[P.length-1]+1,c()))),!S&&!W(d)&&(j||!j&&y)&&h&&h<n&&!p&&('"'===r[h]&&'"'===r[n]&&"\\"!==r[n-1]||'"'!==r[h]&&!r[n].trim()||["}",","].includes(r[n]))&&(c(),m=r.slice(h,'"'===r[h]?n+1:n),c(),p=n,c()),S||j||'"'!==r[n]||"\\"===r[n-1]||y||f||g||!r[n+1]||(f=n+1,c()),!S&&!j&&'"'===r[n]&&"\\"!==r[n-1]&&!g&&f&&!h&&f<n&&(g=n+1,y=r.slice(f,n),c(),P.push(y),c("506 PUSH to path, now = ".concat(JSON.stringify(P,null,4))),x(e)===P.join(".")&&(S=!0,c())),S||W(d)||","!==r[n]||!_||(P.pop(),c("535 POP(), now ".concat("[".concat(33,"m","currentPath","[",39,"m")," = ",JSON.stringify(P,null,0)))),!S&&(p&&n>=p||["}","]"].includes(r[O(r,n)])&&["}","]"].includes(r[n])||"}"===r[n]&&"{"===r[O(r,n)])&&r[n].trim()&&(c(),","!==r[n]||["}","]"].includes(r[w(r,n)])?"}"===r[n]&&(c(),(p||"{"!==r[O(r,n)])&&(P.pop(),c("569 POP(), now ".concat("[".concat(33,"m","currentPath","[",39,"m")," = ",JSON.stringify(P,null,0)))),c(),c(),v.length&&b.length&&v[v.length-1]>b[b.length-1]&&(_=!1,j=!0),c(),I()):(c(),I())),S||"{"!==r[n]||!R(y)||h||m||(c(),I()),r[n].trim()&&S&&!h&&n>g&&![":"].includes(r[n])&&(h=n,c()),'"'===r[n]&&D(r,n-1)&&(W(f)&&!g||W(h)&&!p)&&!W(d)&&(d=n,c()),A.length&&r[n]===A[A.length-1]&&D(r,n-1)?(A.pop(),c("677 ".concat("[".concat(32,"m","POP","[",39,"m")," skipUntilTheFollowingIsMet = ",JSON.stringify(A,null,4)))):d&&d!==n||!S||j||!h||("{"===r[n]&&D(r,n-1)?(A.push("}"),c("695 ".concat("[".concat(32,"m","PUSH","[",39,"m")," ","[".concat(33,"m","skipUntilTheFollowingIsMet","[",39,"m")," = ",JSON.stringify(A,null,4)))):"["===r[n]&&D(r,n-1)?(A.push("]"),c("705 ".concat("[".concat(32,"m","PUSH","[",39,"m")," ","[".concat(33,"m","skipUntilTheFollowingIsMet","[",39,"m")," = ",JSON.stringify(A,null,4)))):'"'===r[n]&&D(r,n-1)&&(A.push('"'),c("715 ".concat("[".concat(32,"m","PUSH","[",39,"m")," ","[".concat(33,"m","skipUntilTheFollowingIsMet","[",39,"m")," = ",JSON.stringify(A,null,4))))),'"'===r[n]&&D(r,n-1)&&W(d)&&d!==n&&(d=void 0,c()),S&&F(A)&&!A.length&&h&&n>h&&(c(),!d&&("["===r[h]&&"]"===r[n]||"{"===r[h]&&"}"===r[n]||'"'===r[h]&&'"'===r[n]||!["[","{",'"'].includes(r[h])&&r[h].trim()&&(!r[n].trim()||l.includes(r[n])&&D(r,n-1))))){if(c("780 INSIDE CATCH-END CLAUSES currently ".concat("[".concat(33,"m","str[valueStartedAt=".concat(h,"]"),"[",39,"m")," = ",JSON.stringify(r[h],null,4))),"set"===i){c();var E="";r.slice(h,n+(r[n].trim()?1:0)).includes("\n")&&"\n"!==r[n+(r[n].trim()?1:0)]&&(E="\n");var H=n+(r[n].trim()?1:0);return(j&&!['"',"[","{"].includes(r[h])&&"]"!==r[w(r,H-1)]||","===r[H-1]&&'"'!==r[h-1])&&(H-=1),j&&'"'===r[h-1]&&(h-=1),"".concat(r.slice(0,h)).concat((N=s,R(N)&&N.startsWith('"')&&N.endsWith('"')?"".concat(JSON.stringify(N.slice(1,N.length-1),null,0)):JSON.stringify(N,null,0))).concat(E).concat(r.slice(H))}if("del"===i){c(),c("851 ".concat("[".concat(33,"m","keyStartedAt","[",39,"m")," = ",JSON.stringify(f,null,4),"; val = ").concat((j?h:f)-1));var U=O(r,(j?h:f)-1)+1;c();var k=n+(r[n].trim()?1:0);","===r[U-1]&&["}","]"].includes(r[w(r,k-1)])&&(U-=1,c()),","===r[k]&&(k+=1,c()),c("883 ".concat("[".concat(33,"m","startingPoint","[",39,"m")," = ",JSON.stringify(U,null,4),"; ","[".concat(33,"m","endingPoint","[",39,"m")," = ").concat(JSON.stringify(k,null,4),";")),u.push([U,k]),c("896 ".concat("[".concat(32,"m","FINAL PUSH","[",39,"m")," ","[".concat(33,"m","ranges","[",39,"m")," = ",JSON.stringify(u,null,4))),c();break}}c("".concat("[".concat(d?32:31,"m","withinQuotesSince".concat(W(d)?"=".concat(d):""),"[",39,"m"),"; ","[".concat(_?32:31,"m","currentlyWithinObject","[",39,"m"),"; ","[".concat(j?32:31,"m","currentlyWithinArray","[",39,"m"),"; ","[".concat(S?32:31,"m","replaceThisValue","[",39,"m"),"; ","[".concat(T?32:31,"m","itsTheFirstElem","[",39,"m"),"; ","[".concat(A.length?32:31,"m","skipUntilTheFollowingIsMet".concat(A?": ".concat(JSON.stringify(A,null,0)):""),"[",39,"m"))),c("current path: ".concat(JSON.stringify(P.join("."),null,0))),c(),c("".concat("[".concat(33,"m","withinArrayIndexes","[",39,"m")," = ",JSON.stringify(v,null,0),"; ","[".concat(33,"m","withinObjectIndexes","[",39,"m")," = ").concat(JSON.stringify(b,null,0),";"))}return c(),c("947 RETURN applied ".concat(JSON.stringify(J(r,u),null,4))),J(r,u)}t.del=function(t,r){if(!R(t)||!t.length)throw new Error("edit-package-json/del(): [THROW_ID_02] first input argument must be a non-empty string. It was given as ".concat(JSON.stringify(t,null,4)," (type ").concat(n(t),")"));return H({str:t,path:r,mode:"del"})},t.set=function(t,r,e){if(!R(t)||!t.length)throw new Error("edit-package-json/set(): [THROW_ID_01] first input argument must be a non-empty string. It was given as ".concat(JSON.stringify(t,null,4)," (type ").concat(n(t),")"));return H({str:t,path:r,valToInsert:e,mode:"set"})},Object.defineProperty(t,"__esModule",{value:!0})}));
