/**
 * string-remove-thousand-separators
 * Detects and removes thousand separators (dot/comma/quote/space) from string-type digits
 * Version: 4.0.1
 * Author: Roy Revelt, Codsen Ltd
 * License: MIT
 * Homepage: https://codsen.com/os/string-remove-thousand-separators/
 */

!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(r="undefined"!=typeof globalThis?globalThis:r||self).stringRemoveThousandSeparators=e()}(this,(function(){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(e)}function e(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function t(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function n(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function o(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach((function(e){t(r,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}function i(r){return function(r){if(Array.isArray(r))return a(r)}(r)||function(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||function(r,e){if(!r)return;if("string"==typeof r)return a(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(r);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(r,e)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function s(r,e){if(!Array.isArray(r)||!r.length)return r;var t,n,i=o(o({},{strictlyTwoElementsInRangeArrays:!1,progressFn:null}),e);if(i.strictlyTwoElementsInRangeArrays&&!r.filter((function(r){return r})).every((function(r,e){return 2===r.length||(t=e,n=r.length,!1)})))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ".concat(t,"th range (").concat(JSON.stringify(r[t],null,4),") has not two but ").concat(n," elements!"));if(!r.filter((function(r){return r})).every((function(r,e){return!(!Number.isInteger(r[0])||r[0]<0||!Number.isInteger(r[1])||r[1]<0)||(t=e,!1)})))throw new TypeError("ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ".concat(t,"th range (").concat(JSON.stringify(r[t],null,4),") does not consist of only natural numbers!"));var a=Math.pow(r.filter((function(r){return r})).length,2),s=0;return Array.from(r).filter((function(r){return r})).sort((function(r,e){return i.progressFn&&(s+=1,i.progressFn(Math.floor(100*s/a))),r[0]===e[0]?r[1]<e[1]?-1:r[1]>e[1]?1:0:r[0]<e[0]?-1:1}))}function u(e,t){function n(e){return e&&"object"===r(e)&&!Array.isArray(e)}if(!Array.isArray(e)||!e.length)return null;var a,u={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};if(t){if(!n(t))throw new Error("emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:\n".concat(JSON.stringify(t,null,4)," (type ").concat(r(t),")"));if((a=o(o({},u),t)).progressFn&&n(a.progressFn)&&!Object.keys(a.progressFn).length)a.progressFn=null;else if(a.progressFn&&"function"!=typeof a.progressFn)throw new Error('ranges-merge: [THROW_ID_01] opts.progressFn must be a function! It was given of a type: "'.concat(r(a.progressFn),'", equal to ').concat(JSON.stringify(a.progressFn,null,4)));if(a.mergeType&&1!=+a.mergeType&&2!=+a.mergeType)throw new Error('ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'.concat(r(a.mergeType),'", equal to ').concat(JSON.stringify(a.mergeType,null,4)));if("boolean"!=typeof a.joinRangesThatTouchEdges)throw new Error('ranges-merge: [THROW_ID_04] opts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "'.concat(r(a.joinRangesThatTouchEdges),'", equal to ').concat(JSON.stringify(a.joinRangesThatTouchEdges,null,4)))}else a=o({},u);for(var f,c,l,g=e.filter((function(r){return r})).map((function(r){return i(r)})).filter((function(r){return void 0!==r[2]||r[0]!==r[1]})),p=(f=a.progressFn?s(g,{progressFn:function(r){(l=Math.floor(r/5))!==c&&(c=l,a.progressFn(l))}}):s(g)).length-1,y=p;y>0;y--)a.progressFn&&(l=Math.floor(78*(1-y/p))+21)!==c&&l>c&&(c=l,a.progressFn(l)),(f[y][0]<=f[y-1][0]||!a.joinRangesThatTouchEdges&&f[y][0]<f[y-1][1]||a.joinRangesThatTouchEdges&&f[y][0]<=f[y-1][1])&&(f[y-1][0]=Math.min(f[y][0],f[y-1][0]),f[y-1][1]=Math.max(f[y][1],f[y-1][1]),void 0!==f[y][2]&&(f[y-1][0]>=f[y][0]||f[y-1][1]<=f[y][1])&&null!==f[y-1][2]&&(null===f[y][2]&&null!==f[y-1][2]?f[y-1][2]=null:void 0!==f[y-1][2]?2==+a.mergeType&&f[y-1][0]===f[y][0]?f[y-1][2]=f[y][2]:f[y-1][2]+=f[y][2]:f[y-1][2]=f[y][2]),f.splice(y,1),y=f.length);return f.length?f:null}function f(r){return null!=r}function c(r){return"string"==typeof r}var l="Â ";function g(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;function t(r){return Array.from(r).reverse().join("")}function n(r,e,t){var n=t?"\n":"\r",o=t?"\r":"\n";if(!r)return r;for(var i=0,a="",s=0,u=r.length;s<u;s++)(r[s]===n||r[s]===o&&r[s-1]!==n)&&i++,"\r\n".includes(r[s])||r[s]===l?r[s]===l?a+=r[s]:r[s]===n?i<=e&&(a+=r[s],r[s+1]===o&&(a+=r[s+1],s++)):r[s]===o&&(!r[s-1]||r[s-1]!==n)&&i<=e&&(a+=r[s]):r[s+1]||i||(a+=" ");return a}if("string"==typeof r&&r.length){var o=1;"number"==typeof+e&&Number.isInteger(+e)&&+e>=0&&(o=+e);var i="",a="";if(r.trim()){if(!r[0].trim())for(var s=0,u=r.length;s<u;s++)if(r[s].trim()){i=r.slice(0,s);break}}else i=r;if(r.trim()&&(""===r.slice(-1).trim()||r.slice(-1)===l))for(var f=r.length;f--;)if(r[f].trim()){a=r.slice(f+1);break}return"".concat(n(i,o,!1)).concat(r.trim()).concat(t(n(t(a),o,!0)))}return r}function p(r){return null!=r}function y(r){return Number.isInteger(r)&&r>=0}function h(r){return"string"==typeof r}function d(r){return/^\d*$/.test(r)?parseInt(r,10):r}var m=function(){function t(e){!function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=o(o({},{limitToBeAddedWhitespace:!1,limitLinebreaksCount:1,mergeType:1}),e);if(n.mergeType&&1!==n.mergeType&&2!==n.mergeType)if(h(n.mergeType)&&"1"===n.mergeType.trim())n.mergeType=1;else{if(!h(n.mergeType)||"2"!==n.mergeType.trim())throw new Error('ranges-push: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'.concat(r(n.mergeType),'", equal to ').concat(JSON.stringify(n.mergeType,null,4)));n.mergeType=2}this.opts=n}var n,a,s;return n=t,(a=[{key:"add",value:function(e,t,n){for(var o=this,a=arguments.length,s=new Array(a>3?a-3:0),u=3;u<a;u++)s[u-3]=arguments[u];if(s.length>0)throw new TypeError("ranges-push/Ranges/add(): [THROW_ID_03] Please don't overload the add() method. From the 4th input argument onwards we see these redundant arguments: ".concat(JSON.stringify(s,null,4)));if(p(e)||p(t)){if(p(e)&&!p(t)){if(Array.isArray(e)){if(e.length){if(e.some((function(r){return Array.isArray(r)})))return void e.forEach((function(r){Array.isArray(r)&&o.add.apply(o,i(r))}));e.length>1&&y(d(e[0]))&&y(d(e[1]))&&this.add.apply(this,i(e))}return}throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_12] the first input argument, "from" is set ('.concat(JSON.stringify(e,null,0),') but second-one, "to" is not (').concat(JSON.stringify(t,null,0),")"))}if(!p(e)&&p(t))throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_13] the second input argument, "to" is set ('.concat(JSON.stringify(t,null,0),') but first-one, "from" is not (').concat(JSON.stringify(e,null,0),")"));var f=/^\d*$/.test(e)?parseInt(e,10):e,c=/^\d*$/.test(t)?parseInt(t,10):t;if(y(n)&&(n=String(n)),!y(f)||!y(c))throw y(f)&&f>=0?new TypeError('ranges-push/Ranges/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it\'s of a type "'.concat(r(c),'" equal to: ').concat(JSON.stringify(c,null,4))):new TypeError('ranges-push/Ranges/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it\'s of a type "'.concat(r(f),'" equal to: ').concat(JSON.stringify(f,null,4)));if(p(n)&&!h(n)&&!y(n))throw new TypeError("ranges-push/Ranges/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but ".concat(r(n),", equal to:\n").concat(JSON.stringify(n,null,4)));if(p(this.ranges)&&Array.isArray(this.last())&&f===this.last()[1]){if(this.last()[1]=c,this.last()[2],null!==this.last()[2]&&p(n)){var l=!(p(this.last()[2])&&this.last()[2].length>0)||this.opts&&this.opts.mergeType&&1!==this.opts.mergeType?n:this.last()[2]+n;this.opts.limitToBeAddedWhitespace&&(l=g(l,this.opts.limitLinebreaksCount)),h(l)&&!l.length||(this.last()[2]=l)}}else{this.ranges||(this.ranges=[]);var m=void 0===n||h(n)&&!n.length?[f,c]:[f,c,this.opts.limitToBeAddedWhitespace?g(n,this.opts.limitLinebreaksCount):n];this.ranges.push(m)}}}},{key:"push",value:function(r,e,t){for(var n=arguments.length,o=new Array(n>3?n-3:0),i=3;i<n;i++)o[i-3]=arguments[i];this.add.apply(this,[r,e,t].concat(o))}},{key:"current",value:function(){var r=this;return null!=this.ranges?(this.ranges=u(this.ranges,{mergeType:this.opts.mergeType}),this.ranges&&this.opts.limitToBeAddedWhitespace?this.ranges.map((function(e){return p(e[2])?[e[0],e[1],g(e[2],r.opts.limitLinebreaksCount)]:e})):this.ranges):null}},{key:"wipe",value:function(){this.ranges=void 0}},{key:"replace",value:function(r){if(Array.isArray(r)&&r.length){if(!Array.isArray(r[0])||!y(r[0][0]))throw new Error("ranges-push/Ranges/replace(): [THROW_ID_11] Single range was given but we expected array of arrays! The first element, ".concat(JSON.stringify(r[0],null,4)," should be an array and its first element should be an integer, a string index."));this.ranges=Array.from(r)}else this.ranges=void 0}},{key:"last",value:function(){return void 0!==this.ranges&&Array.isArray(this.ranges)?this.ranges[this.ranges.length-1]:null}}])&&e(n.prototype,a),s&&e(n,s),t}();var b,v,T=Function.prototype,w=Object.prototype,O=T.toString,S=w.hasOwnProperty,j=O.call(Object),I=w.toString,A=(b=Object.getPrototypeOf,v=Object,function(r){return b(v(r))});var N=function(e){if(!function(e){return!!e&&"object"==r(e)}(e)||"[object Object]"!=I.call(e)||function(r){var e=!1;if(null!=r&&"function"!=typeof r.toString)try{e=!!(r+"")}catch(r){}return e}(e))return!1;var t=A(e);if(null===t)return!0;var n=S.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&O.call(n)==j},_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var R=function(r,e,t){return r(t={path:e,exports:{},require:function(r,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&t.path)}},t.exports),t.exports}((function(r,e){!function(t){function n(r,e){return e instanceof Object||(e={trim:!0}),"number"==typeof r&&!isNaN(r)||(r=(r||"").toString(),"trim"in e&&!e.trim?!/\s/.test(r):!!(r=r.trim())&&!isNaN(r))}r.exports&&(e=r.exports=n),e.isNumeric=n}()})),E="[object Symbol]",D=/^\s+|\s+$/g,W="\\u0300-\\u036f\\ufe20-\\ufe23",F="[\\ud800-\\udfff]",H="["+W+"\\u20d0-\\u20f0]",J="\\ud83c[\\udffb-\\udfff]",k="[^\\ud800-\\udfff]",q="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",C="(?:"+H+"|"+J+")"+"?",P="[\\ufe0e\\ufe0f]?",M=P+C+("(?:\\u200d(?:"+[k,q,x].join("|")+")"+P+C+")*"),$="(?:"+[k+H+"?",H,q,x,F].join("|")+")",B=RegExp(J+"(?="+J+")|"+$+M,"g"),L=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),U="object"==r(_)&&_&&_.Object===Object&&_,K="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,z=U||K||Function("return this")();function G(r,e,t){if(e!=e)return function(r,e,t,n){for(var o=r.length,i=t+(n?1:-1);n?i--:++i<o;)if(e(r[i],i,r))return i;return-1}(r,Q,t);for(var n=t-1,o=r.length;++n<o;)if(r[n]===e)return n;return-1}function Q(r){return r!=r}function V(r){return function(r){return L.test(r)}(r)?function(r){return r.match(B)||[]}(r):function(r){return r.split("")}(r)}var X=Object.prototype.toString,Y=z.Symbol,Z=Y?Y.prototype:void 0,rr=Z?Z.toString:void 0;function er(e){if("string"==typeof e)return e;if(function(e){return"symbol"==r(e)||function(e){return!!e&&"object"==r(e)}(e)&&X.call(e)==E}(e))return rr?rr.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function tr(r,e,t){var n=r.length;return t=void 0===t?n:t,!e&&t>=n?r:function(r,e,t){var n=-1,o=r.length;e<0&&(e=-e>o?0:o+e),(t=t>o?o:t)<0&&(t+=o),o=e>t?0:t-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=r[n+e];return i}(r,e,t)}var nr=function(r,e,t){var n;if((r=null==(n=r)?"":er(n))&&(t||void 0===e))return r.replace(D,"");if(!r||!(e=er(e)))return r;var o=V(r),i=V(e);return tr(o,function(r,e){for(var t=-1,n=r.length;++t<n&&G(e,r[t],0)>-1;);return t}(o,i),function(r,e){for(var t=r.length;t--&&G(e,r[t],0)>-1;);return t}(o,i)+1).join("")};return function(e,t){var n,i=!0,a=[".",",","'"," "];if("string"!=typeof e)throw new TypeError("string-remove-thousand-separators/remSep(): [THROW_ID_01] Input must be string! Currently it's: ".concat(r(e),", equal to:\n").concat(JSON.stringify(e,null,4)));if(null!=t&&!N(t))throw new TypeError("string-remove-thousand-separators/remSep(): [THROW_ID_02] Options object must be a plain object! Currently it's: ".concat(r(t),", equal to:\n").concat(JSON.stringify(t,null,4)));var s=o(o({},{removeThousandSeparatorsFromNumbers:!0,padSingleDecimalPlaceNumbers:!0,forceUKStyle:!1}),t),l=nr(e.trim(),'"');if(""===l)return l;for(var g=new m,p=0,y=l.length;p<y;p++){if(s.removeThousandSeparatorsFromNumbers&&""===l[p].trim()&&g.add(p,p+1),s.removeThousandSeparatorsFromNumbers&&"'"===l[p]&&(g.add(p,p+1),"'"===l[p+1])){i=!1;break}if(a.includes(l[p])){if(void 0!==l[p+1]&&R(l[p+1]))if(void 0!==l[p+2]){if(!R(l[p+2])){i=!1;break}if(void 0!==l[p+3]){if(!R(l[p+3])){i=!1;break}if(void 0!==l[p+4]&&R(l[p+4])){i=!1;break}if(s.removeThousandSeparatorsFromNumbers&&g.add(p,p+1),n){if(l[p]!==n){i=!1;break}}else n=l[p]}else s.removeThousandSeparatorsFromNumbers&&s.forceUKStyle&&","===l[p]&&g.add(p,p+1,".")}else s.forceUKStyle&&","===l[p]&&g.add(p,p+1,"."),s.padSingleDecimalPlaceNumbers&&g.add(p+2,p+2,"0")}else if(!R(l[p])){i=!1;break}}return i&&g.current()?function(e,t,n){var o,i=0,a=0;if(0===arguments.length)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if(!c(e))throw new TypeError("ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ".concat(r(e),", equal to: ").concat(JSON.stringify(e,null,4)));if(t&&!Array.isArray(t))throw new TypeError("ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ".concat(r(t),", equal to: ").concat(JSON.stringify(t,null,4)));if(n&&"function"!=typeof n)throw new TypeError("ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ".concat(r(n),", equal to: ").concat(JSON.stringify(n,null,4)));if(!t||!t.filter((function(r){return r})).length)return e;var s=(o=Array.isArray(t)&&(Number.isInteger(t[0])&&t[0]>=0||/^\d*$/.test(t[0]))&&(Number.isInteger(t[1])&&t[1]>=0||/^\d*$/.test(t[1]))?[Array.from(t)]:Array.from(t)).length,l=0;o.filter((function(r){return r})).forEach((function(e,t){if(n&&(i=Math.floor(l/s*10))!==a&&(a=i,n(i)),!Array.isArray(e))throw new TypeError("ranges-apply: [THROW_ID_05] ranges array, second input arg., has ".concat(t,"th element not an array: ").concat(JSON.stringify(e,null,4),", which is ").concat(r(e)));if(!Number.isInteger(e[0])||e[0]<0){if(!/^\d*$/.test(e[0]))throw new TypeError("ranges-apply: [THROW_ID_06] ranges array, second input arg. has ".concat(t,"th element, array [").concat(e[0],",").concat(e[1],"]. That array has first element not an integer, but ").concat(r(e[0]),", equal to: ").concat(JSON.stringify(e[0],null,4),". Computer doesn't like this."));o[t][0]=Number.parseInt(o[t][0],10)}if(!Number.isInteger(e[1])){if(!/^\d*$/.test(e[1]))throw new TypeError("ranges-apply: [THROW_ID_07] ranges array, second input arg. has ".concat(t,"th element, array [").concat(e[0],",").concat(e[1],"]. That array has second element not an integer, but ").concat(r(e[1]),", equal to: ").concat(JSON.stringify(e[1],null,4),". Computer doesn't like this."));o[t][1]=Number.parseInt(o[t][1],10)}l+=1}));var g=u(o,{progressFn:function(r){n&&(i=10+Math.floor(r/10))!==a&&(a=i,n(i))}});if(!g)return e;var p=g.length;if(p>0){var y=e.slice(g[p-1][1]);e=g.reduce((function(r,t,o,s){n&&(i=20+Math.floor(o/p*80))!==a&&(a=i,n(i));var u=0===o?0:s[o-1][1],c=s[o][0];return r+e.slice(u,c)+(f(s[o][2])?s[o][2]:"")}),""),e+=y}return e}(l,g.current()):l}}));
