/**
 * eslint-plugin-test-num
 * ESLint plugin to update unit test numbers automatically
 * Version: 1.3.3
 * Author: Roy Revelt, Codsen Ltd
 * License: MIT
 * Homepage: https://gitlab.com/codsen/codsen/tree/master/packages/eslint-plugin-test-num
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).eslintPluginTestNum=e()}(this,(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function n(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach((function(r){e(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}var u=i((function(e){e.exports=function(){var e=Object.prototype.toString;function r(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function n(t){if(!t)return!0;if(u(t)&&0===t.length)return!0;if("string"!=typeof t){for(var e in t)if(r(t,e))return!1;return!0}return!1}function o(t){return e.call(t)}function i(e){return"object"===t(e)&&"[object Object]"===o(e)}var u=Array.isArray||function(t){return"[object Array]"===e.call(t)};function a(t){return"boolean"==typeof t||"[object Boolean]"===o(t)}function s(t){var e=parseInt(t);return e.toString()===t?e:t}function c(t){t=t||{};var e=function t(e){return Object.keys(t).reduce((function(r,n){return"create"===n||"function"==typeof t[n]&&(r[n]=t[n].bind(t,e)),r}),{})};function o(e,n){return t.includeInheritedProps||"number"==typeof n&&Array.isArray(e)||r(e,n)}function c(t,e){if(o(t,e))return t[e]}function l(t,e,r,n){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if("string"==typeof e)return l(t,e.split(".").map(s),r,n);var o=e[0],i=c(t,o);return 1===e.length?(void 0!==i&&n||(t[o]=r),i):(void 0===i&&("number"==typeof e[1]?t[o]=[]:t[o]={}),l(t[o],e.slice(1),r,n))}return e.has=function(e,n){if("number"==typeof n?n=[n]:"string"==typeof n&&(n=n.split(".")),!n||0===n.length)return!!e;for(var o=0;o<n.length;o++){var i=s(n[o]);if(!("number"==typeof i&&u(e)&&i<e.length||(t.includeInheritedProps?i in Object(e):r(e,i))))return!1;e=e[i]}return!0},e.ensureExists=function(t,e,r){return l(t,e,r,!0)},e.set=function(t,e,r,n){return l(t,e,r,n)},e.insert=function(t,r,n,o){var i=e.get(t,r);o=~~o,u(i)||(i=[],e.set(t,r,i)),i.splice(o,0,n)},e.empty=function(t,r){var s,c;if(!n(r)&&null!=t&&(s=e.get(t,r))){if("string"==typeof s)return e.set(t,r,"");if(a(s))return e.set(t,r,!1);if("number"==typeof s)return e.set(t,r,0);if(u(s))s.length=0;else{if(!i(s))return e.set(t,r,null);for(c in s)o(s,c)&&delete s[c]}}},e.push=function(t,r){var n=e.get(t,r);u(n)||(n=[],e.set(t,r,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},e.coalesce=function(t,r,n){for(var o,i=0,u=r.length;i<u;i++)if(void 0!==(o=e.get(t,r[i])))return o;return n},e.get=function(t,r,n){if("number"==typeof r&&(r=[r]),!r||0===r.length)return t;if(null==t)return n;if("string"==typeof r)return e.get(t,r.split("."),n);var o=s(r[0]),i=c(t,o);return void 0===i?n:1===r.length?i:e.get(t[o],r.slice(1),n)},e.del=function(t,r){if("number"==typeof r&&(r=[r]),null==t)return t;if(n(r))return t;if("string"==typeof r)return e.del(t,r.split("."));var i=s(r[0]);return o(t,i)?1!==r.length?e.del(t[i],r.slice(1)):(u(t)?t.splice(i,1):delete t[i],t):t},e}var l=c();return l.create=c,l.withInheritedProps=c({includeInheritedProps:!0}),l}()}));Function.prototype.toString.call(Object),i((function(e,r){var n="[object Arguments]",i="[object Boolean]",u="[object Function]",a="[object GeneratorFunction]",s="[object Map]",c="[object Set]",l="[object DataView]",f="[object Float32Array]",p="[object Float64Array]",y="[object Int8Array]",g="[object Int16Array]",d="[object Int32Array]",b="[object Uint8Array]",h="[object Uint16Array]",v="[object Uint32Array]",m=/\w*$/,_=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,x={};x[n]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object DataView]"]=x["[object Boolean]"]=x["[object Date]"]=x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x[s]=x["[object Number]"]=x["[object Object]"]=x["[object RegExp]"]=x[c]=x["[object String]"]=x["[object Symbol]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Error]"]=x[u]=x["[object WeakMap]"]=!1;var w="object"==t(o)&&o&&o.Object===Object&&o,O="object"==("undefined"==typeof self?"undefined":t(self))&&self&&self.Object===Object&&self,S=w||O||Function("return this")(),A=r&&!r.nodeType&&r,E=A&&e&&!e.nodeType&&e,q=E&&E.exports===A;function I(t,e){return t.set(e[0],e[1]),t}function P(t,e){return t.add(e),t}function T(t,e,r,n){var o=-1,i=t?t.length:0;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function k(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function D(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function N(t,e){return function(r){return t(e(r))}}function L(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var U,F=Array.prototype,R=Function.prototype,B=Object.prototype,M=S["__core-js_shared__"],$=(U=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",C=R.toString,W=B.hasOwnProperty,V=B.toString,z=RegExp("^"+C.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=q?S.Buffer:void 0,H=S.Symbol,J=S.Uint8Array,K=N(Object.getPrototypeOf,Object),Q=Object.create,X=B.propertyIsEnumerable,Y=F.splice,Z=Object.getOwnPropertySymbols,tt=G?G.isBuffer:void 0,et=N(Object.keys,Object),rt=Et(S,"DataView"),nt=Et(S,"Map"),ot=Et(S,"Promise"),it=Et(S,"Set"),ut=Et(S,"WeakMap"),at=Et(Object,"create"),st=kt(rt),ct=kt(nt),lt=kt(ot),ft=kt(it),pt=kt(ut),yt=H?H.prototype:void 0,gt=yt?yt.valueOf:void 0;function dt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function bt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ht(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function vt(t){this.__data__=new bt(t)}function mt(e,r){var o=Nt(e)||function(e){return function(e){return function(e){return!!e&&"object"==t(e)}(e)&&Lt(e)}(e)&&W.call(e,"callee")&&(!X.call(e,"callee")||V.call(e)==n)}(e)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(e.length,String):[],i=o.length,u=!!i;for(var a in e)!r&&!W.call(e,a)||u&&("length"==a||Pt(a,i))||o.push(a);return o}function _t(t,e,r){var n=t[e];W.call(t,e)&&Dt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function jt(t,e){for(var r=t.length;r--;)if(Dt(t[r][0],e))return r;return-1}function xt(t,e,r,o,_,j,w){var O;if(o&&(O=j?o(t,_,j,w):o(t)),void 0!==O)return O;if(!Rt(t))return t;var S=Nt(t);if(S){if(O=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&W.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,O)}else{var A=It(t),E=A==u||A==a;if(Ut(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if("[object Object]"==A||A==n||E&&!j){if(k(t))return j?t:{};if(O=function(t){return"function"!=typeof t.constructor||Tt(t)?{}:(e=K(t),Rt(e)?Q(e):{});var e}(E?{}:t),!e)return function(t,e){return St(t,qt(t),e)}(t,function(t,e){return t&&St(e,Bt(e),t)}(O,t))}else{if(!x[A])return j?t:{};O=function(t,e,r,n){var o=t.constructor;switch(e){case"[object ArrayBuffer]":return Ot(t);case i:case"[object Date]":return new o(+t);case l:return function(t,e){var r=e?Ot(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case f:case p:case y:case g:case d:case b:case"[object Uint8ClampedArray]":case h:case v:return function(t,e){var r=e?Ot(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case s:return function(t,e,r){return T(e?r(D(t),!0):D(t),I,new t.constructor)}(t,n,r);case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,m.exec(t));return e.lastIndex=t.lastIndex,e}(t);case c:return function(t,e,r){return T(e?r(L(t),!0):L(t),P,new t.constructor)}(t,n,r);case"[object Symbol]":return u=t,gt?Object(gt.call(u)):{}}var u}(t,A,xt,e)}}w||(w=new vt);var q=w.get(t);if(q)return q;if(w.set(t,O),!S)var N=r?function(t){return function(t,e,r){var n=e(t);return Nt(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,Bt,qt)}(t):Bt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(N||t,(function(n,i){N&&(n=t[i=n]),_t(O,i,xt(n,e,r,o,i,t,w))})),O}function wt(t){return!(!Rt(t)||(e=t,$&&$ in e))&&(Ft(t)||k(t)?z:_).test(kt(t));var e}function Ot(t){var e=new t.constructor(t.byteLength);return new J(e).set(new J(t)),e}function St(t,e,r,n){r||(r={});for(var o=-1,i=e.length;++o<i;){var u=e[o],a=n?n(r[u],t[u],u,r,t):void 0;_t(r,u,void 0===a?t[u]:a)}return r}function At(e,r){var n,o,i=e.__data__;return("string"==(o=t(n=r))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof r?"string":"hash"]:i.map}function Et(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return wt(r)?r:void 0}dt.prototype.clear=function(){this.__data__=at?at(null):{}},dt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},dt.prototype.get=function(t){var e=this.__data__;if(at){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return W.call(e,t)?e[t]:void 0},dt.prototype.has=function(t){var e=this.__data__;return at?void 0!==e[t]:W.call(e,t)},dt.prototype.set=function(t,e){return this.__data__[t]=at&&void 0===e?"__lodash_hash_undefined__":e,this},bt.prototype.clear=function(){this.__data__=[]},bt.prototype.delete=function(t){var e=this.__data__,r=jt(e,t);return!(r<0)&&(r==e.length-1?e.pop():Y.call(e,r,1),!0)},bt.prototype.get=function(t){var e=this.__data__,r=jt(e,t);return r<0?void 0:e[r][1]},bt.prototype.has=function(t){return jt(this.__data__,t)>-1},bt.prototype.set=function(t,e){var r=this.__data__,n=jt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},ht.prototype.clear=function(){this.__data__={hash:new dt,map:new(nt||bt),string:new dt}},ht.prototype.delete=function(t){return At(this,t).delete(t)},ht.prototype.get=function(t){return At(this,t).get(t)},ht.prototype.has=function(t){return At(this,t).has(t)},ht.prototype.set=function(t,e){return At(this,t).set(t,e),this},vt.prototype.clear=function(){this.__data__=new bt},vt.prototype.delete=function(t){return this.__data__.delete(t)},vt.prototype.get=function(t){return this.__data__.get(t)},vt.prototype.has=function(t){return this.__data__.has(t)},vt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof bt){var n=r.__data__;if(!nt||n.length<199)return n.push([t,e]),this;r=this.__data__=new ht(n)}return r.set(t,e),this};var qt=Z?N(Z,Object):function(){return[]},It=function(t){return V.call(t)};function Pt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||j.test(t))&&t>-1&&t%1==0&&t<e}function Tt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||B)}function kt(t){if(null!=t){try{return C.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Dt(t,e){return t===e||t!=t&&e!=e}(rt&&It(new rt(new ArrayBuffer(1)))!=l||nt&&It(new nt)!=s||ot&&"[object Promise]"!=It(ot.resolve())||it&&It(new it)!=c||ut&&"[object WeakMap]"!=It(new ut))&&(It=function(t){var e=V.call(t),r="[object Object]"==e?t.constructor:void 0,n=r?kt(r):void 0;if(n)switch(n){case st:return l;case ct:return s;case lt:return"[object Promise]";case ft:return c;case pt:return"[object WeakMap]"}return e});var Nt=Array.isArray;function Lt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!Ft(t)}var Ut=tt||function(){return!1};function Ft(t){var e=Rt(t)?V.call(t):"";return e==u||e==a}function Rt(e){var r=t(e);return!!e&&("object"==r||"function"==r)}function Bt(t){return Lt(t)?mt(t):function(t){if(!Tt(t))return et(t);var e=[];for(var r in Object(t))W.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}e.exports=function(t){return xt(t,!0,!0)}}));function a(t,e){if("string"==typeof t&&t.length)for(var r,o=n(n({},{offset:0}),e),i=null,u=0,a=t.length;u<=a;u++){if(null!==i&&(t[u]&&t[u].trim().length&&!/\d/.test(t[u])&&!["."].includes(t[u])||!t[u]))return{start:o.offset+i,end:o.offset+r+1,value:t.slice(i,r+1)};if(/^\d*$/.test(t[u])&&(r=u,null===i&&(i=u)),null===i&&t[u]&&t[u].trim().length&&!/[\d.'"`]/.test(t[u]))return}}var s=function(t,e,r){return"single"===t?e:"".concat(e,".").concat("".concat(r).padStart(2,"0"))},c=new Set(["ok","notOk","true","false","assert","assertNot","error","ifErr","ifError","rejects","resolves","resolveMatchSnapshot","throws","throw","doesNotThrow","notThrow","expectUncaughtException"]),l=new Set(["emits","rejects","resolveMatch","throws","throw","expectUncaughtException","equal","equals","isEqual","is","strictEqual","strictEquals","strictIs","isStrict","isStrictly","notEqual","inequal","notEqual","notEquals","notStrictEqual","notStrictEquals","isNotEqual","isNot","doesNotEqual","isInequal","same","equivalent","looseEqual","looseEquals","deepEqual","deepEquals","isLoose","looseIs","notSame","inequivalent","looseInequal","notDeep","deepInequal","notLoose","looseNot","strictSame","strictEquivalent","strictDeepEqual","sameStrict","deepIs","isDeeply","isDeep","strictDeepEquals","strictNotSame","strictInequivalent","strictDeepInequal","notSameStrict","deepNot","notDeeply","strictDeepInequals","notStrictSame","hasStrict","match","has","hasFields","matches","similar","like","isLike","includes","include","contains","notMatch","dissimilar","unsimilar","notSimilar","unlike","isUnlike","notLike","isNotLike","doesNotHave","isNotSimilar","isDissimilar","type","isa","isA"]);return{configs:{recommended:{plugins:["test-num"],rules:{"no-console":"off","test-num/correct-test-num":"error"}}},rules:{"correct-test-num":{create:function(t){var e=0;return{ExpressionStatement:function(r){if("CallExpression"===u.get(r,"expression.type")&&["test","only","skip","todo"].includes(u.get(r,"expression.callee.property.name"))&&["TemplateLiteral","Literal"].includes(u.get(r,"expression.arguments.0.type"))){var n,o="".concat(e+=1).padStart(2,"0");if(!n&&"TemplateLiteral"===u.get(r,"expression.arguments.0.type")&&u.has(r,"expression.arguments.0.quasis.0.value.raw")){var i=a(u.get(r,"expression.arguments.0.quasis.0.value.raw"),{offset:u.get(r,"expression.arguments.0.quasis.0.start"),returnRangesOnly:!0})||{},f=i.start,p=i.end,y=i.value;f&&p&&y&&y!==o&&(n={start:f,end:p,value:o,node:u.get(r,"expression.arguments.0.quasis.0")})}if(!n&&"Literal"===r.expression.arguments[0].type&&r.expression.arguments[0].raw){var g=a(r.expression.arguments[0].raw,{offset:r.expression.arguments[0].start,returnRangesOnly:!0})||{},d=g.start,b=g.end,h=g.value;d&&b&&h&&h!==o&&(n={start:d,end:b,value:o,node:r.expression.arguments[0]})}if(!n&&"ArrowFunctionExpression"===u.get(r,"expression.arguments.1.type")&&"BlockStatement"===u.get(r,"expression.arguments.1.body.type")&&u.get(r,"expression.arguments.1.body.body").length){var v,m="multiple";2===(v=u.get(r,"expression.arguments.1.body.body").filter((function(t){return"ExpressionStatement"===t.type&&"t"===u.get(t,"expression.callee.object.name")}))).length&&"end"===u.get(v[v.length-1],"expression.callee.property.name")&&(m="single");var _=u.get(r,"expression.arguments.1.body.body");if(Array.isArray(_))for(var j=0,x=0,w=_.length;x<w;x++){var O=u.get(_[x],"expression.callee.property.name");if(O){var S=void 0;if(l.has(O)&&u.has(_[x],"expression.arguments.2")?S=2:c.has(O)&&u.has(_[x],"expression.arguments.1")&&(S=1),S){if("continue"===function(){var e=void 0,r=void 0,n=void 0;"TemplateLiteral"===u.get(_[x],"expression.arguments.".concat(S,".type"))?(r="expression.arguments.".concat(S,".quasis.0"),e=u.get(_[x],"".concat(r,".value.raw")),n=u.get(_[x],"".concat(r,".start")),j+=1):"Literal"===u.get(_[x],"expression.arguments.".concat(S,".type"))&&(r="expression.arguments.".concat(S),e=u.get(_[x],"".concat(r,".raw")),n=u.get(_[x],"".concat(r,".start")),j+=1);var i=a(e,{offset:n,returnRangesOnly:!0})||{},c=i.start,l=i.end;if(!c||!l)return"continue";var f=s(m,o,j);a(e).value!==f&&t.report({node:u.get(_[x],r),messageId:"correctTestNum",fix:function(t){return t.replaceTextRange([c,l],f)}})}())continue}else{var A=void 0;l.has(O)&&Array.isArray(u.get(_[x],"expression.arguments"))&&2===u.get(_[x],"expression.arguments").length?A=2:c.has(O)&&Array.isArray(u.get(_[x],"expression.arguments"))&&1===u.get(_[x],"expression.arguments").length&&(A=1),A&&function(){var e=u.get(_[x],"expression.end")-1,r=s(m,o,j),n=t.getSourceCode().getText(),i=e,a=function(t,e,r){if("string"!=typeof t||!t.length)return null;if(e&&"number"==typeof e||(e=0),e<1)return null;if(t[~-e]&&(!r&&t[~-e].trim()||r&&(t[~-e].trim()||"\n\r".includes(t[~-e]))))return~-e;if(t[e-2]&&(!r&&t[e-2].trim()||r&&(t[e-2].trim()||"\n\r".includes(t[e-2]))))return e-2;for(var n=e;n--;)if(t[n]&&(!r&&t[n].trim()||r&&(t[n].trim()||"\n\r".includes(t[n]))))return n;return null}(n,i,!1)+1,c=', "'.concat(r,'"');if(n.slice(a,i).includes("\n")){var l=Array.from(n.slice(a,i)).filter((function(t){return!"\r\n".includes(t)})).join("");c=",\n".concat(l,'  "').concat(r,'"\n').concat(l)}t.report({node:_[x],messageId:"correctTestNum",fix:function(t){return t.replaceTextRange([a,i],c)}})}()}}}}n&&t.report({messageId:"correctTestNum",node:n.node||r,fix:function(t){return t.replaceTextRange([n.start,n.end],n.value)}})}}}},meta:{type:"suggestion",messages:{correctTestNum:"Update the test number."},fixable:"code"}}}}}));
