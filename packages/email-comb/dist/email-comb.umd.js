/**
 * email-comb
 * Remove unused CSS from email templates
 * Version: 4.0.2
 * Author: Roy Revelt, Codsen Ltd
 * License: MIT
 * Homepage: https://codsen.com/os/email-comb/
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).emailComb={})}(this,(function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=l(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function f(t){return t&&"object"===e(t)&&!Array.isArray(t)}function h(t){return"string"==typeof t}function g(t,e,r,n,i,o){var a="function"==typeof r?r():r;if(e<0&&i&&"EOL"===a)return a;if(e>=t.length&&!i)return!1;for(var s=i?1:r.length,l=!1,u=!1,c=n.maxMismatches,f=e,h=!1,g=!1,p=!1;t[f];){var d=o(f);if(n.trimBeforeMatching&&""===t[f].trim()){if(!t[d]&&i&&"EOL"===r)return!0;f=o(f)}else if(!n.i&&n.trimCharsBeforeMatching.includes(t[f])||n.i&&n.trimCharsBeforeMatching.map((function(t){return t.toLowerCase()})).includes(t[f].toLowerCase())){if(i&&"EOL"===r&&!t[d])return!0;f=o(f)}else{var y=d>f?r[r.length-s]:r[s-1];if(!n.i&&t[f]===y||n.i&&t[f].toLowerCase()===y.toLowerCase()){if(h||(h=!0),u||(u=!0),s===r.length?g=!0:1===s&&(p=!0),(s-=1)<1)return f}else{if(!(n.maxMismatches&&c&&f))return!(0!==f||1!==s||n.lastMustMatch||!u)&&0;c-=1;for(var m=0;m<=c;m++){var v=d>f?r[r.length-s+1+m]:r[s-2-m],T=t[o(f)];if(v&&(!n.i&&t[f]===v||n.i&&t[f].toLowerCase()===v.toLowerCase())&&(!n.firstMustMatch||s!==r.length)){s-=2,h=!0;break}if(T&&v&&(!n.i&&T===v||n.i&&T.toLowerCase()===v.toLowerCase())&&(!n.firstMustMatch||s!==r.length)){s-=1,h=!0;break}if(void 0===v&&c>=0&&h&&(!n.firstMustMatch||g)&&(!n.lastMustMatch||p))return f}h||(l=f)}if(!1!==l&&l!==f&&(l=!1),s<1)return f;f=o(f)}}return s>0?!(!i||"EOL"!==a)||!!(n.maxMismatches>=s&&u)&&(l||0):void 0}function p(t,r,n,i,a){var s={cb:void 0,i:!1,trimBeforeMatching:!1,trimCharsBeforeMatching:[],maxMismatches:0,firstMustMatch:!1,lastMustMatch:!1};if(f(a)&&Object.prototype.hasOwnProperty.call(a,"trimBeforeMatching")&&"boolean"!=typeof a.trimBeforeMatching)throw new Error("string-match-left-right/".concat(t,"(): [THROW_ID_09] opts.trimBeforeMatching should be boolean!").concat(Array.isArray(a.trimBeforeMatching)?" Did you mean to use opts.trimCharsBeforeMatching?":""));var l,u,c,p,d,y=o(o({},s),a);if(y.trimCharsBeforeMatching="string"==typeof(l=y.trimCharsBeforeMatching)?l.length>0?[l]:[]:l,y.trimCharsBeforeMatching=y.trimCharsBeforeMatching.map((function(t){return h(t)?t:String(t)})),!h(r))return!1;if(!r.length)return!1;if(!Number.isInteger(n)||n<0)throw new Error("string-match-left-right/".concat(t,"(): [THROW_ID_03] the second argument should be a natural number. Currently it's of a type: ").concat(e(n),", equal to:\n").concat(JSON.stringify(n,null,4)));if(h(i))u=[i];else if(Array.isArray(i))u=i;else if(i){if("function"!=typeof i)throw new Error("string-match-left-right/".concat(t,"(): [THROW_ID_05] the third argument, whatToMatch, is neither string nor array of strings! It's ").concat(e(i),", equal to:\n").concat(JSON.stringify(i,null,4)));(u=[]).push(i)}else u=i;if(a&&!f(a))throw new Error("string-match-left-right/".concat(t,"(): [THROW_ID_06] the fourth argument, options object, should be a plain object. Currently it's of a type \"").concat(e(a),'", and equal to:\n').concat(JSON.stringify(a,null,4)));if(y.trimCharsBeforeMatching.some((function(t,e){return t.length>1&&(p=e,d=t,!0)})))throw new Error("string-match-left-right/".concat(t,"(): [THROW_ID_07] the fourth argument, options object contains trimCharsBeforeMatching. It was meant to list the single characters but one of the entries at index ").concat(p," is longer than 1 character, ").concat(d.length," (equals to ").concat(d,"). Please split it into separate characters and put into array as separate elements."));if(!u||!Array.isArray(u)||Array.isArray(u)&&!u.length||Array.isArray(u)&&1===u.length&&h(u[0])&&!u[0].trim()){if("function"==typeof y.cb){var m,v=n;if("matchLeftIncl"!==t&&"matchRight"!==t||(v+=1),"L"===t[5])for(var T=v;T--;){var b=r[T];if((!y.trimBeforeMatching||y.trimBeforeMatching&&void 0!==b&&b.trim())&&(!y.trimCharsBeforeMatching.length||void 0!==b&&!y.trimCharsBeforeMatching.includes(b))){m=T;break}}else if(t.startsWith("matchRight"))for(var _=v;_<r.length;_++){var w=r[_];if((!y.trimBeforeMatching||y.trimBeforeMatching&&w.trim())&&(!y.trimCharsBeforeMatching.length||!y.trimCharsBeforeMatching.includes(w))){m=_;break}}if(void 0===m)return!1;var O=r[m],S=m+1,A="";return S&&S>0&&(A=r.slice(0,S)),"L"===t[5]?y.cb(O,A,m):(m&&m>0&&(A=r.slice(m)),y.cb(O,A,m))}var I="";throw a||(I=" More so, the whole options object, the fourth input argument, is missing!"),new Error("string-match-left-right/".concat(t,'(): [THROW_ID_08] the third argument, "whatToMatch", was given as an empty string. This means, you intend to match purely by a callback. The callback was not set though, the opts key "cb" is not set!').concat(I))}for(var C=0,L=u.length;C<L;C++){c="function"==typeof u[C];var j=u[C],W=void 0,M=void 0,R="",k=n;"matchRight"===t?k+=1:"matchLeft"===t&&(k-=1);var x=g(r,k,j,y,c,(function(e){return"L"===t[5]?e-1:e+1}));if(x&&c&&"function"==typeof j&&"EOL"===j())return!(!j()||y.cb&&!y.cb(W,R,M))&&j();if(Number.isInteger(x)&&(M=t.startsWith("matchLeft")?x-1:x+1,R="L"===t[5]?r.slice(0,x):r.slice(M)),M<0&&(M=void 0),r[M]&&(W=r[M]),Number.isInteger(x)&&(!y.cb||y.cb(W,R,M)))return j}return!1}function d(t,e,r,n){return p("matchLeft",t,e,r,n)}function y(t,e,r,n){return p("matchRightIncl",t,e,r,n)}function m(t,e,r,n){return p("matchRight",t,e,r,n)}var v=new Map;function T(t,e){e=o({caseSensitive:!1},e);var r=t+JSON.stringify(e);if(v.has(r))return v.get(r);var n="!"===t[0];n&&(t=t.slice(1)),t=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(t).replace(/\\\*/g,"[\\s\\S]*");var i=new RegExp("^".concat(t,"$"),e.caseSensitive?"":"i");return i.negated=n,v.set(r,i),i}var b=function(t,r,n){if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Expected two arrays, got ".concat(e(t)," ").concat(e(r)));if(0===r.length)return t;var i="!"===r[0][0];r=r.map((function(t){return T(t,n)}));var o,a=[],s=c(t);try{for(s.s();!(o=s.n()).done;){var l,u=o.value,f=i,h=c(r);try{for(h.s();!(l=h.n()).done;){var g=l.value;g.test(u)&&(f=!g.negated)}}catch(t){h.e(t)}finally{h.f()}f&&a.push(u)}}catch(t){s.e(t)}finally{s.f()}return a};function _(t,r,n){function i(t){return"string"==typeof t}if(!Array.isArray(t))throw new Error("array-pull-all-with-glob: [THROW_ID_01] first argument must be an array! Currently it's ".concat(e(t),", equal to: ").concat(JSON.stringify(t,null,4)));if(!t.length)return[];if(null==r)throw new Error("array-pull-all-with-glob: [THROW_ID_02] second argument is missing!");var a,s;if("string"==typeof r){if(0===r.length)return t;a=[r]}else if(Array.isArray(r)){if(0===r.length)return t;a=Array.from(r)}else if(!Array.isArray(r))throw new Error("array-pull-all-with-glob: [THROW_ID_04] first argument must be an array! Currently it's ".concat(e(r),", equal to: ").concat(JSON.stringify(r,null,4)));if(0===t.length||0===r.length)return t;if(!t.every((function(t){return i(t)})))throw new Error("array-pull-all-with-glob: [THROW_ID_05] first argument array contains non-string elements: ".concat(JSON.stringify(t,null,4)));if(!a.every((function(t){return i(t)})))throw new Error("array-pull-all-with-glob: [THROW_ID_06] first argument array contains non-string elements: ".concat(JSON.stringify(a,null,4)));if(n&&(Array.isArray(n)||"object"!==e(n)))throw new Error("array-pull-all-with-glob: [THROW_ID_07] third argument, options object is not a plain object but ".concat(Array.isArray(n)?"array":e(n)));var l={caseSensitive:!0};return s=null===n?o({},l):o(o({},l),n),Array.from(t).filter((function(t){return!a.some((function(e){return b.isMatch(t,e,{caseSensitive:s.caseSensitive})}))}))}b.isMatch=function(t,e,r){var n=Array.isArray(t)?t:[t],i=Array.isArray(e)?e:[e];return n.some((function(t){return i.every((function(e){var n=T(e,r),i=n.test(t);return n.negated?!i:i}))}))};var w,O,S=Function.prototype,A=Object.prototype,I=S.toString,C=A.hasOwnProperty,L=I.call(Object),j=A.toString,W=(w=Object.getPrototypeOf,O=Object,function(t){return w(O(t))});var M=function(t){if(!function(t){return!!t&&"object"==e(t)}(t)||"[object Object]"!=j.call(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t))return!1;var r=W(t);if(null===r)return!0;var n=C.call(r,"constructor")&&r.constructor;return"function"==typeof n&&n instanceof n&&I.call(n)==L},R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(t){var e={exports:{}};t(e,e.exports)}((function(t,r){var n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Boolean]",s="[object Date]",l="[object Function]",u="[object GeneratorFunction]",c="[object Map]",f="[object Number]",h="[object Object]",g="[object Promise]",p="[object RegExp]",d="[object Set]",y="[object String]",m="[object Symbol]",v="[object WeakMap]",T="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",O="[object Int8Array]",S="[object Int16Array]",A="[object Int32Array]",I="[object Uint8Array]",C="[object Uint8ClampedArray]",L="[object Uint16Array]",j="[object Uint32Array]",W=/\w*$/,M=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,x={};x[o]=x["[object Array]"]=x[T]=x[b]=x[a]=x[s]=x[_]=x[w]=x[O]=x[S]=x[A]=x[c]=x[f]=x[h]=x[p]=x[d]=x[y]=x[m]=x[I]=x[C]=x[L]=x[j]=!0,x["[object Error]"]=x[l]=x[v]=!1;var F="object"==e(R)&&R&&R.Object===Object&&R,E="object"==("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,P=F||E||Function("return this")(),H=r&&!r.nodeType&&r,N=H&&t&&!t.nodeType&&t,D=N&&N.exports===H;function B(t,e){return t.set(e[0],e[1]),t}function J(t,e){return t.add(e),t}function q(t,e,r,n){var i=-1,o=t?t.length:0;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function $(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function z(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function U(t,e){return function(r){return t(e(r))}}function G(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var V,Z=Array.prototype,Y=Function.prototype,K=Object.prototype,Q=P["__core-js_shared__"],X=(V=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",tt=Y.toString,et=K.hasOwnProperty,rt=K.toString,nt=RegExp("^"+tt.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=D?P.Buffer:void 0,ot=P.Symbol,at=P.Uint8Array,st=U(Object.getPrototypeOf,Object),lt=Object.create,ut=K.propertyIsEnumerable,ct=Z.splice,ft=Object.getOwnPropertySymbols,ht=it?it.isBuffer:void 0,gt=U(Object.keys,Object),pt=Nt(P,"DataView"),dt=Nt(P,"Map"),yt=Nt(P,"Promise"),mt=Nt(P,"Set"),vt=Nt(P,"WeakMap"),Tt=Nt(Object,"create"),bt=$t(pt),_t=$t(dt),wt=$t(yt),Ot=$t(mt),St=$t(vt),At=ot?ot.prototype:void 0,It=At?At.valueOf:void 0;function Ct(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Lt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function jt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Wt(t){this.__data__=new Lt(t)}function Mt(t,r){var n=Ut(t)||function(t){return function(t){return function(t){return!!t&&"object"==e(t)}(t)&&Gt(t)}(t)&&et.call(t,"callee")&&(!ut.call(t,"callee")||rt.call(t)==o)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],i=n.length,a=!!i;for(var s in t)!r&&!et.call(t,s)||a&&("length"==s||Jt(s,i))||n.push(s);return n}function Rt(t,e,r){var n=t[e];et.call(t,e)&&zt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function kt(t,e){for(var r=t.length;r--;)if(zt(t[r][0],e))return r;return-1}function xt(t,e,r,n,i,g,v){var M;if(n&&(M=g?n(t,i,g,v):n(t)),void 0!==M)return M;if(!Yt(t))return t;var R=Ut(t);if(R){if(M=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&et.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,M)}else{var k=Bt(t),F=k==l||k==u;if(Vt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(k==h||k==o||F&&!g){if($(t))return g?t:{};if(M=function(t){return"function"!=typeof t.constructor||qt(t)?{}:(e=st(t),Yt(e)?lt(e):{});var e}(F?{}:t),!e)return function(t,e){return Pt(t,Dt(t),e)}(t,function(t,e){return t&&Pt(e,Kt(e),t)}(M,t))}else{if(!x[k])return g?t:{};M=function(t,e,r,n){var i=t.constructor;switch(e){case T:return Et(t);case a:case s:return new i(+t);case b:return function(t,e){var r=e?Et(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case _:case w:case O:case S:case A:case I:case C:case L:case j:return function(t,e){var r=e?Et(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case c:return function(t,e,r){return q(e?r(z(t),!0):z(t),B,new t.constructor)}(t,n,r);case f:case y:return new i(t);case p:return function(t){var e=new t.constructor(t.source,W.exec(t));return e.lastIndex=t.lastIndex,e}(t);case d:return function(t,e,r){return q(e?r(G(t),!0):G(t),J,new t.constructor)}(t,n,r);case m:return o=t,It?Object(It.call(o)):{}}var o}(t,k,xt,e)}}v||(v=new Wt);var E=v.get(t);if(E)return E;if(v.set(t,M),!R)var P=r?function(t){return function(t,e,r){var n=e(t);return Ut(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Kt,Dt)}(t):Kt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(P||t,(function(i,o){P&&(i=t[o=i]),Rt(M,o,xt(i,e,r,n,o,t,v))})),M}function Ft(t){return!(!Yt(t)||function(t){return!!X&&X in t}(t))&&(Zt(t)||$(t)?nt:M).test($t(t))}function Et(t){var e=new t.constructor(t.byteLength);return new at(e).set(new at(t)),e}function Pt(t,e,r,n){r||(r={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=n?n(r[a],t[a],a,r,t):void 0;Rt(r,a,void 0===s?t[a]:s)}return r}function Ht(t,r){var n,i,o=t.__data__;return("string"==(i=e(n=r))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof r?"string":"hash"]:o.map}function Nt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Ft(r)?r:void 0}Ct.prototype.clear=function(){this.__data__=Tt?Tt(null):{}},Ct.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ct.prototype.get=function(t){var e=this.__data__;if(Tt){var r=e[t];return r===n?void 0:r}return et.call(e,t)?e[t]:void 0},Ct.prototype.has=function(t){var e=this.__data__;return Tt?void 0!==e[t]:et.call(e,t)},Ct.prototype.set=function(t,e){return this.__data__[t]=Tt&&void 0===e?n:e,this},Lt.prototype.clear=function(){this.__data__=[]},Lt.prototype.delete=function(t){var e=this.__data__,r=kt(e,t);return!(r<0)&&(r==e.length-1?e.pop():ct.call(e,r,1),!0)},Lt.prototype.get=function(t){var e=this.__data__,r=kt(e,t);return r<0?void 0:e[r][1]},Lt.prototype.has=function(t){return kt(this.__data__,t)>-1},Lt.prototype.set=function(t,e){var r=this.__data__,n=kt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},jt.prototype.clear=function(){this.__data__={hash:new Ct,map:new(dt||Lt),string:new Ct}},jt.prototype.delete=function(t){return Ht(this,t).delete(t)},jt.prototype.get=function(t){return Ht(this,t).get(t)},jt.prototype.has=function(t){return Ht(this,t).has(t)},jt.prototype.set=function(t,e){return Ht(this,t).set(t,e),this},Wt.prototype.clear=function(){this.__data__=new Lt},Wt.prototype.delete=function(t){return this.__data__.delete(t)},Wt.prototype.get=function(t){return this.__data__.get(t)},Wt.prototype.has=function(t){return this.__data__.has(t)},Wt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Lt){var n=r.__data__;if(!dt||n.length<199)return n.push([t,e]),this;r=this.__data__=new jt(n)}return r.set(t,e),this};var Dt=ft?U(ft,Object):function(){return[]},Bt=function(t){return rt.call(t)};function Jt(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||k.test(t))&&t>-1&&t%1==0&&t<e}function qt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||K)}function $t(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zt(t,e){return t===e||t!=t&&e!=e}(pt&&Bt(new pt(new ArrayBuffer(1)))!=b||dt&&Bt(new dt)!=c||yt&&Bt(yt.resolve())!=g||mt&&Bt(new mt)!=d||vt&&Bt(new vt)!=v)&&(Bt=function(t){var e=rt.call(t),r=e==h?t.constructor:void 0,n=r?$t(r):void 0;if(n)switch(n){case bt:return b;case _t:return c;case wt:return g;case Ot:return d;case St:return v}return e});var Ut=Array.isArray;function Gt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!Zt(t)}var Vt=ht||function(){return!1};function Zt(t){var e=Yt(t)?rt.call(t):"";return e==l||e==u}function Yt(t){var r=e(t);return!!t&&("object"==r||"function"==r)}function Kt(t){return Gt(t)?Mt(t):function(t){if(!qt(t))return gt(t);var e=[];for(var r in Object(t))et.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}t.exports=function(t){return xt(t,!0,!0)}}));var k=" ";function x(t,e){return function(t){var e=t.str,r=t.idx,n=t.stopAtNewlines,i=t.stopAtRawNbsp;if("string"!=typeof e||!e.length)return null;if(r&&"number"==typeof r||(r=0),!e[r+1])return null;if(e[r+1]&&(e[r+1].trim()||n&&"\n\r".includes(e[r+1])||i&&e[r+1]===k))return r+1;if(e[r+2]&&(e[r+2].trim()||n&&"\n\r".includes(e[r+2])||i&&e[r+2]===k))return r+2;for(var o=r+1,a=e.length;o<a;o++)if(e[o].trim()||n&&"\n\r".includes(e[o])||i&&e[o]===k)return o;return null}({str:t,idx:e,stopAtNewlines:!1,stopAtRawNbsp:!1})}function F(t,e){return function(t){var e=t.str,r=t.idx,n=t.stopAtNewlines,i=t.stopAtRawNbsp;if("string"!=typeof e||!e.length)return null;if(r&&"number"==typeof r||(r=0),r<1)return null;if(e[~-r]&&(e[~-r].trim()||n&&"\n\r".includes(e[~-r])||i&&e[~-r]===k))return~-r;if(e[r-2]&&(e[r-2].trim()||n&&"\n\r".includes(e[r-2])||i&&e[r-2]===k))return r-2;for(var o=r;o--;)if(e[o]&&(e[o].trim()||n&&"\n\r".includes(e[o])||i&&e[o]===k))return o;return null}({str:t,idx:e,stopAtNewlines:!1,stopAtRawNbsp:!1})}function E(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!=typeof t)throw new TypeError("string-extract-class-names: [THROW_ID_02] first input should be string, not ".concat(e(t),", currently equal to ").concat(JSON.stringify(t,null,4)));if("boolean"!=typeof r)throw new TypeError("string-extract-class-names: [THROW_ID_03] second input argument should be a Boolean, not ".concat(e(t),", currently equal to ").concat(JSON.stringify(t,null,4)));var n,i=".# ~\\!@$%^&*()+=,/';:\"?><[]{}|`";function o(t){return"string"==typeof t&&t.length&&(t.charCodeAt(0)>64&&t.charCodeAt(0)<91||t.charCodeAt(0)>96&&t.charCodeAt(0)<123)}for(var a=null,s=[],l=0,u=t.length;l<u;l++)null!==a&&l>=a&&(i.includes(t[l])||!t[l].trim())&&(l>a+1&&(r?s.push([a,l]):s.push("".concat(n||"").concat(t.slice(a,l))),n&&(n=void 0)),a=null),null!==a||"."!==t[l]&&"#"!==t[l]||(a=l),t.startsWith("class",l)&&"["===t[F(t,l)]&&"="===t[x(t,l+4)]&&(o(t[x(t,x(t,l+4))])?a=x(t,x(t,l+4)):"'\"".includes(t[x(t,x(t,l+4))])&&o(t[x(t,x(t,x(t,l+4)))])&&(a=x(t,x(t,x(t,l+4)))),n="."),t.startsWith("id",l)&&"["===t[F(t,l)]&&"="===t[x(t,l+1)]&&(o(t[x(t,x(t,l+1))])?a=x(t,x(t,l+1)):"'\"".includes(t[x(t,x(t,l+1))])&&o(t[x(t,x(t,x(t,l+1)))])&&(a=x(t,x(t,x(t,l+1)))),n="#"),l+1===u&&null!==a&&l>a&&(r?s.push([a,u]):s.push(t.slice(a,u)));return s}var P="__lodash_hash_undefined__",H=9007199254740991,N=/^\[object .+?Constructor\]$/,D="object"==e(R)&&R&&R.Object===Object&&R,B="object"==("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,J=D||B||Function("return this")();function q(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function $(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,n){var i=t.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,G,r);var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function z(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function U(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function G(t){return t!=t}function V(t){return function(e){return t(e)}}function Z(t,e){return t.has(e)}var Y,K=Array.prototype,Q=Function.prototype,X=Object.prototype,tt=J["__core-js_shared__"],et=(Y=/[^.]+$/.exec(tt&&tt.keys&&tt.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",rt=Q.toString,nt=X.hasOwnProperty,it=X.toString,ot=RegExp("^"+rt.call(nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),at=K.splice,st=Math.max,lt=Math.min,ut=Tt(J,"Map"),ct=Tt(Object,"create");function ft(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ht(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function gt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function pt(t){var e=-1,r=t?t.length:0;for(this.__data__=new gt;++e<r;)this.add(t[e])}function dt(t,e){for(var r,n,i=t.length;i--;)if((r=t[i][0])===(n=e)||r!=r&&n!=n)return i;return-1}function yt(t){return!(!_t(t)||function(t){return!!et&&et in t}(t))&&(bt(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?ot:N).test(function(t){if(null!=t){try{return rt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function mt(t){return function(t){return function(t){return!!t&&"object"==e(t)}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=H}(t.length)&&!bt(t)}(t)}(t)?t:[]}function vt(t,r){var n,i,o=t.__data__;return("string"==(i=e(n=r))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof r?"string":"hash"]:o.map}function Tt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return yt(r)?r:void 0}function bt(t){var e=_t(t)?it.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function _t(t){var r=e(t);return!!t&&("object"==r||"function"==r)}ft.prototype.clear=function(){this.__data__=ct?ct(null):{}},ft.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},ft.prototype.get=function(t){var e=this.__data__;if(ct){var r=e[t];return r===P?void 0:r}return nt.call(e,t)?e[t]:void 0},ft.prototype.has=function(t){var e=this.__data__;return ct?void 0!==e[t]:nt.call(e,t)},ft.prototype.set=function(t,e){return this.__data__[t]=ct&&void 0===e?P:e,this},ht.prototype.clear=function(){this.__data__=[]},ht.prototype.delete=function(t){var e=this.__data__,r=dt(e,t);return!(r<0)&&(r==e.length-1?e.pop():at.call(e,r,1),!0)},ht.prototype.get=function(t){var e=this.__data__,r=dt(e,t);return r<0?void 0:e[r][1]},ht.prototype.has=function(t){return dt(this.__data__,t)>-1},ht.prototype.set=function(t,e){var r=this.__data__,n=dt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},gt.prototype.clear=function(){this.__data__={hash:new ft,map:new(ut||ht),string:new ft}},gt.prototype.delete=function(t){return vt(this,t).delete(t)},gt.prototype.get=function(t){return vt(this,t).get(t)},gt.prototype.has=function(t){return vt(this,t).has(t)},gt.prototype.set=function(t,e){return vt(this,t).set(t,e),this},pt.prototype.add=pt.prototype.push=function(t){return this.__data__.set(t,P),this},pt.prototype.has=function(t){return this.__data__.has(t)};var wt=function(t,e){return e=st(void 0===e?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=st(r.length-e,0),o=Array(i);++n<i;)o[n]=r[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=r[n];return a[e]=o,q(t,this,a)}}((function(t){var e=U(t,mt);return e.length&&e[0]===t[0]?function(t,e,r){for(var n=r?z:$,i=t[0].length,o=t.length,a=o,s=Array(o),l=1/0,u=[];a--;){var c=t[a];a&&e&&(c=U(c,V(e))),l=lt(c.length,l),s[a]=!r&&(e||i>=120&&c.length>=120)?new pt(a&&c):void 0}c=t[0];var f=-1,h=s[0];t:for(;++f<i&&u.length<l;){var g=c[f],p=e?e(g):g;if(g=r||0!==g?g:0,!(h?Z(h,p):n(u,p,r))){for(a=o;--a;){var d=s[a];if(!(d?Z(d,p):n(t[a],p,r)))continue t}h&&h.push(p),u.push(g)}}return u}(e):[]}));function Ot(t){var r,n=/^[0-9a-zA-Z]+$/;function i(t){return!(!t||"string"!=typeof t)&&!t.trim()}function a(t){return"string"==typeof t}if(!t||"object"!==e(t)||Array.isArray(t))throw r=void 0===t?"but it is missing completely.":null===t?"but it was given as null.":"but it was given as ".concat(e(t),", equal to:\n").concat(JSON.stringify(t,null,4),"."),new Error("string-range-expander: [THROW_ID_01] Input must be a plain object ".concat(r));if("object"===e(t)&&null!==t&&!Array.isArray(t)&&!Object.keys(t).length)throw new Error("string-range-expander: [THROW_ID_02] Input must be a plain object but it was given as a plain object without any keys.");if("number"!=typeof t.from)throw new Error("string-range-expander: [THROW_ID_03] The input's \"from\" value opts.from, is not a number! Currently it's given as ".concat(e(t.from),", equal to ").concat(JSON.stringify(t.from,null,0)));if("number"!=typeof t.to)throw new Error("string-range-expander: [THROW_ID_04] The input's \"to\" value opts.to, is not a number! Currently it's given as ".concat(e(t.to),", equal to ").concat(JSON.stringify(t.to,null,0)));if(!t.str[t.from]&&t.from!==t.to)throw new Error('string-range-expander: [THROW_ID_05] The given input string opts.str ("'.concat(t.str,'") must contain the character at index "from" ("').concat(t.from,'")'));if(!t.str[t.to-1])throw new Error('string-range-expander: [THROW_ID_06] The given input string, opts.str ("'.concat(t.str,'") must contain the character at index before "to" ("').concat(t.to-1,'")'));if(t.from>t.to)throw new Error('string-range-expander: [THROW_ID_07] The given "from" index, "'.concat(t.from,'" is greater than "to" index, "').concat(t.to,"\". That's wrong!"));if(a(t.extendToOneSide)&&"left"!==t.extendToOneSide&&"right"!==t.extendToOneSide||!a(t.extendToOneSide)&&void 0!==t.extendToOneSide&&!1!==t.extendToOneSide)throw new Error("string-range-expander: [THROW_ID_08] The opts.extendToOneSide value is not recogniseable! It's set to: \"".concat(t.extendToOneSide,'" (').concat(e(t.extendToOneSide),'). It has to be either Boolean "false" or strings "left" or "right"'));var s=o(o({},{str:"",from:0,to:0,ifLeftSideIncludesThisThenCropTightly:"",ifLeftSideIncludesThisCropItToo:"",ifRightSideIncludesThisThenCropTightly:"",ifRightSideIncludesThisCropItToo:"",extendToOneSide:!1,wipeAllWhitespaceOnLeft:!1,wipeAllWhitespaceOnRight:!1,addSingleSpaceToPreventAccidentalConcatenation:!1}),t);if(Array.isArray(s.ifLeftSideIncludesThisThenCropTightly)){var l,u;if(!s.ifLeftSideIncludesThisThenCropTightly.every((function(t,e){return!!a(t)||(l=e,u=t,!1)})))throw new Error("string-range-expander: [THROW_ID_09] The opts.ifLeftSideIncludesThisThenCropTightly was set to an array:\n".concat(JSON.stringify(s.ifLeftSideIncludesThisThenCropTightly,null,4),". Now, that array contains not only string elements. For example, an element at index ").concat(l," is of a type ").concat(e(u)," (equal to ").concat(JSON.stringify(u,null,0),")."));s.ifLeftSideIncludesThisThenCropTightly=s.ifLeftSideIncludesThisThenCropTightly.join("")}var c=s.str,f=s.from,h=s.to;if("right"!==s.extendToOneSide&&(i(c[f-1])&&(i(c[f-2])||s.ifLeftSideIncludesThisCropItToo.includes(c[f-2]))||c[f-1]&&s.ifLeftSideIncludesThisCropItToo.includes(c[f-1])||s.wipeAllWhitespaceOnLeft&&i(c[f-1])))for(var g=f;g--;)if(!s.ifLeftSideIncludesThisCropItToo.includes(c[g])){if(c[g].trim()){f=s.wipeAllWhitespaceOnLeft||s.ifLeftSideIncludesThisCropItToo.includes(c[g+1])?g+1:g+2;break}if(0===g){f=s.wipeAllWhitespaceOnLeft?0:1;break}}if("left"!==s.extendToOneSide&&(i(c[h])&&(s.wipeAllWhitespaceOnRight||i(c[h+1]))||s.ifRightSideIncludesThisCropItToo.includes(c[h])))for(var p=h,d=c.length;p<d;p++)if(!s.ifRightSideIncludesThisCropItToo.includes(c[p])&&(c[p]&&c[p].trim()||void 0===c[p])){h=s.wipeAllWhitespaceOnRight||s.ifRightSideIncludesThisCropItToo.includes(c[p-1])?p:p-1;break}return("right"!==s.extendToOneSide&&a(s.ifLeftSideIncludesThisThenCropTightly)&&s.ifLeftSideIncludesThisThenCropTightly&&(c[f-2]&&s.ifLeftSideIncludesThisThenCropTightly.includes(c[f-2])||c[f-1]&&s.ifLeftSideIncludesThisThenCropTightly.includes(c[f-1]))||"left"!==s.extendToOneSide&&a(s.ifRightSideIncludesThisThenCropTightly)&&s.ifRightSideIncludesThisThenCropTightly&&(c[h+1]&&s.ifRightSideIncludesThisThenCropTightly.includes(c[h+1])||c[h]&&s.ifRightSideIncludesThisThenCropTightly.includes(c[h])))&&("right"!==s.extendToOneSide&&i(c[f-1])&&!s.wipeAllWhitespaceOnLeft&&(f-=1),"left"!==s.extendToOneSide&&i(c[h])&&!s.wipeAllWhitespaceOnRight&&(h+=1)),s.addSingleSpaceToPreventAccidentalConcatenation&&c[f-1]&&c[f-1].trim()&&c[h]&&c[h].trim()&&(!s.ifLeftSideIncludesThisThenCropTightly&&!s.ifRightSideIncludesThisThenCropTightly||s.ifLeftSideIncludesThisThenCropTightly&&!s.ifLeftSideIncludesThisThenCropTightly.includes(c[f-1])||!(!s.ifRightSideIncludesThisThenCropTightly||c[h]&&s.ifRightSideIncludesThisThenCropTightly.includes(c[h])))&&(n.test(c[f-1])||n.test(c[h]))?[f,h," "]:[f,h]}var St=Array.isArray;function At(t,e){return t.codePointAt(e)}function It(t,e){if(!Array.isArray(t)||!t.length)return t;var r,n,i=o(o({},{strictlyTwoElementsInRangeArrays:!1,progressFn:null}),e);if(i.strictlyTwoElementsInRangeArrays&&!t.filter((function(t){return t})).every((function(t,e){return 2===t.length||(r=e,n=t.length,!1)})))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ".concat(r,"th range (").concat(JSON.stringify(t[r],null,4),") has not two but ").concat(n," elements!"));if(!t.filter((function(t){return t})).every((function(t,e){return!(!Number.isInteger(t[0])||t[0]<0||!Number.isInteger(t[1])||t[1]<0)||(r=e,!1)})))throw new TypeError("ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ".concat(r,"th range (").concat(JSON.stringify(t[r],null,4),") does not consist of only natural numbers!"));var a=Math.pow(t.filter((function(t){return t})).length,2),s=0;return Array.from(t).filter((function(t){return t})).sort((function(t,e){return i.progressFn&&(s+=1,i.progressFn(Math.floor(100*s/a))),t[0]===e[0]?t[1]<e[1]?-1:t[1]>e[1]?1:0:t[0]<e[0]?-1:1}))}function Ct(t,r){function n(t){return t&&"object"===e(t)&&!Array.isArray(t)}if(!Array.isArray(t)||!t.length)return null;var i,a={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};if(r){if(!n(r))throw new Error("emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:\n".concat(JSON.stringify(r,null,4)," (type ").concat(e(r),")"));if((i=o(o({},a),r)).progressFn&&n(i.progressFn)&&!Object.keys(i.progressFn).length)i.progressFn=null;else if(i.progressFn&&"function"!=typeof i.progressFn)throw new Error('ranges-merge: [THROW_ID_01] opts.progressFn must be a function! It was given of a type: "'.concat(e(i.progressFn),'", equal to ').concat(JSON.stringify(i.progressFn,null,4)));if(i.mergeType&&1!=+i.mergeType&&2!=+i.mergeType)throw new Error('ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'.concat(e(i.mergeType),'", equal to ').concat(JSON.stringify(i.mergeType,null,4)));if("boolean"!=typeof i.joinRangesThatTouchEdges)throw new Error('ranges-merge: [THROW_ID_04] opts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "'.concat(e(i.joinRangesThatTouchEdges),'", equal to ').concat(JSON.stringify(i.joinRangesThatTouchEdges,null,4)))}else i=o({},a);for(var l,u,c,f=t.filter((function(t){return t})).map((function(t){return s(t)})).filter((function(t){return void 0!==t[2]||t[0]!==t[1]})),h=(l=i.progressFn?It(f,{progressFn:function(t){(c=Math.floor(t/5))!==u&&(u=c,i.progressFn(c))}}):It(f)).length-1,g=h;g>0;g--)i.progressFn&&(c=Math.floor(78*(1-g/h))+21)!==u&&c>u&&(u=c,i.progressFn(c)),(l[g][0]<=l[g-1][0]||!i.joinRangesThatTouchEdges&&l[g][0]<l[g-1][1]||i.joinRangesThatTouchEdges&&l[g][0]<=l[g-1][1])&&(l[g-1][0]=Math.min(l[g][0],l[g-1][0]),l[g-1][1]=Math.max(l[g][1],l[g-1][1]),void 0!==l[g][2]&&(l[g-1][0]>=l[g][0]||l[g-1][1]<=l[g][1])&&null!==l[g-1][2]&&(null===l[g][2]&&null!==l[g-1][2]?l[g-1][2]=null:void 0!==l[g-1][2]?2==+i.mergeType&&l[g-1][0]===l[g][0]?l[g-1][2]=l[g][2]:l[g-1][2]+=l[g][2]:l[g-1][2]=l[g][2]),l.splice(g,1),g=l.length);return l.length?l:null}function Lt(t){return null!=t}function jt(t){return"string"==typeof t}function Wt(t,r,n){var i,o=0,a=0;if(0===arguments.length)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if(!jt(t))throw new TypeError("ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ".concat(e(t),", equal to: ").concat(JSON.stringify(t,null,4)));if(r&&!Array.isArray(r))throw new TypeError("ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ".concat(e(r),", equal to: ").concat(JSON.stringify(r,null,4)));if(n&&"function"!=typeof n)throw new TypeError("ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ".concat(e(n),", equal to: ").concat(JSON.stringify(n,null,4)));if(!r||!r.filter((function(t){return t})).length)return t;var s=(i=Array.isArray(r)&&(Number.isInteger(r[0])&&r[0]>=0||/^\d*$/.test(r[0]))&&(Number.isInteger(r[1])&&r[1]>=0||/^\d*$/.test(r[1]))?[Array.from(r)]:Array.from(r)).length,l=0;i.filter((function(t){return t})).forEach((function(t,r){if(n&&(o=Math.floor(l/s*10))!==a&&(a=o,n(o)),!Array.isArray(t))throw new TypeError("ranges-apply: [THROW_ID_05] ranges array, second input arg., has ".concat(r,"th element not an array: ").concat(JSON.stringify(t,null,4),", which is ").concat(e(t)));if(!Number.isInteger(t[0])||t[0]<0){if(!/^\d*$/.test(t[0]))throw new TypeError("ranges-apply: [THROW_ID_06] ranges array, second input arg. has ".concat(r,"th element, array [").concat(t[0],",").concat(t[1],"]. That array has first element not an integer, but ").concat(e(t[0]),", equal to: ").concat(JSON.stringify(t[0],null,4),". Computer doesn't like this."));i[r][0]=Number.parseInt(i[r][0],10)}if(!Number.isInteger(t[1])){if(!/^\d*$/.test(t[1]))throw new TypeError("ranges-apply: [THROW_ID_07] ranges array, second input arg. has ".concat(r,"th element, array [").concat(t[0],",").concat(t[1],"]. That array has second element not an integer, but ").concat(e(t[1]),", equal to: ").concat(JSON.stringify(t[1],null,4),". Computer doesn't like this."));i[r][1]=Number.parseInt(i[r][1],10)}l+=1}));var u=Ct(i,{progressFn:function(t){n&&(o=10+Math.floor(t/10))!==a&&(a=o,n(o))}});if(!u)return t;var c=u.length;if(c>0){var f=t.slice(u[c-1][1]);t=u.reduce((function(e,r,i,s){n&&(o=20+Math.floor(i/c*80))!==a&&(a=o,n(o));var l=0===i?0:s[i-1][1],u=s[i][0];return e+t.slice(l,u)+(Lt(s[i][2])?s[i][2]:"")}),""),t+=f}return t}function Mt(t,e,r){if(e!=e)return function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,kt,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function Rt(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function kt(t){return t!=t}var xt=Array.prototype.splice;function Ft(t,e,r,n){var i=n?Rt:Mt,o=-1,a=e.length,s=t;for(t===e&&(e=function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(e)),r&&(s=function(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}(t,function(t){return function(e){return t(e)}}(r)));++o<a;)for(var l=0,u=e[o],c=r?r(u):u;(l=i(s,c,l,n))>-1;)s!==t&&xt.call(s,l,1),xt.call(t,l,1);return t}var Et=function(t,e){return t&&t.length&&e&&e.length?Ft(t,e):t},Pt=" ";function Ht(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;function r(t){return Array.from(t).reverse().join("")}function n(t,e,r){var n=r?"\n":"\r",i=r?"\r":"\n";if(!t)return t;for(var o=0,a="",s=0,l=t.length;s<l;s++)(t[s]===n||t[s]===i&&t[s-1]!==n)&&o++,"\r\n".includes(t[s])||t[s]===Pt?t[s]===Pt?a+=t[s]:t[s]===n?o<=e&&(a+=t[s],t[s+1]===i&&(a+=t[s+1],s++)):t[s]===i&&(!t[s-1]||t[s-1]!==n)&&o<=e&&(a+=t[s]):t[s+1]||o||(a+=" ");return a}if("string"==typeof t&&t.length){var i=1;"number"==typeof+e&&Number.isInteger(+e)&&+e>=0&&(i=+e);var o="",a="";if(t.trim()){if(!t[0].trim())for(var s=0,l=t.length;s<l;s++)if(t[s].trim()){o=t.slice(0,s);break}}else o=t;if(t.trim()&&(""===t.slice(-1).trim()||t.slice(-1)===Pt))for(var u=t.length;u--;)if(t[u].trim()){a=t.slice(u+1);break}return"".concat(n(o,i,!1)).concat(t.trim()).concat(r(n(r(a),i,!0)))}return t}function Nt(t){return null!=t}function Dt(t){return Number.isInteger(t)&&t>=0}function Bt(t){return"string"==typeof t}function Jt(t){return/^\d*$/.test(t)?parseInt(t,10):t}var qt=function(){function t(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=o(o({},{limitToBeAddedWhitespace:!1,limitLinebreaksCount:1,mergeType:1}),r);if(n.mergeType&&1!==n.mergeType&&2!==n.mergeType)if(Bt(n.mergeType)&&"1"===n.mergeType.trim())n.mergeType=1;else{if(!Bt(n.mergeType)||"2"!==n.mergeType.trim())throw new Error('ranges-push: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'.concat(e(n.mergeType),'", equal to ').concat(JSON.stringify(n.mergeType,null,4)));n.mergeType=2}this.opts=n}var n,i,a;return n=t,(i=[{key:"add",value:function(t,r,n){for(var i=this,o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];if(a.length>0)throw new TypeError("ranges-push/Ranges/add(): [THROW_ID_03] Please don't overload the add() method. From the 4th input argument onwards we see these redundant arguments: ".concat(JSON.stringify(a,null,4)));if(Nt(t)||Nt(r)){if(Nt(t)&&!Nt(r)){if(Array.isArray(t)){if(t.length){if(t.some((function(t){return Array.isArray(t)})))return void t.forEach((function(t){Array.isArray(t)&&i.add.apply(i,s(t))}));t.length>1&&Dt(Jt(t[0]))&&Dt(Jt(t[1]))&&this.add.apply(this,s(t))}return}throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_12] the first input argument, "from" is set ('.concat(JSON.stringify(t,null,0),') but second-one, "to" is not (').concat(JSON.stringify(r,null,0),")"))}if(!Nt(t)&&Nt(r))throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_13] the second input argument, "to" is set ('.concat(JSON.stringify(r,null,0),') but first-one, "from" is not (').concat(JSON.stringify(t,null,0),")"));var u=/^\d*$/.test(t)?parseInt(t,10):t,c=/^\d*$/.test(r)?parseInt(r,10):r;if(Dt(n)&&(n=String(n)),!Dt(u)||!Dt(c))throw Dt(u)&&u>=0?new TypeError('ranges-push/Ranges/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it\'s of a type "'.concat(e(c),'" equal to: ').concat(JSON.stringify(c,null,4))):new TypeError('ranges-push/Ranges/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it\'s of a type "'.concat(e(u),'" equal to: ').concat(JSON.stringify(u,null,4)));if(Nt(n)&&!Bt(n)&&!Dt(n))throw new TypeError("ranges-push/Ranges/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but ".concat(e(n),", equal to:\n").concat(JSON.stringify(n,null,4)));if(Nt(this.ranges)&&Array.isArray(this.last())&&u===this.last()[1]){if(this.last()[1]=c,this.last()[2],null!==this.last()[2]&&Nt(n)){var f=!(Nt(this.last()[2])&&this.last()[2].length>0)||this.opts&&this.opts.mergeType&&1!==this.opts.mergeType?n:this.last()[2]+n;this.opts.limitToBeAddedWhitespace&&(f=Ht(f,this.opts.limitLinebreaksCount)),Bt(f)&&!f.length||(this.last()[2]=f)}}else{this.ranges||(this.ranges=[]);var h=void 0===n||Bt(n)&&!n.length?[u,c]:[u,c,this.opts.limitToBeAddedWhitespace?Ht(n,this.opts.limitLinebreaksCount):n];this.ranges.push(h)}}}},{key:"push",value:function(t,e,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];this.add.apply(this,[t,e,r].concat(i))}},{key:"current",value:function(){var t=this;return null!=this.ranges?(this.ranges=Ct(this.ranges,{mergeType:this.opts.mergeType}),this.ranges&&this.opts.limitToBeAddedWhitespace?this.ranges.map((function(e){return Nt(e[2])?[e[0],e[1],Ht(e[2],t.opts.limitLinebreaksCount)]:e})):this.ranges):null}},{key:"wipe",value:function(){this.ranges=void 0}},{key:"replace",value:function(t){if(Array.isArray(t)&&t.length){if(!Array.isArray(t[0])||!Dt(t[0][0]))throw new Error("ranges-push/Ranges/replace(): [THROW_ID_11] Single range was given but we expected array of arrays! The first element, ".concat(JSON.stringify(t[0],null,4)," should be an array and its first element should be an integer, a string index."));this.ranges=Array.from(t)}else this.ranges=void 0}},{key:"last",value:function(){return void 0!==this.ranges&&Array.isArray(this.ranges)?this.ranges[this.ranges.length-1]:null}}])&&r(n.prototype,i),a&&r(n,a),t}(),$t=new qt({limitToBeAddedWhitespace:!0}),zt={lineLengthLimit:500,removeIndentations:!0,removeLineBreaks:!1,removeHTMLComments:!1,removeCSSComments:!0,reportProgressFunc:null,reportProgressFuncFrom:0,reportProgressFuncTo:100,breakToTheLeftOf:["</td","<html","</html","<head","</head","<meta","<link","<table","<script","</script","<!DOCTYPE","<style","</style","<title","<body","@media","</body","\x3c!--[if","\x3c!--<![endif","<![endif]"],mindTheInlineTags:["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"]},Ut={removeHTMLComments:!1,removeCSSComments:!1};function Gt(t){return"string"==typeof t}function Vt(t){return"string"==typeof t&&t.toUpperCase()!==t.toLowerCase()}function Zt(t,r){var n=Date.now();if(!Gt(t))throw void 0===t?new Error("html-crush: [THROW_ID_01] the first input argument is completely missing! It should be given as string."):new Error('html-crush: [THROW_ID_02] the first input argument must be string! It was given as "'.concat(e(t),'", equal to:\n').concat(JSON.stringify(t,null,4)));if(r&&!M(r))throw new Error("html-crush: [THROW_ID_03] the second input argument, options object, should be a plain object but it was given as type ".concat(e(r),", equal to ").concat(JSON.stringify(r,null,4)));if(r&&Array.isArray(r.breakToTheLeftOf)&&r.breakToTheLeftOf.length)for(var i=0,l=r.breakToTheLeftOf.length;i<l;i++)if(!Gt(r.breakToTheLeftOf[i]))throw new TypeError("html-crush: [THROW_ID_05] the opts.breakToTheLeftOf array contains non-string elements! For example, element at index ".concat(i,' is of a type "').concat(e(r.breakToTheLeftOf[i]),'" and is equal to:\n').concat(JSON.stringify(r.breakToTheLeftOf[i],null,4)));var u=o(o({},zt),r);!1!==u.breakToTheLeftOf&&null!==u.breakToTheLeftOf||(u.breakToTheLeftOf=[]),"boolean"==typeof u.removeHTMLComments&&(u.removeHTMLComments=u.removeHTMLComments?1:0);var c="";Array.isArray(u.breakToTheLeftOf)&&u.breakToTheLeftOf.length&&(c=s(new Set(u.breakToTheLeftOf.map((function(t){return t[0]})))).join(""));var f,h,g,p=null,v=null,T=!1,b=0,_=0,w=!1,O=!1,S=null,A=null,I=null,C=null,L=null,j=null,W=null,R=null,k=null,E=null,P=">};",H="<",N="{},:;<>~+",D=N,B=N,J=!0,q=t.length,$=Math.floor(q/2);u.reportProgressFunc&&(h=Math.floor(u.reportProgressFuncTo-.01*(u.reportProgressFuncTo-u.reportProgressFuncFrom)-u.reportProgressFuncFrom));var z=0;if(q){for(var U=0;U<q;U++)if(u.reportProgressFunc&&(q>1e3&&q<2e3?U===$&&u.reportProgressFunc(Math.floor((u.reportProgressFuncTo-u.reportProgressFuncFrom)/2)):q>=2e3&&(g=u.reportProgressFuncFrom+Math.floor(U/q*h))!==z&&(z=g,u.reportProgressFunc(g))),_++,f&&"number"==typeof f&&U>=f&&(f=void 0),null===C||!t.startsWith("</script",U)||Vt(t[U+8])){if(!f&&!w&&t.startsWith("<script",U)&&!Vt(t[U+7])){C=U,f=!0;var G="";(u.removeLineBreaks||u.removeIndentations)&&null!==v&&(v>0&&(G="\n"),$t.push(v,U,G)),v=null,p=null}if(null!==k&&null===R&&!/\w/.test(t[U])){R=t.slice(k,U);var V=x(t,~-U);">"!==t[V]||t[U].trim()?"/"===t[V]&&">"===t[x(t,V)]&&(t[U].trim()||$t.push(U,x(t,U)),">"!==t[V+1]&&$t.push(V+1,x(t,V+1))):$t.push(U,x(t,U))}if(f||w||S||"<"!==t[~-U]||null!==k||(/\w/.test(t[U])?k=U:"/"===t[x(t,~-U)]&&/\w/.test(t[x(t,x(t,~-U))])&&(k=x(t,x(t,~-U)))),!f&&(w||S)&&null!==A&&"*"===t[U]&&"/"===t[U+1]){var Z=a(Ot({str:t,from:A,to:U+2,ifLeftSideIncludesThisThenCropTightly:D,ifRightSideIncludesThisThenCropTightly:B}),2);L=Z[0],j=Z[1],A=null,null!=L?$t.push(L,j):(b+=1,U+=1),f=U+2}if(f||!w&&!S||null!==A||"/"!==t[U]||"*"!==t[U+1]||(Ut.removeCSSComments||(Ut.removeCSSComments=!0),u.removeCSSComments&&(A=U)),O&&t.startsWith("![endif",U+1)&&(O=!1),!f&&!w&&!S&&null!==I){var Y=void 0;if(t.startsWith("--\x3e",U)?Y=3:">"===t[U]&&"]"===t[U-1]&&(Y=1),Y){var K=a(Ot({str:t,from:I,to:U+Y}),2);L=K[0],j=K[1],I=null,null!=L?u.lineLengthLimit&&_-(j-L)>=u.lineLengthLimit?($t.push(L,j,"\n"),_=-Y):($t.push(L,j),_-=j-L):(b+=Y-1,U+=Y-1),f=U+Y}}if(f||w||S||!t.startsWith("\x3c!--",U)||null!==I||(t.startsWith("[if",U+4)?(O||(O=!0),2===u.removeHTMLComments&&(I=U)):!u.removeHTMLComments||O&&2!==u.removeHTMLComments||(I=U),Ut.removeHTMLComments||(Ut.removeHTMLComments=!0)),!f&&w&&null===A&&t.startsWith("</style",U)&&!Vt(t[U+7])?w=!1:f||w||null!==A||!t.startsWith("<style",U)||Vt(t[U+6])||(w=!0,(u.removeLineBreaks||u.removeIndentations)&&u.breakToTheLeftOf.includes("<style")&&t.startsWith(' type="text/css">',U+6)&&t[U+24]&&$t.push(U+23,U+23,"\n")),!f&&!S&&"\"'".includes(t[U])&&t.endsWith("style=",U)&&(S=U),f||t[U].trim()){if(!f&&(!w&&!S||null===A)){if(null!==v){if(u.removeLineBreaks&&(b+=1),J)J=!1,(u.removeIndentations||u.removeLineBreaks)&&$t.push(0,U);else if(u.removeIndentations&&!u.removeLineBreaks&&(!T&&null!==p&&U>p?$t.push(p+1,U):v+1<U&&(t.endsWith("]>",v)||t.endsWith("--\x3e",v)||t.startsWith("<![",U)||t.startsWith("\x3c!--<![",U)?$t.push(v,U):" "===t[v]?$t.push(v+1,U):" "===t[~-U]?$t.push(v,~-U):$t.push(v,U," "))),u.removeLineBreaks||S){if(c.includes(t[U])&&y(t,U,u.breakToTheLeftOf)){"\n"===t[~-U]&&v===~-U||$t.push(v,U,"\n"),L=null,j=null,W=null,v=null,b=1;continue}var Q=" ";"<"===t[U]&&m(t,U,u.mindTheInlineTags,{cb:function(t){return!t||!/\w/.test(t)}})||(t[~-v]&&">".includes(t[~-v])&&"<".includes(t[U])||(w||S)&&null===A&&(D.includes(t[~-v])||B.includes(t[U]))||t.startsWith("!important",U)&&!O||S&&("'"===t[~-v]||'"'===t[~-v])||"}"===t[~-v]&&t.startsWith("</style",U)||">"===t[U]&&("'\"".includes(t[F(t,U)])||"<"===t[x(t,U)])||"/"===t[U]&&">"===t[x(t,U)])&&(Q="","/"===t[U]&&">"===t[U+1]&&x(t,U)>U+1&&($t.push(U+1,x(t,U)),b-=x(t,U)-U+1)),Q&&Q.length&&(b+=1),u.lineLengthLimit?b>=u.lineLengthLimit||!t[U+1]||">"===t[U]||"/"===t[U]&&">"===t[U+1]?((b>u.lineLengthLimit||b===u.lineLengthLimit&&t[U+1]&&t[U+1].trim()&&!P.includes(t[U])&&!H.includes(t[U+1]))&&(Q="\n",b=1),(b>u.lineLengthLimit||" "!==Q||U!==v+1)&&$t.push(v,U,Q),L=null,j=null,W=null):(null===L||v<L)&&(L=v,j=U,W=Q):U===v+1&&" "===Q||$t.push(v,U,Q)}v=null,T||(T=!0)}else J&&(J=!1),u.removeLineBreaks&&(b+=1);T||(T=!0)}}else null===v&&(v=U);if(!f&&!J&&0!==U&&u.removeLineBreaks&&(u.lineLengthLimit||c)&&!t.startsWith("</a",U)){if(c&&y(t,U,u.breakToTheLeftOf)&&t.slice(0,U).trim()&&(!t.startsWith("<![endif]",U)||!d(t,U,"\x3c!--"))){$t.push(U,U,"\n"),L=null,j=null,W=null,b=1;continue}if(u.lineLengthLimit&&b<=u.lineLengthLimit){if(!t[U+1]||H.includes(t[U])&&!"!".includes(t[U])||P.includes(t[U])||!t[U].trim()){if(null!==L&&null!==j&&(L!==j||W&&W.length)){var X=W;t[U].trim()&&t[U+1]&&t[U+1].trim()&&b+(W?W.length:0)>u.lineLengthLimit&&(X="\n"),b+(X?X.length:0)>u.lineLengthLimit||" "!==X||j!==L+1?"}"===t[~-L]&&"{"===t[j]||$t.push(L,j,X):b-=p}!(t[U].trim()&&(H.includes(t[U])||t[~-U]&&P.includes(t[~-U]))&&Gt(E))||u.mindTheInlineTags.includes(R)||"<"===t[U]&&m(t,U,u.mindTheInlineTags,{cb:function(t){return!t||!/\w/.test(t)}})||"<"===t[U]&&m(t,U,u.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:function(t){return!t||!/\w/.test(t)}})?null!==A||null===L||!(S||!u.mindTheInlineTags||!Array.isArray(u.mindTheInlineTags)||Array.isArray(u.mindTheInlineTags.length)&&!u.mindTheInlineTags.length||!Gt(R)||Array.isArray(u.mindTheInlineTags)&&u.mindTheInlineTags.length&&Gt(R)&&!u.mindTheInlineTags.includes(R))||"<"===t[U]&&m(t,U,u.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:function(t){return!t||!/\w/.test(t)}})||(L=null,j=null,W=null):(L=U,j=U,W=null)}}else if(u.lineLengthLimit)if(!H.includes(t[U])||"<"===t[U]&&m(t,U,u.mindTheInlineTags,{trimCharsBeforeMatching:"/",cb:function(t){return!t||!/\w/.test(t)}}))t[U+1]&&P.includes(t[U])&&Gt(R)&&Array.isArray(u.mindTheInlineTags)&&u.mindTheInlineTags.length&&!u.mindTheInlineTags.includes(R)?null!==L&&null!==j&&(L!==j||W&&W.length)||($t.push(U+1,U+1,"\n"),b=0):t[U].trim()&&(t[U+1]||null!==L&&null!==j&&(L!==j||W&&W.length)&&$t.push(L,j,"\n"));else if(null!==L&&null!==j&&(L!==j||W&&W.length)){var tt=W&&W.length?W.length:0;b-(j-L-tt)-1>u.lineLengthLimit||($t.push(L,j,W),W=null,b-((j=null)-(L=null)-tt)-1===u.lineLengthLimit&&($t.push(U,U,"\n"),b=0))}else $t.push(U,U,"\n"),b=0}if(!f&&!J&&u.removeLineBreaks&&u.lineLengthLimit&&b>=u.lineLengthLimit&&null!==L&&null!==j&&!P.includes(t[U])&&!H.includes(t[U])&&!"/".includes(t[U])&&(b!==u.lineLengthLimit||!t[U+1]||t[U+1].trim())){var et="\n";t[U+1]&&!t[U+1].trim()&&b===u.lineLengthLimit&&(et=W),"\n"!==et||t[~-L].trim()||(L=F(t,L)+1),$t.push(L,j,et),b=U-j,t[U].length&&(b+=1),L=null,j=null,W=null}if((!f&&"\n"===t[U]||"\r"===t[U]&&(!t[U+1]||t[U+1]&&"\n"!==t[U+1]))&&(p=U,T&&(T=!1),!u.removeLineBreaks&&null!==v&&v<U&&t[U+1]&&"\r"!==t[U+1]&&"\n"!==t[U+1]&&$t.push(v,U)),t[U+1]||(w&&null!==A?$t.push.apply($t,s(Ot({str:t,from:A,to:U,ifLeftSideIncludesThisThenCropTightly:D,ifRightSideIncludesThisThenCropTightly:B}))):v&&"\n"!==t[U]&&"\r"!==t[U]?$t.push(v,U+1):v&&("\r"===t[U]&&"\n"===t[U+1]||"\n"===t[U]&&"\r"!==t[U-1])&&$t.push(v,U)),!f&&S&&S<U&&t[S]===t[U]&&(S=null),!f&&!w&&t.startsWith("<pre",U)&&!Vt(t[U+4])){var rt=t.indexOf("</pre",U+5);rt>0&&(f=rt)}if(!f&&!w&&t.startsWith("<code",U)&&!Vt(t[U+5])){var nt=t.indexOf("</code",U+5);nt>0&&(f=nt)}if(!f&&t.startsWith("<![CDATA[",U)){var it=t.indexOf("]]>",U+9);it>0&&(f=it)}f||w||S||null===k||">"!==t[U]||("<"===t[x(t,U)]&&(E=R),k=null,R=null),"<"===t[U]&&null!==E&&(E=null)}else{if((u.removeIndentations||u.removeLineBreaks)&&U>0&&t[~-U]&&!t[~-U].trim())for(var ot=U;ot--;)if("\n"===t[ot]||"\r"===t[ot]||t[ot].trim()){ot+1<U&&$t.push(ot+1,U);break}C=null,f=!1,U+=8}if($t.current()){var at=u.reportProgressFuncTo-.01*(u.reportProgressFuncTo-u.reportProgressFuncFrom),st=Wt(t,$t.current(),(function(t){u.reportProgressFunc&&q>=2e3&&(g=Math.floor(at+(u.reportProgressFuncTo-at)*(t/100)))!==z&&(z=g,u.reportProgressFunc(g))}));$t.wipe();var lt=st.length;return{log:{timeTakenInMiliseconds:Date.now()-n,originalLength:q,cleanedLength:lt,bytesSaved:Math.max(q-lt,0),percentageReducedOfOriginal:q?Math.round(100*Math.max(q-lt,0)/q):0},ranges:$t.current(),applicableOpts:Ut,result:st}}}return{log:{timeTakenInMilliseconds:Date.now()-n,originalLength:q,cleanedLength:q,bytesSaved:0,percentageReducedOfOriginal:0},applicableOpts:Ut,ranges:[],result:t}}function Yt(t){var r,n,i,o=!0;if(Array.isArray(t)){if(0===t.length)return!0;for(r=0,n=t.length;r<n;r++){if(null===(o=Yt(t[r])))return null;if(!o)return!1}}else if((i=t)&&"object"===e(i)&&!Array.isArray(i)){if(0===Object.keys(t).length)return!0;for(r=0,n=Object.keys(t).length;r<n;r++){if(null===(o=Yt(t[Object.keys(t)[r]])))return null;if(!o)return!1}}else{if("string"!=typeof t)return null;if(0!==t.length)return!1}return o}var Kt="__lodash_hash_undefined__",Qt="[object Function]",Xt="[object GeneratorFunction]",te=/^\[object .+?Constructor\]$/,ee="object"==e(R)&&R&&R.Object===Object&&R,re="object"==("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,ne=ee||re||Function("return this")();function ie(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,n){var i=t.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,ae,r);var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function oe(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function ae(t){return t!=t}function se(t,e){return t.has(e)}function le(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var ue=Array.prototype,ce=Function.prototype,fe=Object.prototype,he=ne["__core-js_shared__"],ge=function(){var t=/[^.]+$/.exec(he&&he.keys&&he.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pe=ce.toString,de=fe.hasOwnProperty,ye=fe.toString,me=RegExp("^"+pe.call(de).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=ue.splice,Te=We(ne,"Map"),be=We(ne,"Set"),_e=We(Object,"create");function we(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Oe(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Se(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ae(t){var e=-1,r=t?t.length:0;for(this.__data__=new Se;++e<r;)this.add(t[e])}function Ie(t,e){for(var r,n,i=t.length;i--;)if((r=t[i][0])===(n=e)||r!=r&&n!=n)return i;return-1}function Ce(t){return!(!Me(t)||function(t){return!!ge&&ge in t}(t))&&(function(t){var e=Me(t)?ye.call(t):"";return e==Qt||e==Xt}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?me:te).test(function(t){if(null!=t){try{return pe.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}we.prototype.clear=function(){this.__data__=_e?_e(null):{}},we.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},we.prototype.get=function(t){var e=this.__data__;if(_e){var r=e[t];return r===Kt?void 0:r}return de.call(e,t)?e[t]:void 0},we.prototype.has=function(t){var e=this.__data__;return _e?void 0!==e[t]:de.call(e,t)},we.prototype.set=function(t,e){return this.__data__[t]=_e&&void 0===e?Kt:e,this},Oe.prototype.clear=function(){this.__data__=[]},Oe.prototype.delete=function(t){var e=this.__data__,r=Ie(e,t);return!(r<0)&&(r==e.length-1?e.pop():ve.call(e,r,1),!0)},Oe.prototype.get=function(t){var e=this.__data__,r=Ie(e,t);return r<0?void 0:e[r][1]},Oe.prototype.has=function(t){return Ie(this.__data__,t)>-1},Oe.prototype.set=function(t,e){var r=this.__data__,n=Ie(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Se.prototype.clear=function(){this.__data__={hash:new we,map:new(Te||Oe),string:new we}},Se.prototype.delete=function(t){return je(this,t).delete(t)},Se.prototype.get=function(t){return je(this,t).get(t)},Se.prototype.has=function(t){return je(this,t).has(t)},Se.prototype.set=function(t,e){return je(this,t).set(t,e),this},Ae.prototype.add=Ae.prototype.push=function(t){return this.__data__.set(t,Kt),this},Ae.prototype.has=function(t){return this.__data__.has(t)};var Le=be&&1/le(new be([,-0]))[1]==1/0?function(t){return new be(t)}:function(){};function je(t,r){var n,i,o=t.__data__;return("string"==(i=e(n=r))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof r?"string":"hash"]:o.map}function We(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Ce(r)?r:void 0}function Me(t){var r=e(t);return!!t&&("object"==r||"function"==r)}var Re=function(t){return t&&t.length?function(t,e,r){var n=-1,i=ie,o=t.length,a=!0,s=[],l=s;if(r)a=!1,i=oe;else if(o>=200){var u=e?null:Le(t);if(u)return le(u);a=!1,i=se,l=new Ae}else l=e?[]:s;t:for(;++n<o;){var c=t[n],f=e?e(c):c;if(c=r||0!==c?c:0,a&&f==f){for(var h=l.length;h--;)if(l[h]===f)continue t;e&&l.push(f),s.push(c)}else i(l,f,r)||(l!==s&&l.push(f),s.push(c))}return s}(t):[]},ke=/[\n]?\s*<style[^>]*>\s*<\/style\s*>/g,xe=/[\n]?\s*@(media|supports|document)[^{]*{\s*}/g,Fe=/@media[^{@}]+{(?=\s*<\/style>)/g,Ee={whitelist:[],backend:[],uglify:!1,removeHTMLComments:!0,removeCSSComments:!0,doNotRemoveHTMLCommentsWhoseOpeningTagContains:["[if","[endif"],reportProgressFunc:null,reportProgressFuncFrom:0,reportProgressFuncTo:100};function Pe(t){return t&&"object"===e(t)&&!Array.isArray(t)}function He(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ne(t){return"string"==typeof t&&1===t.length&&(t.charCodeAt(0)>64&&t.charCodeAt(0)<91||t.charCodeAt(0)>96&&t.charCodeAt(0)<123)}t.comb=function(t,r){var n,i,a,l=Date.now(),u=new qt({limitToBeAddedWhitespace:!0}),c=new qt,f=new qt;function h(t){return/[-_A-Za-z0-9]/.test(t)}function g(t){return"string"==typeof t}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o({valuesStart:null,valueStart:null,nameStart:null},t)}var v,T,w,O,S,A,I,C,L,j,W,M,R,k,P,H,N,D,B,J,q=[],$=[],z=[],U={},G=0,V=0,Z=!1,Y=null,K=!1,Q=0,X=0,tt=["media","supports","document"],et=["font-feature-values","counter-style","namespace","font-face","keyframes","viewport","charset","import","page"],rt=["{","(","<",'"',"'","@",";"];if("string"!=typeof t)throw new TypeError("email-remove-unused-css: [THROW_ID_01] Input must be string! Currently it's ".concat(e(t)));if(!Pe(r)){if(null!=r)throw new TypeError("email-remove-unused-css: [THROW_ID_02] Options, second input argument, must be a plain object! Currently it's ".concat(e(r),", equal to: ").concat(JSON.stringify(r,null,4)));r={}}if(g(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length?r.doNotRemoveHTMLCommentsWhoseOpeningTagContains=[r.doNotRemoveHTMLCommentsWhoseOpeningTagContains]:r.doNotRemoveHTMLCommentsWhoseOpeningTagContains=[]),Pe(r)&&He(r,"backend")&&Yt(r.backend)&&(r.backend=[]),g((r=o(o({},Ee),r)).whitelist)&&(r.whitelist=[r.whitelist]),!Array.isArray(r.whitelist))throw new TypeError("email-remove-unused-css: [THROW_ID_03] opts.whitelist should be an array, but it was customised to a wrong thing, ".concat(JSON.stringify(r.whitelist,null,4)));if(r.whitelist.length>0&&!r.whitelist.every((function(t){return g(t)})))throw new TypeError("email-remove-unused-css: [THROW_ID_04] opts.whitelist array should contain only string-type elements. Currently we\ve got:\n".concat(JSON.stringify(r.whitelist,null,4)));if(!Array.isArray(r.backend))throw new TypeError("email-remove-unused-css: [THROW_ID_05] opts.backend should be an array, but it was customised to a wrong thing, ".concat(JSON.stringify(r.backend,null,4)));if(r.backend.length>0&&r.backend.some((function(t){return!Pe(t)})))throw new TypeError("email-remove-unused-css: [THROW_ID_06] opts.backend array should contain only plain objects but it contains something else:\n".concat(JSON.stringify(r.backend,null,4)));if(r.backend.length>0&&!r.backend.every((function(t){return He(t,"heads")&&He(t,"tails")})))throw new TypeError('email-remove-unused-css: [THROW_ID_07] every object within opts.backend should contain keys "heads" and "tails" but currently it\'s not the case. Whole "opts.backend" value array is currently equal to:\n'.concat(JSON.stringify(r.backend,null,4)));if("boolean"!=typeof r.uglify){if(1!==r.uglify&&0!==r.uglify)throw new TypeError("email-remove-unused-css: [THROW_ID_08] opts.uglify should be a Boolean. Currently it's set to: ".concat(JSON.stringify(r.uglify,null,4),"}"));r.uglify=!!r.uglify}if(r.reportProgressFunc&&"function"!=typeof r.reportProgressFunc)throw new TypeError("email-remove-unused-css: [THROW_ID_09] opts.reportProgressFunc should be a function but it was given as :\n".concat(JSON.stringify(r.reportProgressFunc,null,4)," (").concat(e(r.reportProgressFunc),")"));var nt=null,it=null;Array.isArray(r.backend)&&r.backend.length&&(nt=r.backend.map((function(t){return t.heads})),it=r.backend.map((function(t){return t.tails})));var ot,at=t.length;r.reportProgressFunc&&(ot=Math.floor((r.reportProgressFuncTo-.06*(r.reportProgressFuncTo-r.reportProgressFuncFrom)-r.reportProgressFuncFrom)/2));var st,lt,ut,ct,ft,ht,gt,pt,dt,yt,mt,vt,Tt=0;t.length&&"\r\n".includes(t[t.length-1])||(Tt=1);for(var bt,_t,It,Ct,Lt,jt,Mt,Rt=0,kt=function(e){A=!1,P=null,Z=!1,B=!0,D=!0,O=p(),M=!0,K=!1,H=null,S=p(),T=null,dt=!1,Y=null,yt=null,mt=null,I=!1,k=null,null,bt=!1,v=null,lt=null,i=null,w=null,Lt=null,a=null,st=!1,G+=at;t:for(n=0;n<at;n++){r.reportProgressFunc&&(at>1e3&&at<2e3?1===e&&0===n&&r.reportProgressFunc(Math.floor((r.reportProgressFuncTo-r.reportProgressFuncFrom)/2)):at>=2e3&&(pt=r.reportProgressFuncFrom+Math.floor(n/at*ot)+(1===e?0:ot))!==Rt&&(Rt=pt,r.reportProgressFunc(pt)));var l=t[n];if("\n"===t[n]?t[n-1]:"\r"===t[n]&&t[n+1],!0!==dt&&(null===a&&null!==i&&n>=i||null!==i&&null!==a&&i>a&&i<n)?(dt=!0,bt=!1):!0!==bt&&null!==w&&(null===i||i<n)&&(null===a||a<n)&&(bt=!0,dt=!1),!st&&('"'===t[n]||"'"===t[n]))if(yt){if('"'===t[n]&&"'"===t[x(t,n)]&&'"'===t[x(t,x(t,n))]||"'"===t[n]&&'"'===t[x(t,n)]&&"'"===t[x(t,x(t,n))]){n=x(t,x(t,n));continue}yt===t[n]&&(yt=null)}else{var f=F(t,n);(dt&&["(",",",":"].includes(t[f])||bt&&!dt&&["(",",",":","="].includes(t[f]))&&(yt=t[n])}if(st)if(null===lt||"string"!=typeof lt||"string"==typeof lt&&!lt)st=!1;else if(y(t,n,lt)){if(null!==v){if(1===e&&r.removeCSSComments){var g=d(t,v,["\r\n","\n","\r"]),Tt=v;g&&(Tt-=g.length),t[Tt-1]&&h(t[Tt-1])&&t[n+lt.length]&&h(t[n+lt.length])?(u.push(Tt,n+lt.length,";"),X+=n+lt.length-Tt):(u.push(Tt,n+lt.length),X+=n+lt.length-Tt)}v=null}n=n+lt.length-1,lt=null,st=!1;continue}if(!st&&"<"===t[n]&&"s"===t[n+1]&&"t"===t[n+2]&&"y"===t[n+3]&&"l"===t[n+4]&&"e"===t[n+5]){A=!0,dt||(dt=!0);for(var Wt=n;Wt<at;Wt++)if(G+=1,">"===t[Wt]){i=Wt+1,k=Wt+1;break}}if(!st&&dt&&"<"===t[n]&&"/"===t[n+1]&&"s"===t[n+2]&&"t"===t[n+3]&&"y"===t[n+4]&&"l"===t[n+5]&&"e"===t[n+6]&&(a=n-1,k=null,A=!1,dt&&(dt=!1)),1!==e||!dt&&!bt||"/"!==t[n]||"*"!==t[n+1]||v){if(!st&&dt&&"@"===t[n]){mt&&(mt=null);var kt=m(t,n,tt)||m(t,n,et);if(kt){var xt=void 0;(";"===t[n+kt.length+1]||t[n+kt.length+1]&&!t[n+kt.length+1].trim()&&m(t,n+kt.length+1,";",{trimBeforeMatching:!0,cb:function(t,e,r){return xt=r,!0}}))&&u.push(n,xt||n+kt.length+2);for(var Ft=void 0,Pt=n+1;Pt<at;Pt++)if(G+=1,Ft&&t[Pt]===Ft){if("}"===t[Pt]&&et.includes(kt)||"{"===t[Pt]&&tt.includes(kt)){n=Pt,k=Pt+1;continue t}Ft=void 0}else if('"'!==t[Pt]||Ft?"'"!==t[Pt]||Ft?"("!==t[Pt]||Ft?et.includes(kt)&&"{"===t[Pt]&&!Ft&&(Ft="}"):Ft=")":Ft="'":Ft='"',!Ft&&rt.includes(t[Pt])){var Ht=void 0,Nt=void 0;if("{"===t[Pt]||";"===t[Pt]){I=!1,k=Pt+1,n=Pt;continue t}"@"!==t[Pt]&&"<"!==t[Pt]||1!==e||t.slice(n,Pt).includes("{")||t.slice(n,Pt).includes("(")||t.slice(n,Pt).includes('"')||t.slice(n,Pt).includes("'")||(Ht=n,Nt=Pt+(";"===t[Pt]?1:0),u.push(Ht,Nt));var Dt=Nt?Nt-1:Pt-1+("{"===t[Pt]?1:0);n=Dt,k=Dt+1;continue t}}}if(!st&&dt&&I&&A&&"}"===l&&!yt&&!V&&(2===e&&D&&k&&u.push(k,n+1),I=!1,k&&(k=n+1),P=null,Z=!1,D=!0,H=null,Y=null,K=!1),!st&&!v&&i&&n>=i&&(null===a&&n>=i||i>a&&i<=n)&&n>=null&&!I){if(null===H){if("."===l||"#"===l)H=n;else if(d(t,n,"[class="))Ne(l)?(H=n,N="."):"\"'".includes(l)&&Ne(t[x(t,n)])&&(H=x(t,n),N=".");else if(d(t,n,"[id="))Ne(l)?(H=n,N="#"):"\"'".includes(l)&&Ne(t[x(t,n)])&&(H=x(t,n),N="#");else if(l.trim())if("}"===l)k=n+1,Lt=null;else if("<"===l&&"!"===t[n+1])for(var Bt=n;Bt<at;Bt++)if(G+=1,">"===t[Bt]){k=Bt+1,P=Bt+1,n=Bt;continue t}}else if(null!==H&&!h(l)){var Jt=t.slice(H,n);N&&(Jt="".concat(N).concat(Jt),N=void 0),2===e&&!Z&&Ct.includes(Jt)?(Z=!0,K=!0):2!==e||Z||(!r.uglify||Array.isArray(r.whitelist)&&r.whitelist.length&&b([Jt],r.whitelist).length||c.push(H,n,L[ct.indexOf(Jt)]),","===l&&(Y=n,K=!1)),H="."===l||"#"===l?n:null}if(null===P)!l.trim()||"}"===l||";"===l||"/"===t[n]&&"*"===t[n+1]||(Z=!1,P=n);else if(",{".includes(l)){var qt=mt||n;if(Lt=t.slice(P,qt),1===e)mt&&(","===l&&mt<n?(u.push(mt,n),Q+=n-mt):"{"===l&&mt<n-1&&(u.push(mt,n-1),Q+=n-1-mt)),q.push(Lt);else if(Z){var $t=P,zt=n,Ut=void 0;if("{"===l&&">"!==t[$t-1]&&"}"!==t[$t-1]){for(var Gt=P;Gt--;)if(G+=1,t[Gt].trim()&&","!==t[Gt]){$t=Gt+1;break}t[n-1].trim()||(zt=n-1)}else if(","!==l||t[n+1].trim())d(t,$t,"{",{trimBeforeMatching:!0,cb:function(t,e,r){return Ut=r,!0}})&&($t=Ut+2);else for(var Vt=n+1;Vt<at;Vt++)if(G+=1,t[Vt].trim()){zt=Vt;break}var Zt=Ot({str:t,from:$t,to:zt,ifRightSideIncludesThisThenCropTightly:".#",ifRightSideIncludesThisCropItToo:",",extendToOneSide:"right"});u.push.apply(u,s(Zt)),r.uglify&&c.wipe()}else D&&(D=!1),K&&(K=!1),r.uglify&&(u.push(c.current()),c.wipe());if("{"!==l)P=null;else if(2===e&&!D&&null!==Y&&K){var Yt=Y+1;if("\n\r".includes(t[Y+1]))for(var Kt=Y+1;Kt<at;Kt++)if(t[Kt].trim()){Yt=Kt;break}u.push(Y,Yt),Y=null,K=!1}}}if(!st&&!dt&&bt&&"/"===t[n]&&m(t,n,"body",{trimBeforeMatching:!0,i:!0})&&d(t,n,"<",{trimBeforeMatching:!0})&&(bt=!1,w=null),!st&&"<"===t[n]&&m(t,n,"body",{i:!0,trimBeforeMatching:!0,cb:function(t,r,i){if(1===e){if(void 0!==t&&(""===t.trim()||">"===t)){if(!(i-n>5))return!0;u.push(n,i,"<body"),Q+=i-n-5}return!0}return!0}}))for(var Qt=n;Qt<at;Qt++)if(G+=1,">"===t[Qt]){w=Qt+1;break}if(!st&&bt&&!dt&&"s"===t[n]&&"t"===t[n+1]&&"y"===t[n+2]&&"l"===t[n+3]&&"e"===t[n+4]&&"="===t[n+5]&&".# ~\\!@$%^&*()+=,/';:\"?><[]{}|`\t\n".includes(t[n-1])&&"\"'".includes(t[n+6]),!st&&bt&&!dt&&!yt&&"c"===t[n]&&"l"===t[n+1]&&"a"===t[n+2]&&"s"===t[n+3]&&"s"===t[n+4]&&t[n-1]&&!t[n-1].trim()){var Xt=void 0,te=!1;if("="===t[n+5]){if('"'===t[n+6]||"'"===t[n+6])Xt=n+7;else if(h(t[n+6]))Xt=n+6,te=!0;else if(t[n+6]&&(!t[n+6].trim()||"/>".includes(t[n+6]))){var ee=Ot({str:t,from:n,to:n+6,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0});u.push.apply(u,s(ee))}}else if(!t[n+5].trim())for(var re=n+5;re<at;re++)if(G+=1,t[re].trim()){if("="===t[re])if(re>n+5&&1===e&&u.push(n+5,re),'"'!==t[re+1]&&"'"!==t[re+1]||!t[re+2]){if(t[re+1]&&!t[re+1].trim())for(var ne=re+1;ne<at;ne++)if(G+=1,t[ne].trim()){ne>re+1&&1===e&&u.push(re+1,ne),'"'!==t[ne]&&"'"!==t[ne]||!t[ne+1]||(Xt=ne+1);break}}else Xt=re+2;break}Xt&&(O=p({valuesStart:Xt,quoteless:te,nameStart:n}),1===e?M=!0:2===e&&(B=!0))}if(!st&&bt&&!dt&&!yt&&"i"===t[n]&&"d"===t[n+1]&&t[n-1]&&!t[n-1].trim()){var ie=void 0,oe=!1;if("="===t[n+2]){if('"'===t[n+3]||"'"===t[n+3])ie=n+4;else if(h(t[n+3]))ie=n+3,oe=!0;else if(t[n+3]&&(!t[n+3].trim()||"/>".includes(t[n+3]))){var ae=Ot({str:t,from:n,to:n+3,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0});u.push.apply(u,s(ae))}}else if(!t[n+2].trim())for(var se=n+2;se<at;se++)if(G+=1,t[se].trim()){if("="===t[se])if(se>n+2&&1===e&&u.push(n+2,se),'"'!==t[se+1]&&"'"!==t[se+1]||!t[se+2]){if(t[se+1]&&!t[se+1].trim())for(var le=se+1;le<at;le++)if(G+=1,t[le].trim()){le>se+1&&1===e&&u.push(se+1,le),'"'!==t[le]&&"'"!==t[le]||!t[le+1]||(ie=le+1);break}}else ie=se+2;break}ie&&(S=p({valuesStart:ie,quoteless:oe,nameStart:n}),1===e?M=!0:2===e&&(B=!0))}if(!st&&null!==O.valuesStart&&n>=O.valuesStart&&null===O.valueStart&&(nt&&y(t,n,nt)?function(){if(st=!0,B=!1,mt&&n>mt+1){var e=Ot({str:t,from:mt,to:n,ifLeftSideIncludesThisThenCropTightly:"\"'",ifRightSideIncludesThisThenCropTightly:"\"'"});u.push.apply(u,s(e)),mt=null}else mt&&(mt=null);var i=y(t,n,nt),o=r.backend.find((function(t){return t.heads===i}));lt=o.tails}():h(l)&&(O.valueStart=n,1===e&&(O.quoteless&&u.push(n,n,'"'),M&&null!==O.valuesStart&&!t.slice(O.valuesStart,n).trim()&&O.valuesStart<n?(u.push(O.valuesStart,n),Q+=n-O.valuesStart,M=!1):null!==mt&&mt<n-1&&(u.push(mt+1,n),Q+=n-mt+1)))),!st&&null!==O.valueStart&&n>O.valueStart&&(!h(l)||it&&y(t,n,it)))if(nt&&y(t,n,nt))!function(){O.valueStart=null,O=p();var e=y(t,n,nt),i=r.backend.find((function(t){return t.heads===e}));lt=i.tails}();else{var ue="".concat(t.slice(O.valueStart,n));if(1===e)$.push(".".concat(ue)),O.quoteless&&("\"'".includes(t[n])||u.push(n,n,'"'));else if(null!=O.valueStart&&vt.includes(ue)){var ce=Ot({str:t,from:O.valueStart,to:n,ifLeftSideIncludesThisThenCropTightly:"\"'",ifRightSideIncludesThisThenCropTightly:"\"'",wipeAllWhitespaceOnLeft:!0}),fe="";t[ce[0]-1]&&t[ce[0]-1].trim()&&t[ce[1]]&&t[ce[1]].trim()&&(nt||it)&&(nt&&d(t,ce[0],it)||it&&y(t,ce[1],nt))&&(fe=" "),u.push.apply(u,s(ce).concat([fe]))}else B=!1,!r.uglify||Array.isArray(r.whitelist)&&r.whitelist.length&&b([".".concat(ue)],r.whitelist).length||u.push(O.valueStart,n,L[ct.indexOf(".".concat(ue))].slice(1));O.valueStart=null}if(!st&&null!==S.valueStart&&n>S.valueStart&&(!h(l)||it&&y(t,n,it))){var he=t.slice(S.valueStart,n);if(1===e)z.push("#".concat(he)),S.quoteless&&("\"'".includes(t[n])||u.push(n,n,'"'));else if(null!=S.valueStart&&_t.includes(he)){var ge=Ot({str:t,from:S.valueStart,to:n,ifRightSideIncludesThisThenCropTightly:"\"'",wipeAllWhitespaceOnLeft:!0});t[ge[0]-1]&&t[ge[0]-1].trim()&&t[ge[1]]&&t[ge[1]].trim()&&(nt||it)&&(nt&&d(t,ge[0],it)||it&&y(t,ge[1],nt))&&(ge[0]+=1),u.push.apply(u,s(ge))}else B=!1,!r.uglify||Array.isArray(r.whitelist)&&r.whitelist.length&&b(["#".concat(he)],r.whitelist).length||u.push(S.valueStart,n,L[ct.indexOf("#".concat(he))].slice(1));S.valueStart=null}if(!st&&null!=O.valuesStart&&(!O.quoteless&&("'"===l||'"'===l)||O.quoteless&&!h(t[n]))&&n>=O.valuesStart){if(n===O.valuesStart)1===e&&u.push.apply(u,s(Ot({str:t,from:O.nameStart,to:n+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0})));else{if(2===e&&B){var pe=Ot({str:t,from:O.valuesStart-7,to:n+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0}),de="";t[pe[0]-1]&&t[pe[0]-1].trim()&&t[pe[1]]&&t[pe[1]].trim()&&!"/>".includes(t[pe[1]])&&(de=" "),u.push.apply(u,s(pe).concat([de]))}null!==mt&&u.push(mt,n)}O=p()}if(!st&&null!==S.valuesStart&&(!S.quoteless&&("'"===l||'"'===l)||S.quoteless&&!h(t[n]))&&n>=S.valuesStart){if(n===S.valuesStart)1===e&&u.push.apply(u,s(Ot({str:t,from:S.nameStart,to:n+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0})));else{if(2===e&&B){var ye=Ot({str:t,from:S.valuesStart-4,to:n+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0}),me="";t[ye[0]-1]&&t[ye[0]-1].trim()&&t[ye[1]]&&t[ye[1]].trim()&&!"/>".includes(t[ye[1]])&&(me=" "),u.push.apply(u,s(ye).concat([me]))}null!==mt&&u.push(mt,n)}S=p()}if(!st&&S.valuesStart&&n>=S.valuesStart&&null===S.valueStart&&(nt&&y(t,n,nt)?function(){if(st=!0,B=!1,mt&&n>mt+1){var e=Ot({str:t,from:mt,to:n,ifLeftSideIncludesThisThenCropTightly:"\"'",ifRightSideIncludesThisThenCropTightly:"\"'"});u.push.apply(u,s(e)),mt=null}else mt&&(mt=null);var i=y(t,n,nt),o=r.backend.find((function(t){return t.heads===i}));lt=o.tails}():h(l)&&(S.valueStart=n,1===e&&(S.quoteless&&u.push(n,n,'"'),M&&null!==S.valuesStart&&!t.slice(S.valuesStart,n).trim()&&S.valuesStart<n?(u.push(S.valuesStart,n),Q+=n-S.valuesStart,M=!1):null!==mt&&mt<n-1&&(u.push(mt+1,n),Q+=n-mt+1)))),!st&&1===e){if(null!==v&&v<n&&">"===t[n]&&!Mt&&(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains&&Array.isArray(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length&&r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(e){return e.trim()&&t.slice(v,n).toLowerCase().includes(e)}))&&(jt=!1),Mt=!0),null!==v&&">"===t[n])if(R||"-"!==t[n-1]||"-"!==t[n-2]){if(R){var ve=Ot({str:t,from:v,to:n+1,wipeAllWhitespaceOnLeft:!0,addSingleSpaceToPreventAccidentalConcatenation:!0});r.removeHTMLComments&&jt&&u.push.apply(u,s(ve)),X+=ve[1]-ve[0],v=null,R=void 0}}else{var Te=Ot({str:t,from:v,to:n+1,wipeAllWhitespaceOnLeft:!0,addSingleSpaceToPreventAccidentalConcatenation:!0});r.removeHTMLComments&&jt&&u.push.apply(u,s(Te)),X+=Te[1]-Te[0],v=null,R=void 0}r.removeHTMLComments&&null===v&&"<"===t[n]&&"!"===t[n+1]&&((!nt||Array.isArray(nt)&&nt.length&&!nt.includes("<!"))&&(!it||Array.isArray(it)&&it.length&&!it.includes("<!"))&&(m(t,n+1,"doctype",{i:!0,trimBeforeMatching:!0})||"-"===t[n+2]&&"-"===t[n+3]&&Array.isArray(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length&&m(t,n+3,r.doNotRemoveHTMLCommentsWhoseOpeningTagContains,{trimBeforeMatching:!0})||(v=n,Mt=!1,jt=!0),R=!("-"===t[n+2]&&"-"===t[n+3])),v!==n&&(T=n))}if("}"===l&&V&&(V-=1),!st&&"{"===l&&A&&(I?V+=1:(I=!0,null!==mt&&(t.slice(mt,n).includes("\n")||t.slice(mt,n).includes("\r"))&&u.push(mt,n))),st||(t[n].trim()?null!==mt&&(mt=null):null===mt&&(mt=n)),!st&&2===e&&Array.isArray(J)&&J.length&&n===J[0][0]){var be=J.shift();be[1]-1>n&&(n=be[1]-1)}else if(null!==T&&">"===t[n]){T=null;var _e=void 0;if(r.removeHTMLComments&&Array.isArray(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length&&(r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(t){return t.includes("if")}))||r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(t){return t.includes("mso")}))||r.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some((function(t){return t.includes("ie")})))&&m(t,n,"\x3c!--",{trimBeforeMatching:!0,cb:function(t,e,r){return _e=r,!0}})){m(t,_e-1,"--\x3e",{trimBeforeMatching:!0,cb:function(t,e,r){return _e=r,!0}}),n=_e-1;continue}}}else v=n,st=!0,lt="*/",n+=1}if(1===e){ht=Re($.concat(z)),q.forEach((function(t){E(t).forEach((function(t){Object.prototype.hasOwnProperty.call(U,t)?U[t]+=1:U[t]=1}))})),gt=o({},U),ft=Re(q.reduce((function(t,e){return t.concat(E(e))}),[])),W=ft.length;for(var we,Oe=Array.from(q),Se=[],Ae=0,Ie=Oe.length;Ae<Ie;Ae++){G+=1;var Ce,Le=void 0;if(null!=Oe[Ae]&&(Le=E(Oe[Ae])),!Le.every((function(t){return ht.includes(t)})))(Ce=Se).push.apply(Ce,s(E(Oe[Ae]))),Oe.splice(Ae,1),Ae-=1,Ie-=1}Se=Re(_(Se,r.whitelist)),we=Oe.length>0?Oe.reduce((function(t,e){return t.concat(E(e))}),[]):[],Ct=_(Et(Re(Array.from(ft)),$.concat(z)),r.whitelist),It=Re(_(Et($.concat(z),we),r.whitelist)),Ct=Re(Ct.concat(wt(Se,It))),vt=It.filter((function(t){return t.startsWith(".")})).map((function(t){return t.slice(1)})),_t=It.filter((function(t){return t.startsWith("#")})).map((function(t){return t.slice(1)})),ut=Object.keys(gt).filter((function(t){return gt[t]<1})),vt=Re(vt.concat(wt(_(ht,r.whitelist),ut).filter((function(t){return"."===t[0]})).map((function(t){return t.slice(1)}))));var je=b(ht,r.whitelist);It=Re(It.concat(vt.map((function(t){return".".concat(t)})),_t.map((function(t){return"#".concat(t)})))),ct=Et(Et(Array.from(ft),It),Ct),Array.isArray(je)&&je.length&&je.forEach((function(t){ct.includes(t)||ct.push(t)})),r.uglify&&(L=function(t){var e="abcdefghijklmnopqrstuvwxyz",r="abcdefghijklmnopqrstuvwxyz0123456789",n={a:!1,b:!1,c:!1,d:!1,e:!1,f:!1,g:!1,h:!1,i:!1,j:!1,k:!1,l:!1,m:!1,n:!1,o:!1,p:!1,q:!1,r:!1,s:!1,t:!1,u:!1,v:!1,w:!1,x:!1,y:!1,z:!1},i={a:!1,b:!1,c:!1,d:!1,e:!1,f:!1,g:!1,h:!1,i:!1,j:!1,k:!1,l:!1,m:!1,n:!1,o:!1,p:!1,q:!1,r:!1,s:!1,t:!1,u:!1,v:!1,w:!1,x:!1,y:!1,z:!1},o={a:!1,b:!1,c:!1,d:!1,e:!1,f:!1,g:!1,h:!1,i:!1,j:!1,k:!1,l:!1,m:!1,n:!1,o:!1,p:!1,q:!1,r:!1,s:!1,t:!1,u:!1,v:!1,w:!1,x:!1,y:!1,z:!1},a=[];if(!St(t)||!t.length)return t;for(var s=0,l=t.length;s<l;s++)if(t.indexOf(t[s])<s)a.push(a[t.indexOf(t[s])]);else{var u=".#".includes(t[s][0])?t[s][0]:"",c=Array.from(t[s]).reduce((function(t,e){return t+At(e)}),0);if(".#".includes(t[s][0])&&t[s].length<4||!".#".includes(t[s][0])&&t[s].length<3){var f=t[s];if(!a.includes(f)){a.push(f),f.startsWith(".")&&2===f.length&&!n[f.slice(1)]?n[f.slice(1)]=!0:f.startsWith("#")&&2===f.length&&!i[f.slice(1)]?i[f.slice(1)]=!0:f.startsWith(".")||f.startsWith("#")||1!==f.length||o[f]||(o[f]=!0);continue}}var h="".concat(u).concat(e[c%e.length]).concat(r[c%r.length]);if(a.includes(h)){for(var g=h,p=0,d=Array.from(t[s]).reduce((function(t,e){return t<200?t+At(e):(t+At(e))%r.length}),0),y=Array.from(t[s]).map((function(t){return At(t)})).reduce((function(t,e){var r=t+e;do{r=String(r).split("").reduce((function(t,e){return t+Number.parseInt(e,10)}),0)}while(r>=10);return r}),0);a.includes(g);)g+=r[d*y*(p+=1)%r.length];h=g}a.push(h),h.startsWith(".")&&2===h.length&&!n[h.slice(1)]?n[h.slice(1)]=!0:h.startsWith("#")&&2===h.length&&!i[h.slice(1)]?i[h.slice(1)]=!0:h.startsWith(".")||h.startsWith("#")||1!==h.length||o[h]||(o[h]=!0)}for(var m=0,v=a.length;m<v;m++)a[m].startsWith(".")?n[a[m].slice(1,2)]?n[a[m].slice(1,2)]===a[m]&&(a[m]=a[m].slice(0,2)):(n[a[m].slice(1,2)]=a[m],a[m]=a[m].slice(0,2)):a[m].startsWith("#")?i[a[m].slice(1,2)]?i[a[m].slice(1,2)]===a[m]&&(a[m]=a[m].slice(0,2)):(i[a[m].slice(1,2)]=a[m],a[m]=a[m].slice(0,2)):a[m].startsWith(".")||a[m].startsWith("#")||(o[a[m].slice(0,1)]?o[a[m].slice(0,1)]===a[m]&&(a[m]=a[m].slice(0,1)):(o[a[m].slice(0,1)]=a[m],a[m]=a[m].slice(0,1)));return a}(ct)),j=ct.length,C=r.uglify?ct.map((function(t,e){return[t,L[e]]})).filter((function(t){return!r.whitelist.some((function(e){return b.isMatch(t[0],e)}))})):null,J=u.current()?Array.from(u.current()):null}},xt=1;xt<=2;xt++)kt(xt);u.push(f.current()),t.length&&u.current()&&(t=Wt(t,u.current()),u.wipe());var Ft=r.reportProgressFuncTo-.06*(r.reportProgressFuncTo-r.reportProgressFuncFrom);for(r.reportProgressFunc&&at>=2e3&&(pt=Math.floor(Ft+(r.reportProgressFuncTo-Ft)/5))!==Rt&&(Rt=pt,r.reportProgressFunc(pt));xe.test(t)||Fe.test(t);)t=(t=t.replace(xe,"")).replace(Fe,""),G+=t.length;r.reportProgressFunc&&at>=2e3&&(pt=Math.floor(Ft+(r.reportProgressFuncTo-Ft)/5*2))!==Rt&&(Rt=pt,r.reportProgressFunc(pt)),t=t.replace(ke,"\n"),G+=t.length,r.reportProgressFunc&&at>=2e3&&(pt=Math.floor(Ft+(r.reportProgressFuncTo-Ft)/5*3))!==Rt&&(Rt=pt,r.reportProgressFunc(pt));var Pt=t.length;return t=t.replace(/<!(--)?\[if[^\]]*]>[<>!-\s]*<!\[endif\]\1>/gi,""),G+=t.length,Pt!==t.length&&(X+=t.length-Pt),r.reportProgressFunc&&at>=2e3&&(pt=Math.floor(Ft+(r.reportProgressFuncTo-Ft)/5*4))!==Rt&&(Rt=pt,r.reportProgressFunc(pt)),(Pt=(t=Zt(t,{removeLineBreaks:!1,removeIndentations:!1,removeHTMLComments:!1,removeCSSComments:!1,lineLengthLimit:500}).result).length)!==t.length&&(Q+=t.length-Pt),G+=t.length,r.reportProgressFunc&&at>=2e3&&(pt=Math.floor(Ft+(r.reportProgressFuncTo-Ft)))!==Rt&&(Rt=pt,r.reportProgressFunc(pt)),t.length&&(t[0].trim()&&t[t.length-1].trim()||t.length===t.trim()||(Q+=t.length-t.trim()),t=t.trimStart()),t=t.replace(/ ((class|id)=["']) /g," $1"),{log:{timeTakenInMiliseconds:Date.now()-l,traversedTotalCharacters:G,traversedTimesInputLength:at?Math.round(G/at*100)/100:0,originalLength:at,cleanedLength:t.length,bytesSaved:Math.max(at-t.length,0),percentageReducedOfOriginal:at?Math.round(100*Math.max(at-t.length,0)/at):0,nonIndentationsWhitespaceLength:Math.max(Q-Tt,0),nonIndentationsTakeUpPercentageOfOriginal:at&&Math.max(Q-Tt,0)?Math.round(100*Math.max(Q,0)/at):0,commentsLength:X,commentsTakeUpPercentageOfOriginal:at&&X?Math.round(100*X/at):0,uglified:C},result:t,countAfterCleaning:j,countBeforeCleaning:W,allInHead:ft.sort(),allInBody:ht.sort(),deletedFromHead:Ct.sort(),deletedFromBody:It.sort()}},t.defaults=Ee,t.version="4.0.2",Object.defineProperty(t,"__esModule",{value:!0})}));
