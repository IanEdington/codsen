/**
 * email-comb
 * Remove unused CSS from email templates
 * Version: 1.0.1
 * Author: Roy Revelt, Codsen Ltd
 * License: MIT
 * Homepage: https://bitbucket.org/codsen/email-comb/
 */

!function(f,u){"object"==typeof exports&&"undefined"!=typeof module?module.exports=u():"function"==typeof define&&define.amd?define(u):(f=f||self).emailComb=u()}(this,function(){"use strict";function f(u){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}function u(f){return function(f){if(Array.isArray(f)){for(var u=0,v=new Array(f.length);u<f.length;u++)v[u]=f[u];return v}}(f)||function(f){if(Symbol.iterator in Object(f)||"[object Arguments]"===Object.prototype.toString.call(f))return Array.from(f)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var v=function(f,u){if(u){if("object"!=typeof u)throw new TypeError(String(u)+" is not an object. Expected an object that has boolean `includeZero` property.");if("includeZero"in u){if("boolean"!=typeof u.includeZero)throw new TypeError(String(u.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(u.includeZero&&0===f)return!0}}return Number.isSafeInteger(f)&&f>=1},O="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function w(f,u){return f(u={exports:{}},u.exports),u.exports}var g=w(function(f,u){var v,w,g,$,j,E,c,i,p,M,J,P,Z,q,L,Q,X,U,Y,G;f.exports=(v="function"==typeof Promise,w="object"==typeof self?self:O,g="undefined"!=typeof Symbol,$="undefined"!=typeof Map,j="undefined"!=typeof Set,E="undefined"!=typeof WeakMap,c="undefined"!=typeof WeakSet,i="undefined"!=typeof DataView,p=g&&void 0!==Symbol.iterator,M=g&&void 0!==Symbol.toStringTag,J=j&&"function"==typeof Set.prototype.entries,P=$&&"function"==typeof Map.prototype.entries,Z=J&&Object.getPrototypeOf((new Set).entries()),q=P&&Object.getPrototypeOf((new Map).entries()),L=p&&"function"==typeof Array.prototype[Symbol.iterator],Q=L&&Object.getPrototypeOf([][Symbol.iterator]()),X=p&&"function"==typeof String.prototype[Symbol.iterator],U=X&&Object.getPrototypeOf(""[Symbol.iterator]()),Y=8,G=-1,function(f){var u=typeof f;if("object"!==u)return u;if(null===f)return"null";if(f===w)return"global";if(Array.isArray(f)&&(!1===M||!(Symbol.toStringTag in f)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&f===window.location)return"Location";if("object"==typeof window.document&&f===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&f===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&f===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&f instanceof window.HTMLElement){if("BLOCKQUOTE"===f.tagName)return"HTMLQuoteElement";if("TD"===f.tagName)return"HTMLTableDataCellElement";if("TH"===f.tagName)return"HTMLTableHeaderCellElement"}}var O=M&&f[Symbol.toStringTag];if("string"==typeof O)return O;var g=Object.getPrototypeOf(f);return g===RegExp.prototype?"RegExp":g===Date.prototype?"Date":v&&g===Promise.prototype?"Promise":j&&g===Set.prototype?"Set":$&&g===Map.prototype?"Map":c&&g===WeakSet.prototype?"WeakSet":E&&g===WeakMap.prototype?"WeakMap":i&&g===DataView.prototype?"DataView":$&&g===q?"Map Iterator":j&&g===Z?"Set Iterator":L&&g===Q?"Array Iterator":X&&g===U?"String Iterator":null===g?"Object":Object.prototype.toString.call(f).slice(Y,G)})});function $(f,u,v){if(u!=u)return function(f,u,v,O){for(var w=f.length,g=v+(O?1:-1);O?g--:++g<w;)if(u(f[g],g,f))return g;return-1}(f,E,v);for(var O=v-1,w=f.length;++O<w;)if(f[O]===u)return O;return-1}function j(f,u,v,O){for(var w=v-1,g=f.length;++w<g;)if(O(f[w],u))return w;return-1}function E(f){return f!=f}var c=Array.prototype.splice;function i(f,u,v,O){var w,g=O?j:$,E=-1,i=u.length,p=f;for(f===u&&(u=function(f,u){var v=-1,O=f.length;u||(u=Array(O));for(;++v<O;)u[v]=f[v];return u}(u)),v&&(p=function(f,u){for(var v=-1,O=f?f.length:0,w=Array(O);++v<O;)w[v]=u(f[v],v,f);return w}(f,(w=v,function(f){return w(f)})));++E<i;)for(var M=0,J=u[E],P=v?v(J):J;(M=g(p,P,M,O))>-1;)p!==f&&c.call(p,M,1),c.call(f,M,1);return f}var p=function(f,u){return f&&f.length&&u&&u.length?i(f,u):f},M=w(function(f,u){var v=200,w="__lodash_hash_undefined__",g=9007199254740991,$="[object Arguments]",j="[object Boolean]",E="[object Date]",c="[object Function]",i="[object GeneratorFunction]",p="[object Map]",M="[object Number]",J="[object Object]",P="[object RegExp]",Z="[object Set]",q="[object String]",L="[object Symbol]",Q="[object ArrayBuffer]",X="[object DataView]",U="[object Float32Array]",Y="[object Float64Array]",G="[object Int8Array]",V="[object Int16Array]",K="[object Int32Array]",b="[object Uint8Array]",n="[object Uint8ClampedArray]",N="[object Uint16Array]",W="[object Uint32Array]",h=/\w*$/,B=/^\[object .+?Constructor\]$/,o=/^(?:0|[1-9]\d*)$/,F={};F[$]=F["[object Array]"]=F[Q]=F[X]=F[j]=F[E]=F[U]=F[Y]=F[G]=F[V]=F[K]=F[p]=F[M]=F[J]=F[P]=F[Z]=F[q]=F[L]=F[b]=F[n]=F[N]=F[W]=!0,F["[object Error]"]=F[c]=F["[object WeakMap]"]=!1;var H="object"==typeof O&&O&&O.Object===Object&&O,m="object"==typeof self&&self&&self.Object===Object&&self,k=H||m||Function("return this")(),T=u&&!u.nodeType&&u,R=T&&f&&!f.nodeType&&f,D=R&&R.exports===T;function y(f,u){return f.set(u[0],u[1]),f}function A(f,u){return f.add(u),f}function S(f,u,v,O){var w=-1,g=f?f.length:0;for(O&&g&&(v=f[++w]);++w<g;)v=u(v,f[w],w,f);return v}function I(f){var u=!1;if(null!=f&&"function"!=typeof f.toString)try{u=!!(f+"")}catch(f){}return u}function r(f){var u=-1,v=Array(f.size);return f.forEach(function(f,O){v[++u]=[O,f]}),v}function z(f,u){return function(v){return f(u(v))}}function C(f){var u=-1,v=Array(f.size);return f.forEach(function(f){v[++u]=f}),v}var x,l=Array.prototype,_=Function.prototype,t=Object.prototype,s=k["__core-js_shared__"],a=(x=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",d=_.toString,e=t.hasOwnProperty,ff=t.toString,uf=RegExp("^"+d.call(e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vf=D?k.Buffer:void 0,Of=k.Symbol,wf=k.Uint8Array,gf=z(Object.getPrototypeOf,Object),$f=Object.create,jf=t.propertyIsEnumerable,Ef=l.splice,cf=Object.getOwnPropertySymbols,pf=vf?vf.isBuffer:void 0,Mf=z(Object.keys,Object),Jf=Df(k,"DataView"),Pf=Df(k,"Map"),Zf=Df(k,"Promise"),qf=Df(k,"Set"),Lf=Df(k,"WeakMap"),Qf=Df(Object,"create"),Xf=rf(Jf),Uf=rf(Pf),Yf=rf(Zf),Gf=rf(qf),Vf=rf(Lf),Kf=Of?Of.prototype:void 0,bf=Kf?Kf.valueOf:void 0;function nf(f){var u=-1,v=f?f.length:0;for(this.clear();++u<v;){var O=f[u];this.set(O[0],O[1])}}function Nf(f){var u=-1,v=f?f.length:0;for(this.clear();++u<v;){var O=f[u];this.set(O[0],O[1])}}function Wf(f){var u=-1,v=f?f.length:0;for(this.clear();++u<v;){var O=f[u];this.set(O[0],O[1])}}function hf(f){this.__data__=new Nf(f)}function Bf(f,u){var v=Cf(f)||function(f){return function(f){return function(f){return!!f&&"object"==typeof f}(f)&&xf(f)}(f)&&e.call(f,"callee")&&(!jf.call(f,"callee")||ff.call(f)==$)}(f)?function(f,u){for(var v=-1,O=Array(f);++v<f;)O[v]=u(v);return O}(f.length,String):[],O=v.length,w=!!O;for(var g in f)!u&&!e.call(f,g)||w&&("length"==g||Sf(g,O))||v.push(g);return v}function of(f,u,v){var O=f[u];e.call(f,u)&&zf(O,v)&&(void 0!==v||u in f)||(f[u]=v)}function Ff(f,u){for(var v=f.length;v--;)if(zf(f[v][0],u))return v;return-1}function Hf(f,u,v,O,w,g,B){var o;if(O&&(o=g?O(f,w,g,B):O(f)),void 0!==o)return o;if(!tf(f))return f;var H=Cf(f);if(H){if(o=function(f){var u=f.length,v=f.constructor(u);u&&"string"==typeof f[0]&&e.call(f,"index")&&(v.index=f.index,v.input=f.input);return v}(f),!u)return function(f,u){var v=-1,O=f.length;u||(u=Array(O));for(;++v<O;)u[v]=f[v];return u}(f,o)}else{var m=Af(f),k=m==c||m==i;if(lf(f))return function(f,u){if(u)return f.slice();var v=new f.constructor(f.length);return f.copy(v),v}(f,u);if(m==J||m==$||k&&!g){if(I(f))return g?f:{};if(o=function(f){return"function"!=typeof f.constructor||If(f)?{}:(u=gf(f),tf(u)?$f(u):{});var u}(k?{}:f),!u)return function(f,u){return Tf(f,yf(f),u)}(f,function(f,u){return f&&Tf(u,sf(u),f)}(o,f))}else{if(!F[m])return g?f:{};o=function(f,u,v,O){var w=f.constructor;switch(u){case Q:return kf(f);case j:case E:return new w(+f);case X:return function(f,u){var v=u?kf(f.buffer):f.buffer;return new f.constructor(v,f.byteOffset,f.byteLength)}(f,O);case U:case Y:case G:case V:case K:case b:case n:case N:case W:return function(f,u){var v=u?kf(f.buffer):f.buffer;return new f.constructor(v,f.byteOffset,f.length)}(f,O);case p:return function(f,u,v){return S(u?v(r(f),!0):r(f),y,new f.constructor)}(f,O,v);case M:case q:return new w(f);case P:return(c=new($=f).constructor($.source,h.exec($))).lastIndex=$.lastIndex,c;case Z:return function(f,u,v){return S(u?v(C(f),!0):C(f),A,new f.constructor)}(f,O,v);case L:return g=f,bf?Object(bf.call(g)):{}}var g;var $,c}(f,m,Hf,u)}}B||(B=new hf);var T=B.get(f);if(T)return T;if(B.set(f,o),!H)var R=v?function(f){return function(f,u,v){var O=u(f);return Cf(f)?O:function(f,u){for(var v=-1,O=u.length,w=f.length;++v<O;)f[w+v]=u[v];return f}(O,v(f))}(f,sf,yf)}(f):sf(f);return function(f,u){for(var v=-1,O=f?f.length:0;++v<O&&!1!==u(f[v],v,f););}(R||f,function(w,g){R&&(w=f[g=w]),of(o,g,Hf(w,u,v,O,g,f,B))}),o}function mf(f){return!(!tf(f)||(u=f,a&&a in u))&&(_f(f)||I(f)?uf:B).test(rf(f));var u}function kf(f){var u=new f.constructor(f.byteLength);return new wf(u).set(new wf(f)),u}function Tf(f,u,v,O){v||(v={});for(var w=-1,g=u.length;++w<g;){var $=u[w],j=O?O(v[$],f[$],$,v,f):void 0;of(v,$,void 0===j?f[$]:j)}return v}function Rf(f,u){var v,O,w=f.__data__;return("string"==(O=typeof(v=u))||"number"==O||"symbol"==O||"boolean"==O?"__proto__"!==v:null===v)?w["string"==typeof u?"string":"hash"]:w.map}function Df(f,u){var v=function(f,u){return null==f?void 0:f[u]}(f,u);return mf(v)?v:void 0}nf.prototype.clear=function(){this.__data__=Qf?Qf(null):{}},nf.prototype.delete=function(f){return this.has(f)&&delete this.__data__[f]},nf.prototype.get=function(f){var u=this.__data__;if(Qf){var v=u[f];return v===w?void 0:v}return e.call(u,f)?u[f]:void 0},nf.prototype.has=function(f){var u=this.__data__;return Qf?void 0!==u[f]:e.call(u,f)},nf.prototype.set=function(f,u){return this.__data__[f]=Qf&&void 0===u?w:u,this},Nf.prototype.clear=function(){this.__data__=[]},Nf.prototype.delete=function(f){var u=this.__data__,v=Ff(u,f);return!(v<0||(v==u.length-1?u.pop():Ef.call(u,v,1),0))},Nf.prototype.get=function(f){var u=this.__data__,v=Ff(u,f);return v<0?void 0:u[v][1]},Nf.prototype.has=function(f){return Ff(this.__data__,f)>-1},Nf.prototype.set=function(f,u){var v=this.__data__,O=Ff(v,f);return O<0?v.push([f,u]):v[O][1]=u,this},Wf.prototype.clear=function(){this.__data__={hash:new nf,map:new(Pf||Nf),string:new nf}},Wf.prototype.delete=function(f){return Rf(this,f).delete(f)},Wf.prototype.get=function(f){return Rf(this,f).get(f)},Wf.prototype.has=function(f){return Rf(this,f).has(f)},Wf.prototype.set=function(f,u){return Rf(this,f).set(f,u),this},hf.prototype.clear=function(){this.__data__=new Nf},hf.prototype.delete=function(f){return this.__data__.delete(f)},hf.prototype.get=function(f){return this.__data__.get(f)},hf.prototype.has=function(f){return this.__data__.has(f)},hf.prototype.set=function(f,u){var O=this.__data__;if(O instanceof Nf){var w=O.__data__;if(!Pf||w.length<v-1)return w.push([f,u]),this;O=this.__data__=new Wf(w)}return O.set(f,u),this};var yf=cf?z(cf,Object):function(){return[]},Af=function(f){return ff.call(f)};function Sf(f,u){return!!(u=null==u?g:u)&&("number"==typeof f||o.test(f))&&f>-1&&f%1==0&&f<u}function If(f){var u=f&&f.constructor;return f===("function"==typeof u&&u.prototype||t)}function rf(f){if(null!=f){try{return d.call(f)}catch(f){}try{return f+""}catch(f){}}return""}function zf(f,u){return f===u||f!=f&&u!=u}(Jf&&Af(new Jf(new ArrayBuffer(1)))!=X||Pf&&Af(new Pf)!=p||Zf&&"[object Promise]"!=Af(Zf.resolve())||qf&&Af(new qf)!=Z||Lf&&"[object WeakMap]"!=Af(new Lf))&&(Af=function(f){var u=ff.call(f),v=u==J?f.constructor:void 0,O=v?rf(v):void 0;if(O)switch(O){case Xf:return X;case Uf:return p;case Yf:return"[object Promise]";case Gf:return Z;case Vf:return"[object WeakMap]"}return u});var Cf=Array.isArray;function xf(f){return null!=f&&function(f){return"number"==typeof f&&f>-1&&f%1==0&&f<=g}(f.length)&&!_f(f)}var lf=pf||function(){return!1};function _f(f){var u=tf(f)?ff.call(f):"";return u==c||u==i}function tf(f){var u=typeof f;return!!f&&("object"==u||"function"==u)}function sf(f){return xf(f)?Bf(f):function(f){if(!If(f))return Mf(f);var u=[];for(var v in Object(f))e.call(f,v)&&"constructor"!=v&&u.push(v);return u}(f)}f.exports=function(f){return Hf(f,!0,!0)}}),J="[object Object]";var P,Z,q=Function.prototype,L=Object.prototype,Q=q.toString,X=L.hasOwnProperty,U=Q.call(Object),Y=L.toString,G=(P=Object.getPrototypeOf,Z=Object,function(f){return P(Z(f))});var V=function(f){if(!function(f){return!!f&&"object"==typeof f}(f)||Y.call(f)!=J||function(f){var u=!1;if(null!=f&&"function"!=typeof f.toString)try{u=!!(f+"")}catch(f){}return u}(f))return!1;var u=G(f);if(null===u)return!0;var v=X.call(u,"constructor")&&u.constructor;return"function"==typeof v&&v instanceof v&&Q.call(v)==U};const K=Array.isArray;function b(f){return"string"==typeof f&&f.length>0&&"."===f[0]?f.slice(1):f}function n(f,u){return function f(u,v,O){const w=M(u);let g,$,j,E,c;if((O=Object.assign({depth:-1,path:""},O)).depth+=1,K(w))for(g=0,$=w.length;g<$;g++){const u=`${O.path}.${g}`;void 0!==w[g]?(O.parent=M(w),j=f(v(w[g],void 0,Object.assign({},O,{path:b(u)})),v,Object.assign({},O,{path:b(u)})),Number.isNaN(j)&&g<w.length?(w.splice(g,1),g-=1):w[g]=j):w.splice(g,1)}else if(V(w))for(g=0,$=(E=Object.keys(w)).length;g<$;g++){c=E[g];const u=`${O.path}.${c}`;0===O.depth&&null!=c&&(O.topmostKey=c),O.parent=M(w),j=f(v(c,w[c],Object.assign({},O,{path:b(u)})),v,Object.assign({},O,{path:b(u)})),Number.isNaN(j)?delete w[c]:w[c]=j}return w}(f,u,{})}var N="__lodash_hash_undefined__",W=9007199254740991,h="[object Function]",B="[object GeneratorFunction]",o=/^\[object .+?Constructor\]$/,F="object"==typeof O&&O&&O.Object===Object&&O,H="object"==typeof self&&self&&self.Object===Object&&self,m=F||H||Function("return this")();function k(f,u){return!!(f?f.length:0)&&function(f,u,v){if(u!=u)return function(f,u,v,O){var w=f.length,g=v+(O?1:-1);for(;O?g--:++g<w;)if(u(f[g],g,f))return g;return-1}(f,D,v);var O=v-1,w=f.length;for(;++O<w;)if(f[O]===u)return O;return-1}(f,u,0)>-1}function T(f,u,v){for(var O=-1,w=f?f.length:0;++O<w;)if(v(u,f[O]))return!0;return!1}function R(f,u){for(var v=-1,O=f?f.length:0,w=Array(O);++v<O;)w[v]=u(f[v],v,f);return w}function D(f){return f!=f}function y(f){return function(u){return f(u)}}function A(f,u){return f.has(u)}var S,I=Array.prototype,r=Function.prototype,z=Object.prototype,C=m["__core-js_shared__"],x=(S=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",l=r.toString,_=z.hasOwnProperty,t=z.toString,s=RegExp("^"+l.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),a=I.splice,d=Math.max,e=Math.min,ff=pf(m,"Map"),uf=pf(Object,"create");function vf(f){var u=-1,v=f?f.length:0;for(this.clear();++u<v;){var O=f[u];this.set(O[0],O[1])}}function Of(f){var u=-1,v=f?f.length:0;for(this.clear();++u<v;){var O=f[u];this.set(O[0],O[1])}}function wf(f){var u=-1,v=f?f.length:0;for(this.clear();++u<v;){var O=f[u];this.set(O[0],O[1])}}function gf(f){var u=-1,v=f?f.length:0;for(this.__data__=new wf;++u<v;)this.add(f[u])}function $f(f,u){for(var v,O,w=f.length;w--;)if((v=f[w][0])===(O=u)||v!=v&&O!=O)return w;return-1}function jf(f){return!(!Jf(f)||(u=f,x&&x in u))&&(Mf(f)||function(f){var u=!1;if(null!=f&&"function"!=typeof f.toString)try{u=!!(f+"")}catch(f){}return u}(f)?s:o).test(function(f){if(null!=f){try{return l.call(f)}catch(f){}try{return f+""}catch(f){}}return""}(f));var u}function Ef(f){return function(f){return function(f){return!!f&&"object"==typeof f}(f)&&function(f){return null!=f&&function(f){return"number"==typeof f&&f>-1&&f%1==0&&f<=W}(f.length)&&!Mf(f)}(f)}(f)?f:[]}function cf(f,u){var v,O,w=f.__data__;return("string"==(O=typeof(v=u))||"number"==O||"symbol"==O||"boolean"==O?"__proto__"!==v:null===v)?w["string"==typeof u?"string":"hash"]:w.map}function pf(f,u){var v=function(f,u){return null==f?void 0:f[u]}(f,u);return jf(v)?v:void 0}function Mf(f){var u=Jf(f)?t.call(f):"";return u==h||u==B}function Jf(f){var u=typeof f;return!!f&&("object"==u||"function"==u)}vf.prototype.clear=function(){this.__data__=uf?uf(null):{}},vf.prototype.delete=function(f){return this.has(f)&&delete this.__data__[f]},vf.prototype.get=function(f){var u=this.__data__;if(uf){var v=u[f];return v===N?void 0:v}return _.call(u,f)?u[f]:void 0},vf.prototype.has=function(f){var u=this.__data__;return uf?void 0!==u[f]:_.call(u,f)},vf.prototype.set=function(f,u){return this.__data__[f]=uf&&void 0===u?N:u,this},Of.prototype.clear=function(){this.__data__=[]},Of.prototype.delete=function(f){var u=this.__data__,v=$f(u,f);return!(v<0||(v==u.length-1?u.pop():a.call(u,v,1),0))},Of.prototype.get=function(f){var u=this.__data__,v=$f(u,f);return v<0?void 0:u[v][1]},Of.prototype.has=function(f){return $f(this.__data__,f)>-1},Of.prototype.set=function(f,u){var v=this.__data__,O=$f(v,f);return O<0?v.push([f,u]):v[O][1]=u,this},wf.prototype.clear=function(){this.__data__={hash:new vf,map:new(ff||Of),string:new vf}},wf.prototype.delete=function(f){return cf(this,f).delete(f)},wf.prototype.get=function(f){return cf(this,f).get(f)},wf.prototype.has=function(f){return cf(this,f).has(f)},wf.prototype.set=function(f,u){return cf(this,f).set(f,u),this},gf.prototype.add=gf.prototype.push=function(f){return this.__data__.set(f,N),this},gf.prototype.has=function(f){return this.__data__.has(f)};var Pf=function(f,u){return u=d(void 0===u?f.length-1:u,0),function(){for(var v=arguments,O=-1,w=d(v.length-u,0),g=Array(w);++O<w;)g[O]=v[u+O];O=-1;for(var $=Array(u+1);++O<u;)$[O]=v[O];return $[u]=g,function(f,u,v){switch(v.length){case 0:return f.call(u);case 1:return f.call(u,v[0]);case 2:return f.call(u,v[0],v[1]);case 3:return f.call(u,v[0],v[1],v[2])}return f.apply(u,v)}(f,this,$)}}(function(f){var u=R(f,Ef);return u.length&&u[0]===f[0]?function(f,u,v){for(var O=v?T:k,w=f[0].length,g=f.length,$=g,j=Array(g),E=1/0,c=[];$--;){var i=f[$];$&&u&&(i=R(i,y(u))),E=e(i.length,E),j[$]=!v&&(u||w>=120&&i.length>=120)?new gf($&&i):void 0}i=f[0];var p=-1,M=j[0];f:for(;++p<w&&c.length<E;){var J=i[p],P=u?u(J):J;if(J=v||0!==J?J:0,!(M?A(M,P):O(c,P,v))){for($=g;--$;){var Z=j[$];if(!(Z?A(Z,P):O(f[$],P,v)))continue f}M&&M.push(P),c.push(J)}}return c}(u):[]});function Zf(f){return"string"==typeof f?f.length>0?[f]:[]:f}var qf=w(function(f){f.exports=function(){var f=Object.prototype.toString;function u(f,u){return null!=f&&Object.prototype.hasOwnProperty.call(f,u)}function v(f){if(!f)return!0;if(w(f)&&0===f.length)return!0;if("string"!=typeof f){for(var v in f)if(u(f,v))return!1;return!0}return!1}function O(u){return f.call(u)}var w=Array.isArray||function(u){return"[object Array]"===f.call(u)};function g(f){var u=parseInt(f);return u.toString()===f?u:f}function $(f){f=f||{};var $=function(f){return Object.keys($).reduce(function(u,v){return"create"===v?u:("function"==typeof $[v]&&(u[v]=$[v].bind($,f)),u)},{})};function j(v,O){return f.includeInheritedProps||"number"==typeof O&&Array.isArray(v)||u(v,O)}function E(f,u){if(j(f,u))return f[u]}function c(f,u,v,O){if("number"==typeof u&&(u=[u]),!u||0===u.length)return f;if("string"==typeof u)return c(f,u.split(".").map(g),v,O);var w=u[0],$=E(f,w);return 1===u.length?(void 0!==$&&O||(f[w]=v),$):(void 0===$&&("number"==typeof u[1]?f[w]=[]:f[w]={}),c(f[w],u.slice(1),v,O))}return $.has=function(v,O){if("number"==typeof O?O=[O]:"string"==typeof O&&(O=O.split(".")),!O||0===O.length)return!!v;for(var $=0;$<O.length;$++){var j=g(O[$]);if(!("number"==typeof j&&w(v)&&j<v.length||(f.includeInheritedProps?j in Object(v):u(v,j))))return!1;v=v[j]}return!0},$.ensureExists=function(f,u,v){return c(f,u,v,!0)},$.set=function(f,u,v,O){return c(f,u,v,O)},$.insert=function(f,u,v,O){var g=$.get(f,u);O=~~O,w(g)||(g=[],$.set(f,u,g)),g.splice(O,0,v)},$.empty=function(f,u){var g,E;if(!v(u)&&null!=f&&(g=$.get(f,u))){if("string"==typeof g)return $.set(f,u,"");if(function(f){return"boolean"==typeof f||"[object Boolean]"===O(f)}(g))return $.set(f,u,!1);if("number"==typeof g)return $.set(f,u,0);if(w(g))g.length=0;else{if(!function(f){return"object"==typeof f&&"[object Object]"===O(f)}(g))return $.set(f,u,null);for(E in g)j(g,E)&&delete g[E]}}},$.push=function(f,u){var v=$.get(f,u);w(v)||(v=[],$.set(f,u,v)),v.push.apply(v,Array.prototype.slice.call(arguments,2))},$.coalesce=function(f,u,v){for(var O,w=0,g=u.length;w<g;w++)if(void 0!==(O=$.get(f,u[w])))return O;return v},$.get=function(f,u,v){if("number"==typeof u&&(u=[u]),!u||0===u.length)return f;if(null==f)return v;if("string"==typeof u)return $.get(f,u.split("."),v);var O=g(u[0]),w=E(f,O);return void 0===w?v:1===u.length?w:$.get(f[O],u.slice(1),v)},$.del=function(f,u){if("number"==typeof u&&(u=[u]),null==f)return f;if(v(u))return f;if("string"==typeof u)return $.del(f,u.split("."));var O=g(u[0]);return j(f,O)?1!==u.length?$.del(f[O],u.slice(1)):(w(f)?f.splice(O,1):delete f[O],f):f},$}var j=$();return j.create=$,j.withInheritedProps=$({includeInheritedProps:!0}),j}()}),Lf=function(f){var u=f%100;if(u>=10&&u<=20)return"th";var v=f%10;return 1===v?"st":2===v?"nd":3===v?"rd":"th"};function Qf(f){if("number"!=typeof f)throw new TypeError("Expected Number, got "+typeof f+" "+f);return f+Lf(f)}Qf.indicator=Lf;var Xf=Qf,Uf=/[|\\{}()[\]^$+*?.]/g,Yf=function(f){if("string"!=typeof f)throw new TypeError("Expected a string");return f.replace(Uf,"\\$&")};const Gf=new Map;function Vf(f,u){const v=Object.assign({caseSensitive:!1},u),O=f+JSON.stringify(v);if(Gf.has(O))return Gf.get(O);const w="!"===f[0];w&&(f=f.slice(1)),f=Yf(f).replace(/\\\*/g,".*");const g=new RegExp(`^${f}$`,v.caseSensitive?"":"i");return g.negated=w,Gf.set(O,g),g}var Kf=(f,u,v)=>{if(!Array.isArray(f)||!Array.isArray(u))throw new TypeError(`Expected two arrays, got ${typeof f} ${typeof u}`);if(0===u.length)return f;const O="!"===u[0][0];u=u.map(f=>Vf(f,v));const w=[];for(const v of f){let f=O;for(const O of u)O.test(v)&&(f=!O.negated);f&&w.push(v)}return w};function bf(f,u,v){return function f(u,v,O,w=!0){function $(f){return null!=f}function j(f){return"Object"===g(f)}function E(f,u){return u=Zf(u),Array.from(f).filter(f=>!u.some(u=>Kf.isMatch(f,u,{caseSensitive:!0})))}function c(f){if(f.includes(".")){const u=f.split(".");return u.pop(),u.join(".")}return f}const i=["any","anything","every","everything","all","whatever","whatevs"],M=Array.isArray;if(!$(u))throw new Error("check-types-mini: [THROW_ID_01] First argument is missing!");const J={ignoreKeys:[],ignorePaths:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini",optsVarName:"opts"};let P;if(P=$(O)&&j(O)?Object.assign({},J,O):Object.assign({},J),$(P.ignoreKeys)&&P.ignoreKeys?P.ignoreKeys=Zf(P.ignoreKeys):P.ignoreKeys=[],$(P.ignorePaths)&&P.ignorePaths?P.ignorePaths=Zf(P.ignorePaths):P.ignorePaths=[],$(P.acceptArraysIgnore)&&P.acceptArraysIgnore?P.acceptArraysIgnore=Zf(P.acceptArraysIgnore):P.acceptArraysIgnore=[],P.msg="string"==typeof P.msg?P.msg.trim():P.msg,":"===P.msg[P.msg.length-1]&&(P.msg=P.msg.slice(0,P.msg.length-1).trim()),P.schema&&(Object.keys(P.schema).forEach(f=>{if(j(P.schema[f])){const u={};n(P.schema[f],(v,O,w)=>{const g=void 0!==O?O:v;return M(g)||j(g)||(u[`${f}.${w.path}`]=g),g}),delete P.schema[f],P.schema=Object.assign(P.schema,u)}}),Object.keys(P.schema).forEach(f=>{M(P.schema[f])||(P.schema[f]=[P.schema[f]]),P.schema[f]=P.schema[f].map(String).map(f=>f.toLowerCase()).map(f=>f.trim())})),$(v)||(v={}),w&&f(P,J,{enforceStrictKeyset:!1},!1),P.enforceStrictKeyset)if($(P.schema)&&Object.keys(P.schema).length>0){if(0!==E(p(Object.keys(u),Object.keys(v).concat(Object.keys(P.schema))),P.ignoreKeys).length){const f=p(Object.keys(u),Object.keys(v).concat(Object.keys(P.schema)));throw new TypeError(`${P.msg}: ${P.optsVarName}.enforceStrictKeyset is on and the following key${f.length>1?"s":""} ${f.length>1?"are":"is"} not covered by schema and/or reference objects: ${f.join(", ")}`)}}else{if(!($(v)&&Object.keys(v).length>0))throw new TypeError(`${P.msg}: Both ${P.optsVarName}.schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!`);if(0!==E(p(Object.keys(u),Object.keys(v)),P.ignoreKeys).length){const f=p(Object.keys(u),Object.keys(v));throw new TypeError(`${P.msg}: The input object has key${f.length>1?"s":""} which ${f.length>1?"are":"is"} not covered by the reference object: ${f.join(", ")}`)}if(0!==E(p(Object.keys(v),Object.keys(u)),P.ignoreKeys).length){const f=p(Object.keys(v),Object.keys(u));throw new TypeError(`${P.msg}: The reference object has key${f.length>1?"s":""} which ${f.length>1?"are":"is"} not present in the input object: ${f.join(", ")}`)}}const Z=[];n(u,(f,u,O)=>{const w=void 0!==u?u:f;if(M(Z)&&Z.length&&Z.some(f=>O.path.startsWith(f)))return w;if(!(!P.enforceStrictKeyset||!j(w)&&!M(w)&&M(O.parent)||$(P.schema)&&j(P.schema)&&(!j(P.schema)||Object.keys(P.schema).length&&(M(O.parent)||Object.prototype.hasOwnProperty.call(P.schema,O.path))&&(!M(O.parent)||qf.has(P.schema,c(O.path))))||$(v)&&j(v)&&(!j(v)||Object.keys(v).length&&(P.acceptArrays||qf.has(v,O.path))&&(!P.acceptArrays||(M(O.parent)||qf.has(v,O.path))&&(!M(O.parent)||qf.has(v,c(O.path)))))))throw new TypeError(`${P.msg}: ${P.optsVarName}.${O.path} is neither covered by reference object (second input argument), nor ${P.optsVarName}.schema! To stop this error, turn off ${P.optsVarName}.enforceStrictKeyset or provide some type reference (2nd argument or ${P.optsVarName}.schema).`);if(j(P.schema)&&Object.keys(P.schema).length&&Object.prototype.hasOwnProperty.call(P.schema,O.path)){const f=Zf(P.schema[O.path]).map(String).map(f=>f.toLowerCase());if(qf.set(P.schema,O.path,f),Pf(f,i).length)Z.push(O.path);else if(!0!==w&&!1!==w&&!f.includes(g(w).toLowerCase())||(!0===w||!1===w)&&!f.includes(String(w))&&!f.includes("boolean")){if(!M(w)||!P.acceptArrays)throw new TypeError(`${P.msg}: ${P.optsVarName}.${O.path} was customised to ${"string"!==g(w)?'"':""}${JSON.stringify(w,null,0)}${"string"!==g(w)?'"':""} (type: ${g(w).toLowerCase()}) which is not among the allowed types in schema (which is equal to ${JSON.stringify(f,null,0)})`);for(let u=0,v=w.length;u<v;u++)if(!f.includes(g(w[u]).toLowerCase()))throw new TypeError(`${P.msg}: ${P.optsVarName}.${O.path}.${u}, the ${Xf(u+1)} element (equal to ${JSON.stringify(w[u],null,0)}) is of a type ${g(w[u]).toLowerCase()}, but only the following are allowed by the ${P.optsVarName}.schema: ${f.join(", ")}`)}}else if($(v)&&Object.keys(v).length&&qf.has(v,O.path)&&g(w)!==g(qf.get(v,O.path))&&(!P.ignoreKeys||!P.ignoreKeys.some(u=>Kf.isMatch(f,u)))&&(!P.ignorePaths||!P.ignorePaths.some(f=>Kf.isMatch(O.path,f)))){const u=qf.get(v,O.path);if(!P.acceptArrays||!M(w)||P.acceptArraysIgnore.includes(f))throw new TypeError(`${P.msg}: ${P.optsVarName}.${O.path} was customised to ${"string"===g(w).toLowerCase()?"":'"'}${JSON.stringify(w,null,0)}${"string"===g(w).toLowerCase()?"":'"'} which is not ${g(u).toLowerCase()} but ${g(w).toLowerCase()}`);if(!w.every(u=>g(u).toLowerCase()===g(v[f]).toLowerCase()))throw new TypeError(`${P.msg}: ${P.optsVarName}.${O.path} was customised to be array, but not all of its elements are ${g(v[f]).toLowerCase()}-type`)}return w})}(f,u,v)}Kf.isMatch=((f,u,v)=>{const O=Vf(u,v),w=O.test(f);return O.negated?!w:w});var nf="[object AsyncFunction]",Nf="[object Function]",Wf="[object GeneratorFunction]",hf="[object Null]",Bf="[object Proxy]",of="[object Undefined]",Ff="object"==typeof O&&O&&O.Object===Object&&O,Hf="object"==typeof self&&self&&self.Object===Object&&self,mf=Ff||Hf||Function("return this")(),kf=Object.prototype,Tf=kf.hasOwnProperty,Rf=kf.toString,Df=mf.Symbol,yf=Df?Df.toStringTag:void 0;function Af(f){return null==f?void 0===f?of:hf:yf&&yf in Object(f)?function(f){var u=Tf.call(f,yf),v=f[yf];try{f[yf]=void 0}catch(f){}var O=Rf.call(f);u?f[yf]=v:delete f[yf];return O}(f):function(f){return Rf.call(f)}(f)}var Sf=function(f){if(!function(f){var u=typeof f;return null!=f&&("object"==u||"function"==u)}(f))return!1;var u=Af(f);return u==Nf||u==Wf||u==nf||u==Bf};function If(f){if("string"==typeof f)return 0!==f.length&&(f.charCodeAt(0)>=55296&&f.charCodeAt(0)<=56319);if(void 0===f)return!1;throw new TypeError(`string-character-is-astral-surrogate/isHighSurrogate(): the input is not string but ${typeof f}`)}function rf(f){if("string"==typeof f)return 0!==f.length&&(f.charCodeAt(0)>=56320&&f.charCodeAt(0)<=57343);if(void 0===f)return!1;throw new TypeError(`string-character-is-astral-surrogate/isLowSurrogate(): the input is not string but ${typeof f}`)}const zf=Array.isArray;function Cf(f){return null!=f}function xf(f){return"string"==typeof f}function lf(f){return"string"==typeof f&&(f.charCodeAt(0)>=55296&&f.charCodeAt(0)<=57343)}function _f(f,u,v,O,w){const g="function"==typeof v?v():v;if(u>=f.length&&w&&"EOL"===g)return g;if(!(u<=f.length)){if(O.relaxedApi)return!1;throw new Error(`string-match-left-right/marchForward(): [THROW_ID_102] second argument, fromIndexInclusive is ${u} beyond the input string length, ${f.length}.`)}{let $=w?1:v.length;for(let w=u,g=f.length;w<g;w++){let u=f[w];if(If(f[w])&&rf(f[w+1])&&(u=f[w]+f[w+1]),rf(f[w])&&If(f[w-1])&&(u=f[w-1]+f[w]),O.trimBeforeMatching&&""===f[w].trim())continue;if(!O.i&&O.trimCharsBeforeMatching.includes(u)||O.i&&O.trimCharsBeforeMatching.map(f=>f.toLowerCase()).includes(u.toLowerCase())){2===u.length&&(w+=1);continue}let g=v[v.length-$];if(If(g)&&Cf(v[v.length-$+1])&&rf(v[v.length-$+1])&&(g=v[v.length-$]+v[v.length-$+1]),!(!O.i&&u===g||O.i&&u.toLowerCase()===g.toLowerCase()))return!1;if(($-=u.length)<1){let O=w-v.length+u.length;return O>=0&&rf(f[O])&&Cf(f[O-1])&&If(f[O-1])&&(O-=1),O>=0?O:0}2===u.length&&If(f[w])&&(w+=1)}if($>0)return!(!w||"EOL"!==g)}}function tf(f,u,v,O,w){const g="function"==typeof v?v():v;if(u<0&&w&&"EOL"===g)return g;if(u>=f.length){if(O.relaxedApi)return!1;throw new Error(`string-match-left-right/marchBackward(): [THROW_ID_203] second argument, starting index, should not be beyond the last character of the input string! Currently the first argument's last character's index is ${f.length} but the second argument is beyond it:\n${JSON.stringify(u,null,4)}`)}let $=w?1:v.length;for(let g=u+1;g--;){if(O.trimBeforeMatching&&""===f[g].trim()){if(0===g&&w&&"EOL"===v)return!0;continue}let u=f[g];if(rf(f[g])&&If(f[g-1])?u=f[g-1]+f[g]:If(f[g])&&rf(f[g+1])&&(u=f[g]+f[g+1]),!O.i&&O.trimCharsBeforeMatching.includes(u)||O.i&&O.trimCharsBeforeMatching.map(f=>f.toLowerCase()).includes(u.toLowerCase())){if(2===u.length&&(g-=1),w&&"EOL"===v&&0===g)return!0;continue}let j=v[$-1];if(rf(j)&&(j=`${v[$-2]}${v[$-1]}`,$-=1,g-=1),!(!O.i&&u===j||O.i&&u.toLowerCase()===j.toLowerCase()))return!1;if(($-=1)<1)return g>=0?g:0}return $>0?!(!w||"EOL"!==g):void 0}function sf(f,u,O,w,g){const $={i:!1,trimBeforeMatching:!1,trimCharsBeforeMatching:[],relaxedApi:!1},j=Object.assign({},$,g);let E,c,i,p;if(j.trimCharsBeforeMatching=Zf(j.trimCharsBeforeMatching),bf(j,$,{msg:"string-match-left-right: [THROW_ID_07*]",schema:{cb:["null","undefined","function"]}}),j.trimCharsBeforeMatching=j.trimCharsBeforeMatching.map(f=>xf(f)?f:String(f)),j.trimCharsBeforeMatching.some((f,u)=>f.length>1&&!lf(f)&&(E=u,c=f,!0)))throw new Error(`string-match-left-right/${f}(): [THROW_ID_07] the fourth argument, options object contains trimCharsBeforeMatching. It was meant to list the single characters but one of the entries at index ${E} is longer than 1 character, ${c.length} (equals to ${c}). Please split it into separate characters and put into array as separate elements.`);if(!xf(u)){if(j.relaxedApi)return!1;throw new Error(`string-match-left-right/${f}(): [THROW_ID_01] the first argument should be a string. Currently it's of a type: ${typeof u}, equal to:\n${JSON.stringify(u,null,4)}`)}if(0===u.length){if(j.relaxedApi)return!1;throw new Error(`string-match-left-right/${f}(): [THROW_ID_02] the first argument should be a non-empty string. Currently it's empty!`)}if(!v(O,{includeZero:!0})){if(j.relaxedApi)return!1;throw new Error(`string-match-left-right/${f}(): [THROW_ID_03] the second argument should be a natural number. Currently it's of a type: ${typeof O}, equal to:\n${JSON.stringify(O,null,4)}`)}if(xf(w))i=[w];else if(zf(w))i=w;else if(Cf(w)){if(!Sf(w))throw new Error(`string-match-left-right/${f}(): [THROW_ID_05] the third argument, whatToMatch, is neither string nor array of strings! It's ${typeof w}, equal to:\n${JSON.stringify(w,null,4)}`);(i=[]).push(w)}else i=w;if(Cf(g)&&!V(g))throw new Error(`string-match-left-right/${f}(): [THROW_ID_06] the fourth argument, options object, should be a plain object. Currently it's of a type "${typeof g}", and equal to:\n${JSON.stringify(g,null,4)}`);if(!Cf(i)||!zf(i)||zf(i)&&!i.length||zf(i)&&1===i.length&&xf(i[0])&&0===i[0].trim().length){if(j.cb){let v,w=O;if("matchRight"===f&&If(u[O])&&rf(u[O+1])&&(w+=1),"matchLeftIncl"!==f&&"matchRight"!==f||(w+=1),f.startsWith("matchLeft"))for(let f=w;f--;){if(rf(u[f])&&If(u[f-1]))continue;let O=u[f];if(If(u[f])&&rf(u[f+1])&&(O=u[f]+u[f+1]),(!j.trimBeforeMatching||j.trimBeforeMatching&&void 0!==O&&""!==O.trim())&&(0===j.trimCharsBeforeMatching.length||void 0!==O&&!j.trimCharsBeforeMatching.includes(O))){v=f;break}rf(u[f-1])&&If(u[f-2])&&(f-=1)}else if(f.startsWith("matchRight"))for(let f=w;f<u.length;f++){let O=u[f];if(If(u[f])&&rf(u[f+1])&&(O=u[f]+u[f+1]),(!j.trimBeforeMatching||j.trimBeforeMatching&&""!==O.trim())&&(0===j.trimCharsBeforeMatching.length||!j.trimCharsBeforeMatching.includes(O))){v=f;break}If(u[f])&&rf(u[f+1])&&(f+=1)}if(void 0===v)return!1;let g=u[v];If(u[v])&&rf(u[v+1])&&(g=u[v]+u[v+1]),rf(u[v])&&If(u[v-1])&&(g=u[v-1]+u[v],v-=1);let $,E=v+1;return If(u[v])&&rf(u[v+1])&&(E+=1),E&&E>0&&($=u.slice(0,E)),f.startsWith("matchLeft")?j.cb(g,$,v):(v&&v>0&&($=u.slice(v)),j.cb(g,$,v))}let v="";throw Cf(g)||(v=" More so, the whole options object, the fourth input argument, is missing!"),new Error(`string-match-left-right/${f}(): [THROW_ID_08] the third argument, "whatToMatch", was given as an empty string. This means, you intend to match purely by a callback. The callback was not set though, the opts key "cb" is not set!${v}`)}if(f.startsWith("matchLeft")){for(let v=0,w=i.length;v<w;v++){p="function"==typeof i[v];const w=i[v];let g=O;"matchLeft"===f&&(lf(u[v-1])&&lf(u[v-2])?g-=2:g-=1);const $=tf(u,g,w,j,p);if($&&p&&"function"==typeof w&&"EOL"===w()){let f,u,v;return!(!w()||j.cb&&!j.cb(f,u,v))&&w()}let E,c,M;if(Cf($)&&$>0&&(c=u[E=$-1],M=u.slice(0,$)),rf(u[E])&&Cf(u[E-1])&&If(u[E-1])&&(c=u[(E-=1)-1]+u[E]),If(u[E])&&Cf(u[E+1])&&rf(u[E+1])&&(c=u[E]+u[E+1],M=u.slice(0,E+2)),!1!==$&&(!j.cb||j.cb(c,M,E)))return w}return!1}for(let v=0,w=i.length;v<w;v++){p="function"==typeof i[v];const w=i[v];let g=O+("matchRight"===f?1:0);"matchRight"===f&&If(u[g-1])&&rf(u[g])&&(g+=1);const $=_f(u,g,w,j,p);if($&&p&&"function"==typeof w&&"EOL"===w()){let f,u,v;return!(!w()||j.cb&&!j.cb(f,u,v))&&w()}let E,c,M;if(Cf($)&&Cf(u[$+w.length])&&(c=u[E=$+w.length],If(u[E])&&rf(u[E+1])&&(c=u[E]+u[E+1])),Cf(E)&&E>=0&&(M=u.slice(E)),!1!==$&&(!j.cb||j.cb(c,M,E)))return w}return!1}function af(f,u,v,O){return sf("matchLeft",f,u,v,O)}function df(f,u,v,O){return sf("matchRightIncl",f,u,v,O)}function ef(f,u,v,O){return sf("matchRight",f,u,v,O)}var fu=()=>/<!(--)?\[if[^\]]*]>[<>!-\s]*<!\[endif\]\1>/gi;const uu=Array.isArray;function vu(f,u,v={}){function O(f){return null!=f}function w(f){return"string"==typeof f}if(!O(f))throw new Error("array-pull-all-with-glob: [THROW_ID_01] first argument is missing!");if(!O(u))throw new Error("array-pull-all-with-glob: [THROW_ID_02] second argument is missing!");if(!uu(f))throw new Error(`array-pull-all-with-glob: [THROW_ID_03] first argument must be an array! Currently it's ${typeof f}, equal to: ${JSON.stringify(f,null,4)}`);let g,$;if("string"==typeof u){if(0===u.length)return f;g=[u]}else if(uu(u)){if(0===u.length)return f;g=Array.from(u)}else if(!uu(u))throw new Error(`array-pull-all-with-glob: [THROW_ID_04] first argument must be an array! Currently it's ${typeof u}, equal to: ${JSON.stringify(u,null,4)}`);if(0===f.length||0===u.length)return f;if(!f.every(f=>w(f)))throw new Error(`array-pull-all-with-glob: [THROW_ID_05] first argument array contains non-string elements: ${JSON.stringify(f,null,4)}`);if(!g.every(f=>w(f)))throw new Error(`array-pull-all-with-glob: [THROW_ID_06] first argument array contains non-string elements: ${JSON.stringify(g,null,4)}`);if(O(v)&&!V(v))throw new Error(`array-pull-all-with-glob: [THROW_ID_07] third argument, options object is not a plain object but ${Array.isArray(v)?"array":typeof v}`);const j={caseSensitive:!0};return bf($=null===v?Object.assign({},j):Object.assign({},j,v),j,{msg:"newLibrary/yourFunction(): [THROW_ID_08]",optsVarName:"opts"}),Array.from(f).filter(f=>!g.some(u=>Kf.isMatch(f,u,{caseSensitive:$.caseSensitive})))}function Ou(f,u){if(void 0===f)throw new Error("string-extract-class-names: [THROW_ID_01] input must not be undefined!");if("string"!=typeof f)throw new TypeError(`string-extract-class-names: [THROW_ID_02] first input should be string, not ${typeof f}, currently equal to ${JSON.stringify(f,null,4)}`);if(null!=u&&u){if("boolean"!=typeof u)throw new TypeError(`string-extract-class-names: [THROW_ID_03] second input argument should be a Boolean, not ${typeof f}, currently equal to ${JSON.stringify(f,null,4)}`)}else u=!1;const v=".# ~\\!@$%^&*()+=,/';:\"?><[]{}|`";let O=null;const w=[];for(let g=0,$=f.length;g<$;g++)null===O||!v.includes(f[g])&&0!==f[g].trim().length||(g>O+1&&(u?w.push([O,g]):w.push(f.slice(O,g))),O=null),null!==O||"."!==f[g]&&"#"!==f[g]||(O=g),g+1===$&&null!==O&&g>O&&(u?w.push([O,$]):w.push(f.slice(O,$)));return w}const wu=Array.isArray;function gu(f){const u=/^[0-9a-zA-Z]+$/;function v(f){return!(!f||"string"!=typeof f)&&0===f.trim().length}function O(f){return"string"==typeof f}if(!V(f)){let u;throw u=void 0===f?"but it is missing completely.":null===f?"but it was given as null.":`but it was given as ${typeof f}, equal to:\n${JSON.stringify(f,null,4)}.`,new Error(`string-range-expander: [THROW_ID_01] Input must be a plain object ${u}`)}if(V(f)&&0===Object.keys(f).length)throw new Error("string-range-expander: [THROW_ID_02] Input must be a plain object but it was given as a plain object without any keys and computer doesn't know what to expand.");if("number"!=typeof f.from)throw new Error(`string-range-expander: [THROW_ID_03] The input's "from" value opts.from, is not a number! Currently it's given as ${typeof f.from}, equal to ${JSON.stringify(f.from,null,0)}`);if("number"!=typeof f.to)throw new Error(`string-range-expander: [THROW_ID_04] The input's "to" value opts.to, is not a number! Currently it's given as ${typeof f.to}, equal to ${JSON.stringify(f.to,null,0)}`);if(!f.str[f.from]&&f.from!==f.to)throw new Error(`string-range-expander: [THROW_ID_05] The given input string opts.str ("${f.str}") must contain the character at index "from" ("${f.from}")`);if(!f.str[f.to-1])throw new Error(`string-range-expander: [THROW_ID_06] The given input string, opts.str ("${f.str}") must contain the character at index before "to" ("${f.to-1}")`);if(f.from>f.to)throw new Error(`string-range-expander: [THROW_ID_07] The given "from" index, "${f.from}" is greater than "to" index, "${f.to}". That's wrong!`);if(O(f.extendToOneSide)&&"left"!==f.extendToOneSide&&"right"!==f.extendToOneSide||!O(f.extendToOneSide)&&void 0!==f.extendToOneSide&&!1!==f.extendToOneSide)throw new Error(`string-range-expander: [THROW_ID_08] The opts.extendToOneSide value is not recogniseable! It's set to: "${f.extendToOneSide}" (${typeof f.extendToOneSide}). It has to be either Boolean "false" or strings "left" or "right"`);const w={str:"",from:0,to:0,ifLeftSideIncludesThisThenCropTightly:"",ifLeftSideIncludesThisCropItToo:"",ifRightSideIncludesThisThenCropTightly:"",ifRightSideIncludesThisCropItToo:"",extendToOneSide:!1,wipeAllWhitespaceOnLeft:!1,wipeAllWhitespaceOnRight:!1,addSingleSpaceToPreventAccidentalConcatenation:!1},g=Object.assign({},w,f);if(bf(g,w,{msg:"string-trim-spaces-only: [THROW_ID_19*]",acceptArrays:!0,acceptArraysIgnore:["str","from","to","extendToOneSide"],schema:{extendToOneSide:["false","string"]}}),wu(g.ifLeftSideIncludesThisThenCropTightly)){let f,u;if(!g.ifLeftSideIncludesThisThenCropTightly.every((v,w)=>!!O(v)||(f=w,u=v,!1)))throw new Error(`string-range-expander: [THROW_ID_09] The opts.ifLeftSideIncludesThisThenCropTightly was set to an array:\n${JSON.stringify(g.ifLeftSideIncludesThisThenCropTightly,null,4)}. Now, that array contains not only string elements. For example, an element at index ${f} is of a type ${typeof u} (equal to ${JSON.stringify(u,null,0)}).`);g.ifLeftSideIncludesThisThenCropTightly=g.ifLeftSideIncludesThisThenCropTightly.join("")}const $=g.str;let j=g.from,E=g.to;if("right"!==g.extendToOneSide&&(v($[j-1])&&(v($[j-2])||g.ifLeftSideIncludesThisCropItToo.includes($[j-2]))||$[j-1]&&g.ifLeftSideIncludesThisCropItToo.includes($[j-1])||g.wipeAllWhitespaceOnLeft&&v($[j-1])))for(let f=j;f--;)if(!g.ifLeftSideIncludesThisCropItToo.includes($[f])){if($[f].trim().length){j=g.wipeAllWhitespaceOnLeft||g.ifLeftSideIncludesThisCropItToo.includes($[f+1])?f+1:f+2;break}if(0===f){j=g.wipeAllWhitespaceOnLeft?0:1;break}}if("left"!==g.extendToOneSide&&(v($[E])&&(g.wipeAllWhitespaceOnRight||v($[E+1]))||g.ifRightSideIncludesThisCropItToo.includes($[E])))for(let f=E,u=$.length;f<u;f++)if(!g.ifRightSideIncludesThisCropItToo.includes($[f])&&($[f]&&$[f].trim().length||void 0===$[f])){E=g.wipeAllWhitespaceOnRight||g.ifRightSideIncludesThisCropItToo.includes($[f-1])?f:f-1;break}return("right"!==g.extendToOneSide&&O(g.ifLeftSideIncludesThisThenCropTightly)&&g.ifLeftSideIncludesThisThenCropTightly.length&&($[j-2]&&g.ifLeftSideIncludesThisThenCropTightly.includes($[j-2])||$[j-1]&&g.ifLeftSideIncludesThisThenCropTightly.includes($[j-1]))||"left"!==g.extendToOneSide&&O(g.ifRightSideIncludesThisThenCropTightly)&&g.ifRightSideIncludesThisThenCropTightly.length&&($[E+1]&&g.ifRightSideIncludesThisThenCropTightly.includes($[E+1])||$[E]&&g.ifRightSideIncludesThisThenCropTightly.includes($[E])))&&("right"!==g.extendToOneSide&&v($[j-1])&&!g.wipeAllWhitespaceOnLeft&&j--,"left"!==g.extendToOneSide&&v($[E])&&!g.wipeAllWhitespaceOnRight&&E++),g.addSingleSpaceToPreventAccidentalConcatenation&&$[j-1]&&$[j-1].trim().length&&$[E]&&$[E].trim().length&&(!g.ifLeftSideIncludesThisThenCropTightly&&!g.ifRightSideIncludesThisThenCropTightly||g.ifLeftSideIncludesThisThenCropTightly&&!g.ifLeftSideIncludesThisThenCropTightly.includes($[j-1])||!(!g.ifRightSideIncludesThisThenCropTightly||$[E]&&g.ifRightSideIncludesThisThenCropTightly.includes($[E])))&&(u.test($[j-1])||u.test($[E]))?[j,E," "]:[j,E]}function $u(f){var u="";return f>=26&&(u=$u(Math.floor(f/26)-1)),u+"abcdefghijklmnopqrstuvwxyz"[f%26]}var ju=function(f,u){if("string"!=typeof f)return!1;if(u&&"includeZero"in u){if("boolean"!=typeof u.includeZero)throw new TypeError(String(u.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(u.includeZero)return/^(-?0|[1-9]\d*)(\.0+)?$/.test(f)}return/^[1-9]\d*(\.0+)?$/.test(f)},Eu=w(function(f,u){(u=f.exports=function(f){return f+u.suffix(+f)}).suffix=function(f){return f%=100,1===Math.floor(f/10)?"th":f%10==1?"st":f%10==2?"nd":f%10==3?"rd":"th"}});Eu.suffix;const cu=Array.isArray;function iu(f,u){if(!cu(f))throw new TypeError(`ranges-sort: [THROW_ID_01] Input must be an array, consisting of range arrays! Currently its type is: ${typeof f}, equal to: ${JSON.stringify(f,null,4)}`);if(0===f.length)return f;const O={strictlyTwoElementsInRangeArrays:!1,progressFn:null},w=Object.assign({},O,u);let g,$;if(bf(w,O,{msg:"ranges-sort: [THROW_ID_02*]",schema:{progressFn:["function","false","null"]}}),w.strictlyTwoElementsInRangeArrays&&!f.every((f,u)=>2===f.length||(g=u,$=f.length,!1)))throw new TypeError(`ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ${Eu(g)} range (${JSON.stringify(f[g],null,4)}) has not two but ${$} elements!`);if(!f.every((f,u)=>!(!v(f[0],{includeZero:!0})||!v(f[1],{includeZero:!0}))||(g=u,!1)))throw new TypeError(`ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ${Eu(g)} range (${JSON.stringify(f[g],null,4)}) does not consist of only natural numbers!`);const j=f.length*f.length;let E=0;return Array.from(f).sort((f,u)=>(w.progressFn&&(E++,w.progressFn(Math.floor(100*E/j))),f[0]===u[0]?f[1]<u[1]?-1:f[1]>u[1]?1:0:f[0]<u[0]?-1:1))}function pu(f,u){if(!Array.isArray(f))return f;if(u&&"function"!=typeof u)throw new Error(`ranges-merge: [THROW_ID_01] the second input argument must be a function! It was given of a type: "${typeof u}", equal to ${JSON.stringify(u,null,4)}`);const v=M(f).filter(f=>void 0!==f[2]||f[0]!==f[1]);let O,w,g;const $=(O=u?iu(v,{progressFn:f=>{(g=Math.floor(f/5))!==w&&(w=g,u(g))}}):iu(v)).length-1;for(let f=$;f>0;f--)u&&(g=Math.floor(78*(1-f/$))+21)!==w&&g>w&&(w=g,u(g)),(O[f][0]<=O[f-1][0]||O[f][0]<=O[f-1][1])&&(O[f-1][0]=Math.min(O[f][0],O[f-1][0]),O[f-1][1]=Math.max(O[f][1],O[f-1][1]),void 0!==O[f][2]&&(O[f-1][0]>=O[f][0]||O[f-1][1]<=O[f][1])&&null!==O[f-1][2]&&(null===O[f][2]&&null!==O[f-1][2]?O[f-1][2]=null:void 0!==O[f-1][2]?O[f-1][2]+=O[f][2]:O[f-1][2]=O[f][2]),O.splice(f,1),f=O.length);return O}const Mu=Array.isArray;function Ju(f,u){let v;if(v=u&&"number"==typeof u?u:1,"string"==typeof f){if(0===f.length)return"";if(""===f.trim()){const u=(f.match(/\n/g)||[]).length;return u?"\n".repeat(Math.min(u,v)):" "}let u="";if(""===f[0].trim()){u=" ";let O=0;for(let u=0,v=f.length;u<v&&("\n"===f[u]&&O++,0===f[u].trim().length);u++);O&&(u="\n".repeat(Math.min(O,v)))}let O="";if(""===f.slice(-1).trim()){O=" ";let u=0;for(let v=f.length;v--&&("\n"===f[v]&&u++,0===f[v].trim().length););u&&(O="\n".repeat(Math.min(u,v)))}return u+f.trim()+O}return f}function Pu(f){return null!=f}const Zu=Array.isArray;function qu(f){return"string"==typeof f}function Lu(f){return ju(f,{includeZero:!0})?parseInt(f,10):f}class Qu{constructor(f){const u={limitToBeAddedWhitespace:!1,limitLinebreaksCount:1},v=Object.assign({},u,f);bf(v,u,{msg:"string-slices-array-push: [THROW_ID_02*]"}),this.opts=v}add(f=function(f){throw new Error(`string-slices-array-push/Slices/add(): [THROW_ID_01] Missing ${Eu(f)} input parameter!`)}(1),u,O,...w){if(w.length>0)throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_03] Please don't overload the add() method. From the 4th input argument onwards we see these redundant arguments: ${JSON.stringify(w,null,4)}`);if(null===f&&void 0===u&&void 0===O)return;const g=ju(f,{includeZero:!0})?parseInt(f,10):f,$=ju(u,{includeZero:!0})?parseInt(u,10):u;if(Zu(f)&&!Pu(u)){let u,O;if(f.length>0){if(!f.every((f,v)=>!!Zu(f)||(u=v,O=f,!1)))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_07] first argument was given as array but it contains not only range arrays. For example, at index ${u} we have ${typeof O}-type value:\n${JSON.stringify(O,null,4)}.`);f.forEach((f,u)=>{if(!v(Lu(f[0]),{includeZero:!0}))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_06] The ${Eu(u)} ranges array's starting range index, an element at its zero'th index, is not a natural number! It's equal to: ${f[0]}.`);if(!v(Lu(f[1]),{includeZero:!0}))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_05] The ${Eu(u)} ranges array's ending range index, an element at its first index, is not a natural number! It's equal to: ${f[1]}.`);if(Pu(f[2])&&!qu(f[2]))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_04] The ${Eu(u)} ranges array's "to add" value is not string but ${typeof f[2]}! It's equal to: ${f[2]}.`);this.add(...f)})}}else{if(!v(g,{includeZero:!0})||!v($,{includeZero:!0}))throw v(g,{includeZero:!0})?new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it's of a type "${typeof $}" equal to: ${JSON.stringify($,null,4)}`):new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it's of a type "${typeof g}" equal to: ${JSON.stringify(g,null,4)}`);if(Pu(O)&&!qu(O))throw new TypeError(`string-slices-array-push/Slices/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but ${typeof O}, equal to:\n${JSON.stringify(O,null,4)}`);if(Pu(this.slices)&&Zu(this.last())&&g===this.last()[1]){if(this.last()[1]=$,null!==this.last()[2]&&Pu(O)){let f=Pu(this.last()[2])&&this.last()[2].length>0?this.last()[2]+O:O;this.opts.limitToBeAddedWhitespace&&(f=Ju(f,this.opts.limitLinebreaksCount)),qu(f)&&!f.length||(this.last()[2]=f)}}else this.slices||(this.slices=[]),this.slices.push(void 0===O||qu(O)&&!O.length?[g,$]:[g,$,this.opts.limitToBeAddedWhitespace?Ju(O,this.opts.limitLinebreaksCount):O])}}push(f,u,v,...O){this.add(f,u,v,...O)}current(){return null!=this.slices?(this.slices=pu(this.slices),this.opts.limitToBeAddedWhitespace?this.slices.map(f=>Pu(f[2])?[f[0],f[1],Ju(f[2],this.opts.limitLinebreaksCount)]:f):this.slices):null}wipe(){this.slices=void 0}last(){return void 0!==this.slices&&Array.isArray(this.slices)?this.slices[this.slices.length-1]:null}}var Xu=200,Uu="__lodash_hash_undefined__",Yu="[object Function]",Gu="[object GeneratorFunction]",Vu=/^\[object .+?Constructor\]$/,Ku="object"==typeof O&&O&&O.Object===Object&&O,bu="object"==typeof self&&self&&self.Object===Object&&self,nu=Ku||bu||Function("return this")();function Nu(f,u){return!!(f?f.length:0)&&function(f,u,v){if(u!=u)return function(f,u,v,O){var w=f.length,g=v+(O?1:-1);for(;O?g--:++g<w;)if(u(f[g],g,f))return g;return-1}(f,hu,v);var O=v-1,w=f.length;for(;++O<w;)if(f[O]===u)return O;return-1}(f,u,0)>-1}function Wu(f,u,v){for(var O=-1,w=f?f.length:0;++O<w;)if(v(u,f[O]))return!0;return!1}function hu(f){return f!=f}function Bu(f,u){return f.has(u)}function ou(f){var u=-1,v=Array(f.size);return f.forEach(function(f){v[++u]=f}),v}var Fu=Array.prototype,Hu=Function.prototype,mu=Object.prototype,ku=nu["__core-js_shared__"],Tu=function(){var f=/[^.]+$/.exec(ku&&ku.keys&&ku.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),Ru=Hu.toString,Du=mu.hasOwnProperty,yu=mu.toString,Au=RegExp("^"+Ru.call(Du).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Su=Fu.splice,Iu=eu(nu,"Map"),ru=eu(nu,"Set"),zu=eu(Object,"create");function Cu(f){var u=-1,v=f?f.length:0;for(this.clear();++u<v;){var O=f[u];this.set(O[0],O[1])}}function xu(f){var u=-1,v=f?f.length:0;for(this.clear();++u<v;){var O=f[u];this.set(O[0],O[1])}}function lu(f){var u=-1,v=f?f.length:0;for(this.clear();++u<v;){var O=f[u];this.set(O[0],O[1])}}function _u(f){var u=-1,v=f?f.length:0;for(this.__data__=new lu;++u<v;)this.add(f[u])}function tu(f,u){for(var v,O,w=f.length;w--;)if((v=f[w][0])===(O=u)||v!=v&&O!=O)return w;return-1}function su(f){return!(!fv(f)||(u=f,Tu&&Tu in u))&&(function(f){var u=fv(f)?yu.call(f):"";return u==Yu||u==Gu}(f)||function(f){var u=!1;if(null!=f&&"function"!=typeof f.toString)try{u=!!(f+"")}catch(f){}return u}(f)?Au:Vu).test(function(f){if(null!=f){try{return Ru.call(f)}catch(f){}try{return f+""}catch(f){}}return""}(f));var u}Cu.prototype.clear=function(){this.__data__=zu?zu(null):{}},Cu.prototype.delete=function(f){return this.has(f)&&delete this.__data__[f]},Cu.prototype.get=function(f){var u=this.__data__;if(zu){var v=u[f];return v===Uu?void 0:v}return Du.call(u,f)?u[f]:void 0},Cu.prototype.has=function(f){var u=this.__data__;return zu?void 0!==u[f]:Du.call(u,f)},Cu.prototype.set=function(f,u){return this.__data__[f]=zu&&void 0===u?Uu:u,this},xu.prototype.clear=function(){this.__data__=[]},xu.prototype.delete=function(f){var u=this.__data__,v=tu(u,f);return!(v<0||(v==u.length-1?u.pop():Su.call(u,v,1),0))},xu.prototype.get=function(f){var u=this.__data__,v=tu(u,f);return v<0?void 0:u[v][1]},xu.prototype.has=function(f){return tu(this.__data__,f)>-1},xu.prototype.set=function(f,u){var v=this.__data__,O=tu(v,f);return O<0?v.push([f,u]):v[O][1]=u,this},lu.prototype.clear=function(){this.__data__={hash:new Cu,map:new(Iu||xu),string:new Cu}},lu.prototype.delete=function(f){return du(this,f).delete(f)},lu.prototype.get=function(f){return du(this,f).get(f)},lu.prototype.has=function(f){return du(this,f).has(f)},lu.prototype.set=function(f,u){return du(this,f).set(f,u),this},_u.prototype.add=_u.prototype.push=function(f){return this.__data__.set(f,Uu),this},_u.prototype.has=function(f){return this.__data__.has(f)};var au=ru&&1/ou(new ru([,-0]))[1]==1/0?function(f){return new ru(f)}:function(){};function du(f,u){var v,O,w=f.__data__;return("string"==(O=typeof(v=u))||"number"==O||"symbol"==O||"boolean"==O?"__proto__"!==v:null===v)?w["string"==typeof u?"string":"hash"]:w.map}function eu(f,u){var v=function(f,u){return null==f?void 0:f[u]}(f,u);return su(v)?v:void 0}function fv(f){var u=typeof f;return!!f&&("object"==u||"function"==u)}var uv=function(f){return f&&f.length?function(f,u,v){var O=-1,w=Nu,g=f.length,$=!0,j=[],E=j;if(v)$=!1,w=Wu;else if(g>=Xu){var c=u?null:au(f);if(c)return ou(c);$=!1,w=Bu,E=new _u}else E=u?[]:j;f:for(;++O<g;){var i=f[O],p=u?u(i):i;if(i=v||0!==i?i:0,$&&p==p){for(var M=E.length;M--;)if(E[M]===p)continue f;u&&E.push(p),j.push(i)}else w(E,p,v)||(E!==j&&E.push(p),j.push(i))}return j}(f):[]},vv=Array.isArray;return function(O,w){var g,$,j,E,c=Date.now(),i=new Qu({limitToBeAddedWhitespace:!0}),M=new Qu,J=new Qu;function P(f){return/[-_A-Za-z0-9]/.test(f)}function Z(f,u){return Object.prototype.hasOwnProperty.call(f,u)}function q(f){return"string"==typeof f}function L(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({valuesStart:null,valueStart:null,nameStart:null},f)}var Q,X,U,Y,G,K,b,n,N,W,h,B,o,F,H,m=[],k=[],T=[],R={},D=0,y=!1,A=null,S=!1,I=0,r=0,z=/[\n]?\s*@(media|supports|document)[^{]*{\s*}/g,C=".# ~\\!@$%^&*()+=,/';:\"?><[]{}|`\t\n",x=["media","supports","document"],l=["font-feature-values","counter-style","namespace","font-face","keyframes","viewport","charset","import","page"],_=["{","(","<",'"',"'","@",";"];if("string"!=typeof O)throw new TypeError("email-remove-unused-css: [THROW_ID_01] Input must be string! Currently it's ".concat(f(O)));if(!V(w)){if(null!=w)throw new TypeError("email-remove-unused-css: [THROW_ID_02] Options, second input argument, must be a plain object! Currently it's ".concat(f(w),", equal to: ").concat(JSON.stringify(w,null,4)));w={}}if(q(w.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&(w.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length?w.doNotRemoveHTMLCommentsWhoseOpeningTagContains=[w.doNotRemoveHTMLCommentsWhoseOpeningTagContains]:w.doNotRemoveHTMLCommentsWhoseOpeningTagContains=[]),V(w)&&Z(w,"backend")&&function f(u){let v,O,w=!0;if(Array.isArray(u)){if(0===u.length)return!0;for(v=0,O=u.length;v<O;v++){if(null===(w=f(u[v])))return null;if(!w)return!1}}else if(V(u)){if(0===Object.keys(u).length)return!0;for(v=0,O=Object.keys(u).length;v<O;v++){if(null===(w=f(u[Object.keys(u)[v]])))return null;if(!w)return!1}}else{if("string"!=typeof u)return null;if(0!==u.length)return!1}return w}(w.backend)&&(w.backend=[]),q((w=Object.assign({},{whitelist:[],backend:[],uglify:!1,removeHTMLComments:!0,doNotRemoveHTMLCommentsWhoseOpeningTagContains:["[if","[endif"]},w)).whitelist)&&(w.whitelist=[w.whitelist]),!vv(w.whitelist))throw new TypeError("email-remove-unused-css: [THROW_ID_03] opts.whitelist should be an array, but it was customised to a wrong thing, ".concat(JSON.stringify(w.whitelist,null,4)));if(w.whitelist.length>0&&!w.whitelist.every(function(f){return q(f)}))throw new TypeError("email-remove-unused-css: [THROW_ID_04] opts.whitelist array should contain only string-type elements. Currently we\ve got:\n".concat(JSON.stringify(w.whitelist,null,4)));if(!vv(w.backend))throw new TypeError("email-remove-unused-css: [THROW_ID_05] opts.backend should be an array, but it was customised to a wrong thing, ".concat(JSON.stringify(w.backend,null,4)));if(w.backend.length>0&&w.backend.some(function(f){return!V(f)}))throw new TypeError("email-remove-unused-css: [THROW_ID_06] opts.backend array should contain only plain objects but it contains something else:\n".concat(JSON.stringify(w.backend,null,4)));if(w.backend.length>0&&!w.backend.every(function(f){return Z(f,"heads")&&Z(f,"tails")}))throw new TypeError('email-remove-unused-css: [THROW_ID_07] every object within opts.backend should contain keys "heads" and "tails" but currently it\'s not the case. Whole "opts.backend" value array is currently equal to:\n'.concat(JSON.stringify(w.backend,null,4)));if("boolean"!=typeof w.uglify){if(1!==w.uglify&&0!==w.uglify)throw new TypeError("email-remove-unused-css: [THROW_ID_08] opts.uglify should be a Boolean. Currently it's set to: ".concat(JSON.stringify(w.uglify,null,4),"}"));w.uglify=!!w.uglify}var t=null,s=null;vv(w.backend)&&w.backend.length&&(t=w.backend.map(function(f){return f.heads}),s=w.backend.map(function(f){return f.tails}));var a,d,e,ff,uf,vf,Of,wf,gf,$f,jf,Ef,cf,pf,Mf,Jf,Zf,qf,Lf=O.length,Qf=0;O.length&&"\r\n".includes(O[O.length-1])||(Qf=1);for(var Xf={n:0,r:0,rn:0},Uf=function(f){K=!1,h=null,y=!1,F=!0,o=!0,Y=L(),n=!0,S=!1,B=null,G=L(),X=null,wf=!1,A=null,gf=null,$f=null,b=!1,W=null,Ef=!1,Q=null,d=null,j=null,U=null,Jf=null,E=null,a=!1,D+=Lf;f:for(g=0;g<Lf;g++){var v=O[g];if("\n"===O[g]?"\r"===O[g-1]?1===f&&Xf.rn++:1===f&&Xf.n++:"\r"===O[g]&&"\n"!==O[g+1]&&1===f&&Xf.r++,!0!==wf&&(null===E&&null!==j&&g>=j||null!==j&&null!==E&&j>E&&j<g)?(wf=!0,Ef=!1):!0!==Ef&&null!==U&&(null===j||j<g)&&(null===E||E<g)&&(Ef=!0,wf=!1),a||'"'!==O[g]&&"'"!==O[g]||b&&(gf=gf?null:O[g]),a)if(null===d||"string"!=typeof d||"string"==typeof d&&0===d.length)a=!1;else if(df(O,g,d)){if(null!==Q){if(1===f){var c=af(O,Q,["\r\n","\n","\r"]),J=Q;c&&(J-=c.length),O[J-1]&&P(O[J-1])&&O[g+d.length]&&P(O[g+d.length])?(i.push(J,g+d.length,";"),r+=g+d.length-J):(i.push(J,g+d.length),r+=g+d.length-J)}Q=null}g=g+d.length-1,d=null,a=!1;continue f}if(!a&&"<"===O[g]&&"s"===O[g+1]&&"t"===O[g+2]&&"y"===O[g+3]&&"l"===O[g+4]&&"e"===O[g+5]){K=!0;for(var Z=g;Z<Lf;Z++)if(D++,">"===O[Z]){j=Z+1,W=Z+1;break}}if(!a&&wf&&"<"===O[g]&&"/"===O[g+1]&&"s"===O[g+2]&&"t"===O[g+3]&&"y"===O[g+4]&&"l"===O[g+5]&&"e"===O[g+6]&&(K=!1,E=g-1,W=null),1===f&&null!==Q&&"*"===O[g]&&"/"===O[g+1]){var V=g+2;"\n"===O[g+2]||"\r"===O[g+2]&&"\n"!==O[g+3]?V=g+3:"\r"===O[g+2]&&"\n"===O[g+3]&&(V=g+4);var z=gu({str:O,from:Q,to:V,wipeAllWhitespaceOnLeft:!0});i.push.apply(i,u(z)),Q=null,a=!1}if(1!==f||!wf&&!Ef||"/"!==O[g]||"*"!==O[g+1]||Q){if(!a&&wf&&"@"===O[g]){$f&&($f=null);var Qf=ef(O,g,x)||ef(O,g,l);if(Qf){var Uf=void 0;(";"===O[g+Qf.length+1]||O[g+Qf.length+1]&&!O[g+Qf.length+1].trim().length&&ef(O,g+Qf.length+1,";",{trimBeforeMatching:!0,cb:function(f,u,v){return Uf=v,!0}}))&&i.push(g,Uf||g+Qf.length+2);for(var Yf=void 0,Gf=g+1;Gf<Lf;Gf++)if(D++,Yf&&O[Gf]===Yf){if("}"===O[Gf]&&l.includes(Qf)||"{"===O[Gf]&&x.includes(Qf)){g=Gf,W=Gf+1;continue f}Yf=void 0}else if('"'!==O[Gf]||Yf?"'"!==O[Gf]||Yf?"("!==O[Gf]||Yf?l.includes(Qf)&&"{"===O[Gf]&&!Yf&&(Yf="}"):Yf=")":Yf="'":Yf='"',!Yf&&_.includes(O[Gf])){var Vf=void 0,bf=void 0;if("{"===O[Gf]||";"===O[Gf]){b=!1,W=Gf+1,g=Gf;continue f}"@"!==O[Gf]&&"<"!==O[Gf]||1!==f||O.slice(g,Gf).includes("{")||O.slice(g,Gf).includes("(")||O.slice(g,Gf).includes('"')||O.slice(g,Gf).includes("'")||(Vf=g,bf=Gf+(";"===O[Gf]?1:0),i.push(Vf,bf));var nf=bf?bf-1:Gf-1+("{"===O[Gf]?1:0);g=nf,W=nf+1;continue f}}}if(!a&&wf&&b&&K&&"}"===v&&!gf&&(b=!1,2===f&&o&&W&&i.push(W,g+1),W&&(W=g+1),h=null,y=!1,o=!0,B=null,A=null,S=!1),!a&&!Q&&j&&g>=j&&(null===E&&g>=j||j>E&&j<g)&&g>=null&&!b){if(null===B){if("."===v||"#"===v)B=g;else if(0!==v.trim().length)if("}"===v)W=g+1,Jf=null;else if("<"===v&&"!"===O[g+1])for(var Nf=g;Nf<Lf;Nf++)if(D++,">"===O[Nf]){W=Nf+1,h=Nf+1,g=Nf;continue f}}else if(null!==B&&!P(v)){var Wf=O.slice(B,g);2===f&&!y&&Mf.includes(Wf)?(y=!0,S=!0):2!==f||y||(!w.uglify||vv(w.whitelist)&&w.whitelist.length&&Kf([Wf],w.whitelist).length||!q($u(ff.indexOf(Wf)))||M.push(B+1,g,$u(ff.indexOf(Wf))),","===v&&(A=g,S=!1)),B="."===v||"#"===v?g:null}if(null===h)0===v.trim().length||"}"===v||";"===v||"/"===O[g]&&"*"===O[g+1]||(y=!1,h=g);else if(",{".includes(v)){var hf=$f||g;if(Jf=O.slice(h,hf),1===f)$f&&(","===v&&$f<g?(i.push($f,g),I+=g-$f):"{"===v&&$f<g-1&&(i.push($f,g-1),I+=g-1-$f)),m.push(Jf);else if(y){var Bf=h,of=g,Ff=void 0;if("{"===v&&">"!==O[Bf-1]&&"}"!==O[Bf-1]){for(var Hf=h-1;Hf--;)if(D++,0!==O[Hf].trim().length&&","!==O[Hf]){Bf=Hf+1;break}0===O[g-1].trim().length&&(of=g-1)}else if(","===v&&0===O[g+1].trim().length){for(var mf=g+1;mf<Lf;mf++)if(D++,0!==O[mf].trim().length){of=mf;break}}else af(O,Bf,"{",{trimBeforeMatching:!0,cb:function(f,u,v){return Ff=v,!0}})&&(Bf=Ff+2);i.push.apply(i,u(gu({str:O,from:Bf,to:of,ifRightSideIncludesThisThenCropTightly:".#",ifRightSideIncludesThisCropItToo:",",extendToOneSide:"right"}))),w.uglify&&M.wipe()}else o&&(o=!1),w.uglify&&(i.push(M.current()),M.wipe());if("{"!==v)h=null;else if(2===f&&!o&&null!==A&&S){var kf=A+1;if("\n\r".includes(O[A+1]))for(var Tf=A+1;Tf<Lf;Tf++)if(O[Tf].trim().length){kf=Tf;break}i.push(A,kf),A=null,S=!1}}}if(!a&&!wf&&Ef&&"/"===O[g]&&ef(O,g,"body",{trimBeforeMatching:!0,i:!0})&&af(O,g,"<",{trimBeforeMatching:!0})&&(Ef=!1,U=null),!a&&"<"===O[g]&&ef(O,g,"body",{i:!0,trimBeforeMatching:!0,cb:function(u,v,O){if(1===f){if(void 0!==u&&(""===u.trim()||">"===u)){if(!(O-g>5))return!0;i.push(g,O,"<body"),I+=O-g-5}return!0}return!0}}))for(var Rf=g;Rf<Lf;Rf++)if(D++,">"===O[Rf]){U=Rf+1;break}if(!a&&Ef&&"s"===O[g]&&"t"===O[g+1]&&"y"===O[g+2]&&"l"===O[g+3]&&"e"===O[g+4]&&"="===O[g+5]&&C.includes(O[g-1])&&"\"'".includes(O[g+6]),!a&&Ef&&"c"===O[g]&&"l"===O[g+1]&&"a"===O[g+2]&&"s"===O[g+3]&&"s"===O[g+4]&&C.includes(O[g-1])){var Df=void 0;if("="===O[g+5]){if('"'===O[g+6]||"'"===O[g+6])Df=g+7;else if(O[g+6]&&(!O[g+6].trim().length||"/>".includes(O[g+6]))){var yf=gu({str:O,from:g,to:g+6,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0});i.push.apply(i,u(yf))}}else if(0===O[g+5].trim().length)for(var Af=g+5;Af<Lf;Af++)if(D++,O[Af].trim().length){if("="===O[Af])if(Af>g+5&&1===f&&i.push(g+5,Af),'"'!==O[Af+1]&&"'"!==O[Af+1]||!O[Af+2]){if(O[Af+1]&&0===O[Af+1].trim().length)for(var Sf=Af+1;Sf<Lf;Sf++)if(D++,O[Sf].trim().length){Sf>Af+1&&1===f&&i.push(Af+1,Sf),'"'!==O[Sf]&&"'"!==O[Sf]||!O[Sf+1]||(Df=Sf+1);break}}else Df=Af+2;else if(1===f){var If=gu({str:O,from:g,to:Af-1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0});i.push.apply(i,u(If))}break}Df&&(Y=L({valuesStart:Df,nameStart:g}),1===f?n=!0:2===f&&(F=!0))}if(!a&&null!==U&&"i"===O[g]&&"d"===O[g+1]&&C.includes(O[g-1])){var rf=void 0;if("="===O[g+2]){if('"'===O[g+3]||"'"===O[g+3])rf=g+4;else if(O[g+3]&&(!O[g+3].trim().length||"/>".includes(O[g+3]))){var zf=gu({str:O,from:g,to:g+3,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0});i.push.apply(i,u(zf))}}else if(0===O[g+2].trim().length)for(var Cf=g+2;Cf<Lf;Cf++)if(D++,O[Cf].trim().length){if("="===O[Cf])if(Cf>g+2&&1===f&&i.push(g+2,Cf),'"'!==O[Cf+1]&&"'"!==O[Cf+1]||!O[Cf+2]){if(O[Cf+1]&&0===O[Cf+1].trim().length)for(var xf=Cf+1;xf<Lf;xf++)if(D++,O[xf].trim().length){xf>Cf+1&&1===f&&i.push(Cf+1,xf),'"'!==O[xf]&&"'"!==O[xf]||!O[xf+1]||(rf=xf+1);break}}else rf=Cf+2;else if(1===f){var lf=gu({str:O,from:g,to:Cf-1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0});i.push.apply(i,u(lf))}break}rf&&(G=L({valuesStart:rf,nameStart:g}),1===f?n=!0:2===f&&(F=!0))}if(!a&&null!==Y.valuesStart&&g>=Y.valuesStart&&null===Y.valueStart&&(t&&df(O,g,t)?function(){if(a=!0,F=!1,$f&&g>$f+1){var f=gu({str:O,from:$f,to:g,ifLeftSideIncludesThisThenCropTightly:"\"'",ifRightSideIncludesThisThenCropTightly:"\"'"});i.push.apply(i,u(f)),$f=null}else $f&&($f=null);var v=df(O,g,t),$=w.backend.find(function(f){return f.heads===v});d=$.tails}():P(v)&&(Y.valueStart=g,1===f&&(n&&null!==Y.valuesStart&&0===O.slice(Y.valuesStart,g).trim().length&&Y.valuesStart<g?(i.push(Y.valuesStart,g),I+=g-Y.valuesStart,n=!1):null!==$f&&$f<g-1&&(i.push($f+1,g),I+=g-$f+1)))),!a&&null!==Y.valueStart&&g>Y.valueStart&&(!P(v)||s&&df(O,g,s))){var _f="".concat(O.slice(Y.valueStart,g));if(1===f)k.push(".".concat(_f));else if(null!=Y.valueStart&&jf.includes(_f)){var tf=gu({str:O,from:Y.valueStart,to:g,ifLeftSideIncludesThisThenCropTightly:"\"'",ifRightSideIncludesThisThenCropTightly:"\"'",wipeAllWhitespaceOnLeft:!0});O[tf[0]-1]&&O[tf[0]-1].trim().length&&O[tf[1]]&&O[tf[1]].trim().length&&(t||s)&&(t&&af(O,tf[0],s)||s&&df(O,tf[1],t))&&(tf[0]+=1),i.push.apply(i,u(tf))}else F=!1,w.uglify&&q($u(ff.indexOf(".".concat(_f))))&&i.push(Y.valueStart,g,$u(ff.indexOf(".".concat(_f))));Y.valueStart=null}if(!a&&null!==G.valueStart&&g>G.valueStart&&(!P(v)||s&&df(O,g,s))){var sf=O.slice(G.valueStart,g);if(1===f)T.push("#".concat(sf));else if(null!=G.valueStart&&cf.includes(sf)){var fu=gu({str:O,from:G.valueStart,to:g,ifRightSideIncludesThisThenCropTightly:"\"'",wipeAllWhitespaceOnLeft:!0});O[fu[0]-1]&&O[fu[0]-1].trim().length&&O[fu[1]]&&O[fu[1]].trim().length&&(t||s)&&(t&&af(O,fu[0],s)||s&&df(O,fu[1],t))&&(fu[0]+=1),i.push.apply(i,u(fu))}else F=!1,w.uglify&&q($u(ff.indexOf("#".concat(sf))))&&i.push(G.valueStart,g,$u(ff.indexOf("#".concat(sf))));G.valueStart=null}if(!a&&null!=Y.valuesStart&&("'"===v||'"'===v)&&g>=Y.valuesStart){if(g===Y.valuesStart)1===f&&i.push.apply(i,u(gu({str:O,from:Y.nameStart,to:g+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0})));else{if(2===f&&F){var uu=gu({str:O,from:Y.valuesStart-7,to:g+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0});O[uu[0]-1]&&O[uu[0]-1].trim().length&&O[uu[1]]&&O[uu[1]].trim().length&&(t||s)&&(t&&af(O,uu[0],t)||s&&df(O,uu[1],s))&&(uu[0]+=1),i.push.apply(i,u(uu))}null!==$f&&i.push($f,g)}Y=L()}if(!a&&null!==G.valuesStart&&("'"===v||'"'===v)&&g>=G.valuesStart){if(g===G.valuesStart)1===f&&i.push.apply(i,u(gu({str:O,from:G.nameStart,to:g+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0})));else{if(2===f&&F){var wu=gu({str:O,from:G.valuesStart-4,to:g+1,ifRightSideIncludesThisThenCropTightly:"/>",wipeAllWhitespaceOnLeft:!0});O[wu[0]-1]&&O[wu[0]-1].trim().length&&O[wu[1]]&&O[wu[1]].trim().length&&(t||s)&&(t&&af(O,wu[0],t)||s&&df(O,wu[1],s))&&(wu[0]+=1),i.push.apply(i,u(wu))}null!==$f&&i.push($f,g)}G=L()}if(!a&&G.valuesStart&&g>=G.valuesStart&&null===G.valueStart&&(t&&df(O,g,t)?function(){if(a=!0,F=!1,$f&&g>$f+1){var f=gu({str:O,from:$f,to:g,ifLeftSideIncludesThisThenCropTightly:"\"'",ifRightSideIncludesThisThenCropTightly:"\"'"});i.push.apply(i,u(f)),$f=null}else $f&&($f=null);var v=df(O,g,t),$=w.backend.find(function(f){return f.heads===v});d=$.tails}():P(v)&&(G.valueStart=g,1===f&&(n&&null!==G.valuesStart&&0===O.slice(G.valuesStart,g).trim().length&&G.valuesStart<g?(i.push(G.valuesStart,g),I+=g-G.valuesStart,n=!1):null!==$f&&$f<g-1&&(i.push($f+1,g),I+=g-$f+1)))),!a&&1===f){if(null!==Q&&Q<g&&">"===O[g]&&!qf&&(w.doNotRemoveHTMLCommentsWhoseOpeningTagContains&&vv(w.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&w.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length&&w.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some(function(f){return f.trim().length&&O.slice(Q,g).toLowerCase().includes(f)})&&(Zf=!1),qf=!0),null!==Q&&">"===O[g])if(N||"-"!==O[g-1]||"-"!==O[g-2]){if(N){var ju=gu({str:O,from:Q,to:g+1,wipeAllWhitespaceOnLeft:!0,addSingleSpaceToPreventAccidentalConcatenation:!0});w.removeHTMLComments&&Zf&&i.push.apply(i,u(ju)),r+=ju[1]-ju[0],Q=null,N=void 0}}else{var Eu=gu({str:O,from:Q,to:g+1,wipeAllWhitespaceOnLeft:!0,addSingleSpaceToPreventAccidentalConcatenation:!0});w.removeHTMLComments&&Zf&&i.push.apply(i,u(Eu)),r+=Eu[1]-Eu[0],Q=null,N=void 0}w.removeHTMLComments&&null===Q&&"<"===O[g]&&"!"===O[g+1]&&((!t||vv(t)&&t.length&&!t.includes("<!"))&&(!s||vv(s)&&s.length&&!s.includes("<!"))&&(ef(O,g+1,"doctype",{i:!0,trimBeforeMatching:!0})||"-"===O[g+2]&&"-"===O[g+3]&&vv(w.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&w.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length&&ef(O,g+3,w.doNotRemoveHTMLCommentsWhoseOpeningTagContains,{trimBeforeMatching:!0})||(Q=g,qf=!1,Zf=!0),N=!("-"===O[g+2]&&"-"===O[g+3])),Q!==g&&(X=g))}if(a||"{"!==v||!K||b||(b=!0,null!==$f&&(O.slice($f,g).includes("\n")||O.slice($f,g).includes("\r"))&&i.push($f,g)),a||(O[g].trim().length?null!==$f&&($f=null):null===$f&&($f=g)),!a&&2===f&&vv(H)&&H.length&&g===H[0][0]){var cu=H.shift();cu[1]-1>g&&(g=cu[1]-1)}else if(null!==X&&">"===O[g]){X=null;var iu=void 0;if(w.removeHTMLComments&&vv(w.doNotRemoveHTMLCommentsWhoseOpeningTagContains)&&w.doNotRemoveHTMLCommentsWhoseOpeningTagContains.length&&(w.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some(function(f){return f.includes("if")})||w.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some(function(f){return f.includes("mso")})||w.doNotRemoveHTMLCommentsWhoseOpeningTagContains.some(function(f){return f.includes("ie")}))&&ef(O,g,"\x3c!--",{trimBeforeMatching:!0,cb:function(f,u,v){return iu=v,!0}})){ef(O,iu-1,"--\x3e",{trimBeforeMatching:!0,cb:function(f,u,v){return iu=v,!0}}),g=iu-1;continue}}}else Q=g,a=!0,d="*/",g++}if(1===f){vf=uv(k.concat(T).sort()),m.forEach(function(f){Ou(f).forEach(function(f){Object.prototype.hasOwnProperty.call(R,f)?R[f]+=1:R[f]=1})}),Of=Object.assign({},R),uf=uv(m.reduce(function(f,u){return f.concat(Ou(u))},[])).sort();for(var pu,Mu=Array.from(m),Ju=[],Pu=0,Zu=Mu.length;Pu<Zu;Pu++){D++;var qu,Lu=void 0;null!=Mu[Pu]&&(Lu=Ou(Mu[Pu])),Lu.every(function(f){return vf.includes(f)})||((qu=Ju).push.apply(qu,u(Ou(Mu[Pu]))),Mu.splice(Pu,1),Pu-=1,Zu-=1)}Ju=uv(vu(Ju,w.whitelist)),pu=Mu.length>0?Mu.reduce(function(f,u){return f.concat(Ou(u))},[]):[],Mf=vu(p(uv(Array.from(uf)),k.concat(T)),w.whitelist),pf=uv(vu(p(k.concat(T),pu),w.whitelist)),Mf=uv(Mf.concat(Pf(Ju,pf))).sort(),jf=pf.filter(function(f){return f.startsWith(".")}).map(function(f){return f.slice(1)}),cf=pf.filter(function(f){return f.startsWith("#")}).map(function(f){return f.slice(1)}),e=Object.keys(Of).filter(function(f){return Of[f]<1}),jf=uv(jf.concat(Pf(vu(vf,w.whitelist),e).filter(function(f){return"."===f[0]}).map(function(f){return f.slice(1)})));var Qu=Kf(vf,w.whitelist);pf=uv(pf.concat(jf.map(function(f){return".".concat(f)}),cf.map(function(f){return"#".concat(f)}))).sort(),ff=p(p(Array.from(uf),pf),Mf),vv(Qu)&&Qu.length&&(ff=ff.concat(Qu)),H=i.current()?Array.from(i.current()):null,$=Xf.rn>Xf.r&&Xf.rn>Xf.n?"\r\n":Xf.r>Xf.rn&&Xf.r>Xf.n?"\r":"\n"}else 2===f&&("\r\n".includes(O[Lf-1])||i.push(Lf,Lf,$))},Yf=1;Yf<=2;Yf++)Uf(Yf);for(i.push(J.current()),O.length&&i.current()&&(O=function(f,u,O){let w=0,g=0;if(0===arguments.length)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if("string"!=typeof f)throw new TypeError(`ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ${typeof f}, equal to: ${JSON.stringify(f,null,4)}`);if(null===u)return f;if(!Mu(u))throw new TypeError(`ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ${typeof u}, equal to: ${JSON.stringify(u,null,4)}`);if(O&&"function"!=typeof O)throw new TypeError(`ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ${typeof O}, equal to: ${JSON.stringify(O,null,4)}`);Mu(u)&&(v(u[0],{includeZero:!0})||ju(u[0],{includeZero:!0}))&&(v(u[1],{includeZero:!0})||ju(u[1],{includeZero:!0}))&&(u=[u]);const $=u.length;let j=0;u.forEach((f,E)=>{if(O&&(w=Math.floor(j/$*10))!==g&&(g=w,O(w)),!Mu(f))throw new TypeError(`ranges-apply: [THROW_ID_05] ranges array, second input arg., has ${Eu(E)} element not an array: ${JSON.stringify(f,null,4)}, which is ${typeof f}`);if(!v(f[0],{includeZero:!0})){if(!ju(f[0],{includeZero:!0}))throw new TypeError(`ranges-apply: [THROW_ID_06] ranges array, second input arg. has ${Eu(E)} element, array [${f[0]},${f[1]}]. That array has first element not an integer, but ${typeof f[0]}, equal to: ${JSON.stringify(f[0],null,4)}. Computer doesn't like this.`);u[E][0]=Number.parseInt(u[E][0],10)}if(!v(f[1],{includeZero:!0})){if(!ju(f[1],{includeZero:!0}))throw new TypeError(`ranges-apply: [THROW_ID_07] ranges array, second input arg. has ${Eu(E)} element, array [${f[0]},${f[1]}]. That array has second element not an integer, but ${typeof f[1]}, equal to: ${JSON.stringify(f[1],null,4)}. Computer doesn't like this.`);u[E][1]=Number.parseInt(u[E][1],10)}j++});const E=pu(u,f=>{O&&(w=10+Math.floor(f/10))!==g&&(g=w,O(w))}),c=E.length;if(c>0){const u=f.slice(E[c-1][1]);f=E.reduce((u,v,$,j)=>{O&&(w=20+Math.floor($/c*80))!==g&&(g=w,O(w));const E=0===$?0:j[$-1][1],i=j[$][0];return u+f.slice(E,i)+(function(f){return null!=f}(j[$][2])?j[$][2]:"")},""),f+=u}return f}(O,i.current()),i.wipe());z.test(O);)O=O.replace(z,""),D+=O.length;O=O.replace(/[\n]?\s*<style[^>]*>\s*<\/style\s*>/g,"\n"),D+=O.length;var Gf=O.length;return O=O.replace(fu(),""),D+=O.length,Gf!==O.length&&(r+=O.length-Gf),(Gf=O.length)!==(O=O.replace(/(\r?\n|\r)*[ ]*(\r?\n|\r)+/g,$)).length&&(I+=O.length-Gf),D+=O.length,O.length&&(O[0].trim().length&&O[O.length-1].trim().length||O.length===O.trim().length||(I+=O.length-O.trim().length),O="".concat(O.trim()).concat($)),{log:{timeTakenInMiliseconds:Date.now()-c,traversedTotalCharacters:D,traversedTimesInputLength:Lf?Math.round(D/Lf*100)/100:0,originalLength:Lf,cleanedLength:O.length,bytesSaved:Math.max(Lf-O.length,0),percentageReducedOfOriginal:Lf?Math.round(100*Math.max(Lf-O.length,0)/Lf):0,nonIndentationsWhitespaceLength:Math.max(I-Qf,0),nonIndentationsTakeUpPercentageOfOriginal:Lf&&Math.max(I-Qf,0)?Math.round(100*Math.max(I,0)/Lf):0,commentsLength:r,commentsTakeUpPercentageOfOriginal:Lf&&r?Math.round(100*r/Lf):0},result:O,allInHead:uf,allInBody:vf,deletedFromHead:Mf.sort(),deletedFromBody:pf.sort()}}});
