!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.stringCollapseWhiteSpace=t()}(this,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function t(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function r(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function n(e,t,n){if(t!==t)return r(e,o,n);for(var i=n-1,a=e.length;++i<a;)if(e[i]===t)return i;return-1}function o(e){return e!==e}function i(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function a(e,r){return t(r,function(t){return e[t]})}function u(e,t){var r=Je(e)||f(e)?i(e.length,String):[],n=r.length,o=!!n;for(var a in e)!t&&!Le.call(e,a)||o&&("length"==a||c(a,n))||r.push(a);return r}function s(e){if(!l(e))return Re(e);var t=[];for(var r in Object(e))Le.call(e,r)&&"constructor"!=r&&t.push(r);return t}function c(e,t){return!!(t=null==t?_e:t)&&("number"==typeof e||De.test(e))&&e>-1&&e%1==0&&e<t}function l(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function f(e){return p(e)&&Le.call(e,"callee")&&(!qe.call(e,"callee")||We.call(e)==Te)}function y(e){return null!=e&&d(e.length)&&!h(e)}function p(e){return m(e)&&y(e)}function h(e){var t=g(e)?We.call(e):"";return t==je||t==ke}function d(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=_e}function g(e){var t=void 0===e?"undefined":me(e);return!!e&&("object"==t||"function"==t)}function m(e){return!!e&&"object"==(void 0===e?"undefined":me(e))}function b(e){return"string"==typeof e||!Je(e)&&m(e)&&We.call(e)==Ee}function v(e){return"symbol"==(void 0===e?"undefined":me(e))||m(e)&&We.call(e)==Ae}function w(e){return e?(e=O(e))===we||e===-we?(e<0?-1:1)*Oe:e===e?e:0:0===e?e:0}function _(e){var t=w(e),r=t%1;return t===t?r?t-r:t:0}function O(e){if("number"==typeof e)return e;if(v(e))return Se;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ie,"");var r=Ce.test(e);return r||xe.test(e)?He(e.slice(2),r?2:8):Ne.test(e)?Se:+e}function S(e){return y(e)?u(e):s(e)}function T(e){return e?a(e,S(e)):[]}function j(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function k(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function E(e,t,r){if(t!==t)return k(e,I,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}function A(e,t,r,n){for(var o=r-1,i=e.length;++o<i;)if(n(e[o],t))return o;return-1}function I(e){return e!==e}function N(e){return function(t){return e(t)}}function C(e,t,r,n){var o=n?A:E,i=-1,a=t.length,u=e;for(e===t&&(t=x(t)),r&&(u=j(e,N(r)));++i<a;)for(var s=0,c=t[i],l=r?r(c):c;(s=o(u,l,s,n))>-1;)u!==e&&Ve.call(u,s,1),Ve.call(e,s,1);return e}function x(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function D(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function H(e,t){return!!(e?e.length:0)&&q(e,t,0)>-1}function M(e,t,r){for(var n=-1,o=e?e.length:0;++n<o;)if(r(t,e[n]))return!0;return!1}function L(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function W(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function q(e,t,r){if(t!==t)return W(e,R,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}function R(e){return e!==e}function P(e){return function(t){return e(t)}}function J(e,t){return e.has(t)}function Z(e,t){return null==e?void 0:e[t]}function V(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function K(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function $(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function B(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Q(e){var t=-1,r=e?e.length:0;for(this.__data__=new B;++t<r;)this.add(e[t])}function F(e,t){for(var r=e.length;r--;)if(ne(e[r][0],t))return r;return-1}function G(e,t,r){for(var n=r?M:H,o=e[0].length,i=e.length,a=i,u=Array(i),s=1/0,c=[];a--;){var l=e[a];a&&t&&(l=L(l,P(t))),s=ft(l.length,s),u[a]=!r&&(t||o>=120&&l.length>=120)?new Q(a&&l):void 0}l=e[0];var f=-1,y=u[0];e:for(;++f<o&&c.length<s;){var p=l[f],h=t?t(p):p;if(p=r||0!==p?p:0,!(y?J(y,h):n(c,h,r))){for(a=i;--a;){var d=u[a];if(!(d?J(d,h):n(e[a],h,r)))continue e}y&&y.push(h),c.push(p)}}return c}function z(e){return!(!se(e)||te(e))&&(ae(e)||V(e)?st:ze).test(re(e))}function U(e){return ie(e)?e:[]}function X(e,t){var r=e.__data__;return ee(t)?r["string"==typeof t?"string":"hash"]:r.map}function Y(e,t){var r=Z(e,t);return z(r)?r:void 0}function ee(e){var t=void 0===e?"undefined":me(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function te(e){return!!ot&&ot in e}function re(e){if(null!=e){try{return it.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ne(e,t){return e===t||e!==e&&t!==t}function oe(e){return null!=e&&ue(e.length)&&!ae(e)}function ie(e){return ce(e)&&oe(e)}function ae(e){var t=se(e)?ut.call(e):"";return t==Qe||t==Fe}function ue(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Be}function se(e){var t=void 0===e?"undefined":me(e);return!!e&&("object"==t||"function"==t)}function ce(e){return!!e&&"object"==(void 0===e?"undefined":me(e))}function le(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function fe(e){return!!e&&"object"==(void 0===e?"undefined":me(e))}function ye(e){return null!=e}function pe(e){return"string"==typeof e}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e){throw new Error("string-slices-array-push/Slices/add(): [THROW_ID_01] Missing "+e+At(e)+" parameter")}var ge="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be=(function(){function e(e){this.value=e}function t(t){function r(o,i){try{var a=t[o](i),u=a.value;u instanceof e?Promise.resolve(u.value).then(function(e){r("next",e)},function(e){r("throw",e)}):n(a.done?"return":"normal",a.value)}catch(e){n("throw",e)}}function n(e,t){switch(e){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}(o=o.next)?r(o.key,o.arg):i=null}var o,i;this._invoke=function(e,t){return new Promise(function(n,a){var u={key:e,arg:t,resolve:n,reject:a,next:null};i?i=i.next=u:(o=i=u,r(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),ve=e(function(e){var t="function"==typeof Promise,r="undefined"!=typeof window?window:void 0!==ge?ge:self,n="location"in r&&"document"in r,o="undefined"!=typeof Symbol,i="undefined"!=typeof Map,a="undefined"!=typeof Set,u="undefined"!=typeof WeakMap,s="undefined"!=typeof WeakSet,c="undefined"!=typeof DataView,l=o&&void 0!==Symbol.iterator,f=o&&void 0!==Symbol.toStringTag,y=a&&"function"==typeof Set.prototype.entries,p=i&&"function"==typeof Map.prototype.entries,h=y&&Object.getPrototypeOf((new Set).entries()),d=p&&Object.getPrototypeOf((new Map).entries()),g=l&&"function"==typeof Array.prototype[Symbol.iterator],m=g&&Object.getPrototypeOf([][Symbol.iterator]()),b=l&&"function"==typeof String.prototype[Symbol.iterator],v=b&&Object.getPrototypeOf(""[Symbol.iterator]());e.exports=function(e){var o=void 0===e?"undefined":me(e);if("object"!==o)return o;if(null===e)return"null";if(e===r)return"global";if(Array.isArray(e)&&(!1===f||!(Symbol.toStringTag in e)))return"Array";if(n){if(e===r.location)return"Location";if(e===r.document)return"Document";if(e===(r.navigator||{}).mimeTypes)return"MimeTypeArray";if(e===(r.navigator||{}).plugins)return"PluginArray";if(e instanceof HTMLElement&&"BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if(e instanceof HTMLElement&&"TD"===e.tagName)return"HTMLTableDataCellElement";if(e instanceof HTMLElement&&"TH"===e.tagName)return"HTMLTableHeaderCellElement"}var l=f&&e[Symbol.toStringTag];if("string"==typeof l)return l;var y=Object.getPrototypeOf(e);return y===RegExp.prototype?"RegExp":y===Date.prototype?"Date":t&&y===Promise.prototype?"Promise":a&&y===Set.prototype?"Set":i&&y===Map.prototype?"Map":s&&y===WeakSet.prototype?"WeakSet":u&&y===WeakMap.prototype?"WeakMap":c&&y===DataView.prototype?"DataView":i&&y===d?"Map Iterator":a&&y===h?"Set Iterator":g&&y===m?"Array Iterator":b&&y===v?"String Iterator":null===y?"Object":Object.prototype.toString.call(e).slice(8,-1)},e.exports.typeDetect=e.exports}),we=1/0,_e=9007199254740991,Oe=1.7976931348623157e308,Se=NaN,Te="[object Arguments]",je="[object Function]",ke="[object GeneratorFunction]",Ee="[object String]",Ae="[object Symbol]",Ie=/^\s+|\s+$/g,Ne=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,xe=/^0o[0-7]+$/i,De=/^(?:0|[1-9]\d*)$/,He=parseInt,Me=Object.prototype,Le=Me.hasOwnProperty,We=Me.toString,qe=Me.propertyIsEnumerable,Re=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),Pe=Math.max,Je=Array.isArray,Ze=function(e,t,r,o){e=y(e)?e:T(e),r=r&&!o?_(r):0;var i=e.length;return r<0&&(r=Pe(i+r,0)),b(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&n(e,t,r)>-1},Ve=Array.prototype.splice,Ke=function(e,t){return e&&e.length&&t&&t.length?C(e,t):e},$e="__lodash_hash_undefined__",Be=9007199254740991,Qe="[object Function]",Fe="[object GeneratorFunction]",Ge=/[\\^$.*+?()[\]{}|]/g,ze=/^\[object .+?Constructor\]$/,Ue="object"==me(ge)&&ge&&ge.Object===Object&&ge,Xe="object"==("undefined"==typeof self?"undefined":me(self))&&self&&self.Object===Object&&self,Ye=Ue||Xe||Function("return this")(),et=Array.prototype,tt=Function.prototype,rt=Object.prototype,nt=Ye["__core-js_shared__"],ot=function(){var e=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),it=tt.toString,at=rt.hasOwnProperty,ut=rt.toString,st=RegExp("^"+it.call(at).replace(Ge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ct=et.splice,lt=Math.max,ft=Math.min,yt=Y(Ye,"Map"),pt=Y(Object,"create");K.prototype.clear=function(){this.__data__=pt?pt(null):{}},K.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},K.prototype.get=function(e){var t=this.__data__;if(pt){var r=t[e];return r===$e?void 0:r}return at.call(t,e)?t[e]:void 0},K.prototype.has=function(e){var t=this.__data__;return pt?void 0!==t[e]:at.call(t,e)},K.prototype.set=function(e,t){return this.__data__[e]=pt&&void 0===t?$e:t,this},$.prototype.clear=function(){this.__data__=[]},$.prototype.delete=function(e){var t=this.__data__,r=F(t,e);return!(r<0||(r==t.length-1?t.pop():ct.call(t,r,1),0))},$.prototype.get=function(e){var t=this.__data__,r=F(t,e);return r<0?void 0:t[r][1]},$.prototype.has=function(e){return F(this.__data__,e)>-1},$.prototype.set=function(e,t){var r=this.__data__,n=F(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},B.prototype.clear=function(){this.__data__={hash:new K,map:new(yt||$),string:new K}},B.prototype.delete=function(e){return X(this,e).delete(e)},B.prototype.get=function(e){return X(this,e).get(e)},B.prototype.has=function(e){return X(this,e).has(e)},B.prototype.set=function(e,t){return X(this,e).set(e,t),this},Q.prototype.add=Q.prototype.push=function(e){return this.__data__.set(e,$e),this},Q.prototype.has=function(e){return this.__data__.has(e)};var ht=function(e,t){return t=lt(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,o=lt(r.length-t,0),i=Array(o);++n<o;)i[n]=r[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=r[n];return a[t]=i,D(e,this,a)}}(function(e){var t=L(e,U);return t.length&&t[0]===e[0]?G(t):[]}),dt=function(e){return"string"==typeof e?e.length>0?[e]:[]:e},gt=function(e,t,r){function n(e){return null!=e}function o(e){return"boolean"===ve(e)}function i(e){return"string"===ve(e)}function a(e){return"Object"===ve(e)}var u=["any","anything","every","everything","all","whatever","whatevs"],s=Array.isArray;if(0===arguments.length)throw new Error("check-types-mini/checkTypes(): Missing all arguments!");if(1===arguments.length)throw new Error("check-types-mini/checkTypes(): Missing second argument!");var c=a(t)?t:{},l={ignoreKeys:[],acceptArrays:!1,acceptArraysIgnore:[],enforceStrictKeyset:!0,schema:{},msg:"check-types-mini/checkTypes()",optsVarName:"opts"},f=void 0;if(f=n(r)&&a(r)?Object.assign({},l,r):Object.assign({},l),!i(f.msg))throw new Error("check-types-mini/checkTypes(): opts.msg must be string! Currently it's: "+ve(f.msg)+", equal to "+JSON.stringify(f.msg,null,4));if(f.msg=f.msg.trim(),":"===f.msg[f.msg.length-1]&&(f.msg=f.msg.slice(0,f.msg.length-1)),!i(f.optsVarName))throw new Error("check-types-mini/checkTypes(): opts.optsVarName must be string! Currently it's: "+ve(f.optsVarName)+", equal to "+JSON.stringify(f.optsVarName,null,4));if(f.ignoreKeys=dt(f.ignoreKeys),f.acceptArraysIgnore=dt(f.acceptArraysIgnore),!s(f.ignoreKeys))throw new TypeError("check-types-mini/checkTypes(): opts.ignoreKeys should be an array, currently it's: "+ve(f.ignoreKeys));if(!o(f.acceptArrays))throw new TypeError("check-types-mini/checkTypes(): opts.acceptArrays should be a Boolean, currently it's: "+ve(f.acceptArrays));if(!s(f.acceptArraysIgnore))throw new TypeError("check-types-mini/checkTypes(): opts.acceptArraysIgnore should be an array, currently it's: "+ve(f.acceptArraysIgnore));if(!o(f.enforceStrictKeyset))throw new TypeError("check-types-mini/checkTypes(): opts.enforceStrictKeyset should be a Boolean, currently it's: "+ve(f.enforceStrictKeyset));if(Object.keys(f.schema).forEach(function(e){s(f.schema[e])||(f.schema[e]=[f.schema[e]]),f.schema[e]=f.schema[e].map(String).map(function(e){return e.toLowerCase()}).map(function(e){return e.trim()})}),f.enforceStrictKeyset)if(n(f.schema)&&Object.keys(f.schema).length>0){if(0!==Ke(Object.keys(e),Object.keys(c).concat(Object.keys(f.schema))).length)throw new TypeError(f.msg+": "+f.optsVarName+".enforceStrictKeyset is on and the following keys are not covered by schema and/or reference objects: "+JSON.stringify(Ke(Object.keys(e),Object.keys(c).concat(Object.keys(f.schema))),null,4))}else{if(!(n(c)&&Object.keys(c).length>0))throw new TypeError(f.msg+": Both "+f.optsVarName+".schema and reference objects are missing! We don't have anything to match the keys as you requested via opts.enforceStrictKeyset!");if(0!==Ke(Object.keys(e),Object.keys(c)).length)throw new TypeError(f.msg+": The input object has keys that are not covered by reference object: "+JSON.stringify(Ke(Object.keys(e),Object.keys(c)),null,4));if(0!==Ke(Object.keys(c),Object.keys(e)).length)throw new TypeError(f.msg+": The reference object has keys that are not present in the input object: "+JSON.stringify(Ke(Object.keys(c),Object.keys(e)),null,4))}Object.keys(e).forEach(function(t){if(n(f.schema)&&Object.prototype.hasOwnProperty.call(f.schema,t)){if(f.schema[t]=dt(f.schema[t]).map(String).map(function(e){return e.toLowerCase()}),!ht(f.schema[t],u).length&&!Ze(f.schema[t],ve(e[t]).toLowerCase())){if(!s(e[t])||!f.acceptArrays)throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to "+JSON.stringify(e[t],null,4)+" which is not among the allowed types in schema ("+f.schema[t]+") but "+ve(e[t]));for(var r=0,o=e[t].length;r<o;r++)if(!Ze(f.schema[t],ve(e[t][r]).toLowerCase()))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" is of type "+ve(e[t][r]).toLowerCase()+", but only the following are allowed in "+f.optsVarName+".schema: "+f.schema[t])}}else if(n(c)&&Object.prototype.hasOwnProperty.call(c,t)&&ve(e[t])!==ve(c[t])&&!Ze(f.ignoreKeys,t)){if(!f.acceptArrays||!s(e[t])||Ze(f.acceptArraysIgnore,t))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to "+JSON.stringify(e[t],null,4)+" which is not "+ve(c[t])+" but "+ve(e[t]));if(!e[t].every(function(e){return ve(e)===ve(c[t])}))throw new TypeError(f.msg+": "+f.optsVarName+"."+t+" was customised to be array, but not all of its elements are "+ve(c[t])+"-type")}})},mt="[object Object]",bt=Function.prototype,vt=Object.prototype,wt=bt.toString,_t=vt.hasOwnProperty,Ot=wt.call(Object),St=vt.toString,Tt=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object),jt=function(e){if(!fe(e)||St.call(e)!=mt||le(e))return!1;var t=Tt(e);if(null===t)return!0;var r=_t.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&wt.call(r)==Ot},kt=function(e,t){if(t){if("object"!==(void 0===t?"undefined":me(t)))throw new TypeError(String(t)+" is not an object. Expected an object that has boolean `includeZero` property.");if("includeZero"in t){if("boolean"!=typeof t.includeZero)throw new TypeError(String(t.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(t.includeZero&&0===e)return!0}}return Number.isSafeInteger(e)&&e>=1},Et=function(e,t){if("string"!=typeof e)return!1;if(t&&"includeZero"in t){if("boolean"!=typeof t.includeZero)throw new TypeError(String(t.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(t.includeZero)return/^(-?0|[1-9]\d*)(\.0+)?$/.test(e)}return/^[1-9]\d*(\.0+)?$/.test(e)},At=e(function(e,t){(t=e.exports=function(e){return e+t.suffix(+e)}).suffix=function(e){return 1===Math.floor(e/10)?"th":e%10==1?"st":e%10==2?"nd":e%10==3?"rd":"th"}}),It="function"==typeof Symbol&&"symbol"===me(Symbol.iterator)?function(e){return void 0===e?"undefined":me(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":me(e)},Nt=Array.isArray,Ct=function(e,t){if(0===arguments.length)throw new Error("string-replace-slices-array/srsa(): [THROW_ID_01] inputs missing!");if(!pe(e))throw new TypeError("string-replace-slices-array/srsa(): [THROW_ID_02] first input argument must be a string! Currently it's: "+(void 0===e?"undefined":It(e))+", equal to: "+e);if(!Nt(t))throw new TypeError("string-replace-slices-array/srsa(): [THROW_ID_03] second input argument must be an array! Currently it's: "+(void 0===t?"undefined":It(t))+", equal to: "+t);if(t.forEach(function(e,r){if(!Nt(e))throw new TypeError("string-replace-slices-array/srsa(): [THROW_ID_05] ranges array, second input arg., has "+r+At(r)+" element not an array: "+JSON.stringify(e,null,4)+", which is "+(void 0===e?"undefined":It(e)));if(!kt(e[0],{includeZero:!0})){if(!Et(e[0]))throw new TypeError("string-replace-slices-array/srsa(): [THROW_ID_06] ranges array, second input arg. has "+r+At(r)+" element, array ["+e[0]+","+e[1]+"]. That array has first element not an integer, but "+It(e[0])+", equal to: "+JSON.stringify(e[0],null,4)+". Computer doesn't like this.");t[r][0]=Number.parseInt(t[r][0],10)}if(!kt(e[1],{includeZero:!0})){if(!Et(e[1]))throw new TypeError("string-replace-slices-array/srsa(): [THROW_ID_07] ranges array, second input arg. has "+r+At(r)+" element, array ["+e[0]+","+e[1]+"]. That array has second element not an integer, but "+It(e[1])+", equal to: "+JSON.stringify(e[1],null,4)+". Computer doesn't like this.");t[r][1]=Number.parseInt(t[r][1],10)}}),t.length>0){var r=e.slice(t[t.length-1][1]);e=t.reduce(function(t,r,n,o){var i=0===n?0:o[n-1][1],a=o[n][0];return t+e.slice(i,a)+(ye(o[n][2])?o[n][2]:"")},""),e+=r}return e},xt="function"==typeof Symbol&&"symbol"===me(Symbol.iterator)?function(e){return void 0===e?"undefined":me(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":me(e)},Dt=Array.isArray,Ht=function(e,t){if(!Dt(e))throw new TypeError("ranges-sort: [THROW_ID_01] Input must be an array, consisting of range arrays! Currently its type is: "+(void 0===e?"undefined":xt(e))+", equal to: "+JSON.stringify(e,null,4));if(0===e.length)return e;var r={strictlyTwoElementsInRangeArrays:!1},n=Object.assign({},r,t);gt(n,r,{msg:"ranges-sort: [THROW_ID_02*]"});var o=void 0,i=void 0;if(n.strictlyTwoElementsInRangeArrays&&!e.every(function(e,t){return 2===e.length||(o=t,i=e.length,!1)}))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, "+At(o)+" range ("+JSON.stringify(e[o],null,4)+") has not two but "+i+" elements!");if(!e.every(function(e,t){return!(!kt(e[0],{includeZero:!0})||!kt(e[1],{includeZero:!0}))||(o=t,!1)}))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, "+At(o)+" range ("+JSON.stringify(e[o],null,4)+") does not consist of only natural numbers!");return Array.from(e).sort(function(e,t){return e[0]===t[0]?e[1]<t[1]?-1:e[1]>t[1]?1:0:e[0]<t[0]?-1:1})},Mt=function(e){if(!Array.isArray(e))return e;for(var t=Ht(e),r=t.length-1;r>=0;r--)r>0&&(t[r][0]<=t[r-1][0]||t[r][0]<=t[r-1][1])&&(t[r-1][0]=Math.min(t[r][0],t[r-1][0]),t[r-1][1]=Math.max(t[r][1],t[r-1][1]),void 0!==t[r][2]&&(void 0!==t[r-1][2]?t[r-1][2]+=t[r][2]:t[r-1][2]=t[r][2]),t.splice(r,1),r=t.length);return t},Lt=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Wt=function(){function e(){he(this,e)}return Lt(e,[{key:"add",value:function(){function e(e){return null!=e}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de(1),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de(2),n=arguments[2],o=Et(t)?parseInt(t,10):t,i=Et(r)?parseInt(r,10):r;if(!kt(o,{includeZero:!0}))throw new TypeError('string-slices-array-push/Slices/add(): [THROW_ID_02] "from" value, first input argument, must be a natural number or zero! Currently it\'s equal to: '+JSON.stringify(o,null,4));if(!kt(i,{includeZero:!0}))throw new TypeError('string-slices-array-push/Slices/add(): [THROW_ID_03] "to" value, second input argument, must be a natural number! Currently it\'s equal to: '+JSON.stringify(i,null,4));if(e(n)&&"string"!=typeof n)throw new TypeError('string-slices-array-push/Slices/add(): [THROW_ID_04] "addVal" value, third input argument, must be a string! Currently it\'s equal to: '+JSON.stringify(n,null,4));for(var a=arguments.length,u=Array(a>3?a-3:0),s=3;s<a;s++)u[s-3]=arguments[s];if(u.length>0)throw new TypeError("string-slices-array-push/Slices/add(): [THROW_ID_05] Please don't overload the add() method. From the 4th input argument onwards we see these redundant arguments: "+JSON.stringify(u,null,4));void 0!==this.slices&&o===this.last()[1]?(this.last()[1]=i,e(n)&&(this.last()[2]=e(this.last()[2])&&this.last()[2].length>0?this.last()[2]+n:n)):(this.slices||(this.slices=[]),this.slices.push(n?[o,i,n]:[o,i]))}},{key:"current",value:function(){return null!=this.slices?(this.slices=Mt(this.slices),this.slices):null}},{key:"wipe",value:function(){this.slices=void 0}},{key:"last",value:function(){return void 0!==this.slices&&Array.isArray(this.slices)?this.slices[this.slices.length-1]:null}}]),e}();return function(e,t){function r(e,t,r){return e.charCodeAt(0)>=t&&e.charCodeAt(0)<=r}function n(e){return"<"===e||""===e.trim()}function o(t,r){for(var o=arguments.length,i=Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];return i.some(function(o){return t.slice(r-o.length+1,r+1).toLowerCase()===o&&n(e[r-o.length])})}if("string"!=typeof e)throw new Error("string-collapse-white-space/collapse(): [THROW_ID_01] The input is not string but "+(void 0===e?"undefined":me(e))+", equal to: "+JSON.stringify(e,null,4));if(void 0!==t&&null!==t&&!jt(t))throw new Error("string-collapse-white-space/collapse(): [THROW_ID_02] The opts is not a plain object but "+(void 0===t?"undefined":me(t))+", equal to:\n"+JSON.stringify(t,null,4));if(0===e.length)return"";var i=new Wt,a={trimStart:!0,trimEnd:!0,trimLines:!1,trimnbsp:!1,recogniseHTML:!0},u=Object.assign({},a,t);gt(u,a,{msg:"string-collapse-white-space/collapse(): [THROW_ID_03*]"});var s=void 0;u.recogniseHTML&&(s=new Wt);var c=e,l=null,f=null,y=null,p=!1,h=!1,d=null,g=!1,m=!1,b=void 0,v=!1,w=!1;u.recogniseHTML&&(b={equalDoubleQuoteCombo:0,equalOnly:0,doubleQuoteOnly:0,spacesBetweenLetterChunks:0,linebreaks:0});for(var _=e.length;_--;)if(" "===e[_]?null===l&&(l=_):null!==l&&(_+1!==l&&i.add(_+1,l),l=null),""===e[_].trim()&&(!u.trimnbsp&&" "!==e[_]||u.trimnbsp)?(null===f&&(f=_),"\n"!==e[_]&&"\r"!==e[_]&&null===y&&(y=_+1),"\n"!==e[_]&&"\r"!==e[_]||(null!==y&&(u.trimLines&&i.add(_+1,y),y=null),"\n"!==e[_-1]&&"\r"!==e[_-1]&&(y=_,p=!0))):(null!==f&&(_+1!==f+1&&f===e.length-1&&u.trimEnd&&i.add(_+1,f+1),f=null),null!==y&&(p&&u.trimLines&&(p=!1,i.add(_+1,y)),y=null)),0===_&&(null!==f&&u.trimStart?i.add(0,f+1):null!==l&&i.add(_+1,l+1)),u.recogniseHTML)if(""===e[_].trim()){if(h&&!m&&(m=!0),g&&!d&&(d=_+1),g&&void 0!==e[_-1]&&""!==e[_-1].trim()&&"<"!==e[_-1]&&"/"!==e[_-1]&&(g=!1,h=!1,s.wipe()),!v&&!w&&""===e[_].trim()&&"<"!==e[_-1]&&(void 0===e[_+1]||""!==e[_+1].trim()&&"/"!==e[_+1].trim()))if(void 0===e[_-1]||""!==e[_-1].trim()&&"<"!==e[_-1]&&"/"!==e[_-1])b.spacesBetweenLetterChunks+=1;else for(var O=_-1;O--;)if(""!==e[O].trim()){"<"===e[O]?v=!0:b.spacesBetweenLetterChunks+=_-O;break}}else"="===e[_]?(b.equalOnly+=1,'"'===e[_+1]&&(b.equalDoubleQuoteCombo+=1)):'"'===e[_]&&(b.doubleQuoteOnly+=1),w&&(w=!1),null!==d&&(s.add(_+1,d),d=null),">"===e[_]?(b={equalDoubleQuoteCombo:0,equalOnly:0,doubleQuoteOnly:0,spacesBetweenLetterChunks:0,linebreaks:0},w=!0,h?s.wipe():(h=!0,void 0===e[_-1]||""!==e[_-1].trim()||d||(d=_)),m||(m=!0)):"<"===e[_]?(h=!1,v&&(v=!1),b.spacesBetweenLetterChunks>0&&0===b.equalDoubleQuoteCombo&&(g=!1,s.wipe()),g&&s.current()&&(s.current().forEach(function(e){var t=be(e,2),r=t[0],n=t[1];return i.add(r,n)}),g=!1),b={equalDoubleQuoteCombo:0,equalOnly:0,doubleQuoteOnly:0,spacesBetweenLetterChunks:0,linebreaks:0}):h&&"/"===e[_]?d=_:h&&!g&&(m&&r(e[_],97,122)?(m=!1,r(e[_],97,110)?("a"===e[_]&&("e"===e[_-1]&&o(e,_,"area","textarea")||"t"===e[_-1]&&o(e,_,"data","meta")||n(e[_-1]))||"b"===e[_]&&(o(e,_,"rb","sub")||n(e[_-1]))||"c"===e[_]&&o(e,_,"rtc")||"d"===e[_]&&("a"===e[_-1]&&o(e,_,"head","thead")||o(e,_,"kbd","dd","embed","legend","td"))||"e"===e[_]&&(o(e,_,"source")||"d"===e[_-1]&&o(e,_,"aside","code")||"l"===e[_-1]&&o(e,_,"table","article","title","style")||"m"===e[_-1]&&o(e,_,"iframe","time")||"r"===e[_-1]&&o(e,_,"pre","figure","picture")||"t"===e[_-1]&&o(e,_,"template","cite","blockquote")||o(e,_,"base")||n(e[_-1]))||"g"===e[_]&&o(e,_,"img","strong","dialog","svg")||"h"===e[_]&&o(e,_,"th","math")||"i"===e[_]&&(o(e,_,"bdi","li")||n(e[_-1]))||"k"===e[_]&&o(e,_,"track","link","mark")||"l"===e[_]&&o(e,_,"html","ol","ul","dl","label","del","small","col")||"m"===e[_]&&o(e,_,"param","em","menuitem","form")||"n"===e[_]&&("o"===e[_-1]&&o(e,_,"section","caption","figcaption","option","button")||o(e,_,"span","keygen","dfn","main")))&&(g=!0):("o"===e[_]&&o(e,_,"bdo","video","audio")||"p"===e[_]&&(n(e[_-1])||"u"===e[_-1]&&o(e,_,"hgroup","colgroup","optgroup","sup")||o(e,_,"map","samp","rp"))||"q"===e[_]&&n(e[_-1])||"r"===e[_]&&("e"===e[_-1]&&o(e,_,"header","meter","footer")||o(e,_,"var","br","abbr","wbr","hr","tr"))||"s"===e[_]&&("s"===e[_-1]&&o(e,_,"address","progress")||o(e,_,"canvas","details","ins")||n(e[_-1]))||"t"===e[_]&&("c"===e[_-1]&&o(e,_,"object","select")||"o"===e[_-1]&&o(e,_,"slot","tfoot")||"p"===e[_-1]&&o(e,_,"script","noscript")||"u"===e[_-1]&&o(e,_,"input","output")||o(e,_,"fieldset","rt","datalist","dt"))||"u"===e[_]&&(n(e[_-1])||o(e,_,"menu"))||"v"===e[_]&&o(e,_,"nav","div")||"y"===e[_]&&o(e,_,"ruby","body","tbody","summary"))&&(g=!0)):m&&r(e[_],49,54)?(m=!1,"h"!==e[_-1]||"<"!==e[_-2]&&""!==e[_-2].trim()||(g=!0)):"="!==e[_]&&'"'!==e[_]||(m=!1));return i.current()&&(c=Ct(e,i.current()),i.wipe(),i=void 0),c}});
